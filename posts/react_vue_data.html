<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Vue&amp;&amp;Reactçš„æ•°æ®æµç®¡ç† | Nightwishã®blogğŸ§Š</title><meta name="keywords" content="æ•°æ®æµç®¡ç†"><meta name="author" content="é£å„¿"><meta name="copyright" content="é£å„¿"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="ä¸€èµ·å­¦ä¹ ä¸‹ä¸»æµçš„æ•°æ®ç®¡ç†æ€æƒ³ï¼šFluxã€reduxã€Vuex"><meta property="og:type" content="article"><meta property="og:title" content="Vue&amp;&amp;Reactçš„æ•°æ®æµç®¡ç†"><meta property="og:url" content="https://mynightwish.online/posts/react_vue_data.html"><meta property="og:site_name" content="Nightwishã®blogğŸ§Š"><meta property="og:description" content="ä¸€èµ·å­¦ä¹ ä¸‹ä¸»æµçš„æ•°æ®ç®¡ç†æ€æƒ³ï¼šFluxã€reduxã€Vuex"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://mynightwish.oss-cn-beijing.aliyuncs.com/React/react-data.png"><meta property="article:published_time" content="2021-12-11T14:56:21.000Z"><meta property="article:modified_time" content="2023-01-17T11:47:30.982Z"><meta property="article:author" content="é£å„¿"><meta property="article:tag" content="æ•°æ®æµç®¡ç†"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://mynightwish.oss-cn-beijing.aliyuncs.com/React/react-data.png"><link rel="shortcut icon" href="https://mynightwish.oss-cn-beijing.aliyuncs.com/React/é›ªäºº.webp"><link rel="canonical" href="https://mynightwish.online/posts/react_vue_data"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"search.xml",languages:{hits_empty:"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!1,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"å¤åˆ¶æˆåŠŸ",error:"å¤åˆ¶é”™è¯¯",noSupport:"æµè§ˆå™¨ä¸æ”¯æŒ"},relativeDate:{homepage:!1,post:!1},runtime:"",date_suffix:{just:"åˆšåˆš",min:"åˆ†é’Ÿå‰",hour:"å°æ—¶å‰",day:"å¤©å‰",month:"ä¸ªæœˆå‰"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{jQuery:"https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js",justifiedGallery:{js:"/",css:"/"},fancybox:{js:"/",css:"/"}},isPhotoFigcaption:!1,islazyload:!0,isanchor:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Vue&&Reactçš„æ•°æ®æµç®¡ç†",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2023-01-17 19:47:30"}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const n=864e5*o,a={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise((t,o)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=o,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,t())},document.head.appendChild(n)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));const n=()=>{GLOBAL_CONFIG_SITE.isHome&&/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")};n(),document.addEventListener("pjax:complete",n)})(window)</script><link rel="stylesheet" href="/css/custom.css" media="async" onload='this.media="all"'><link rel="stylesheet" href="/css/double.css" media="async" onload='this.media="all"'><link rel="stylesheet" href="//at.alicdn.com/t/c/font_3859043_rw1ayonelb.css"><style id="rightSide"></style><style id="themeColor"></style><style id="defineBg"></style><style id="transPercent"></style><style id="blurNum"></style><style id="settingStyle"></style><link rel="stylesheet" href="/css/universe.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="/css/lastLoad.css" media="async" onload='this.media="all"'><svg aria-hidden="true" style="position:absolute;overflow:hidden;width:0;height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload='this.media="all"'><meta name="generator" content="Hexo 5.4.2"></head><body><div id="web_bg"><style>#web_bg{background:var(--default-bg);background-attachment:local;background-position:center;background-size:cover;background-repeat:no-repeat}[data-theme=dark] #web_bg{background:var(--darkmode-bg)!important;background-attachment:local!important;background-position:center!important;background-size:cover!important;background-repeat:no-repeat!important}</style></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://mynightwish.oss-cn-beijing.aliyuncs.com/React/avartor.webp" onerror='onerror=null,src="https://mynightwish.oss-cn-beijing.aliyuncs.com/staticResource/friend_404.gif"' alt="avatar"></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">112</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">91</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">14</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><i class="fa-fw icon-food-strawberry"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-food-strawberry"></use></svg><span>é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/categories/"><i class="fa-fw icon-food-eggyolkcake"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-food-eggyolkcake"></use></svg><span>åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/archives/"><i class="fa-fw icon-food-popsicle"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-food-popsicle"></use></svg><span>æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-food-doughnut"></use></svg><span>è¶³è¿¹</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/charts/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-xiangjiB"></use></svg><span>æ–‡ç« </span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-diannaoB"></use></svg><span>åª’ä½“</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-erjiB"></use></svg><span>éŸ³ä¹</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/movies/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-dianshijiB"></use></svg><span>è§†é¢‘</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/books/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shouyinjiB"></use></svg><span>ä¹¦ç±</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/comments/"><i class="fa-fw icon-food-macaron"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-food-macaron"></use></svg><span>ç•™è¨€æ¿</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://mynightwish.oss-cn-beijing.aliyuncs.com/React/react-data.png)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Nightwishã®blogğŸ§Š</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><i class="fa-fw icon-food-strawberry"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-food-strawberry"></use></svg><span>é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/categories/"><i class="fa-fw icon-food-eggyolkcake"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-food-eggyolkcake"></use></svg><span>åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/archives/"><i class="fa-fw icon-food-popsicle"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-food-popsicle"></use></svg><span>æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-food-doughnut"></use></svg><span>è¶³è¿¹</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/charts/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-xiangjiB"></use></svg><span>æ–‡ç« </span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-diannaoB"></use></svg><span>åª’ä½“</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-erjiB"></use></svg><span>éŸ³ä¹</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/movies/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-dianshijiB"></use></svg><span>è§†é¢‘</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/books/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shouyinjiB"></use></svg><span>ä¹¦ç±</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/comments/"><i class="fa-fw icon-food-macaron"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-food-macaron"></use></svg><span>ç•™è¨€æ¿</span></a></div></div><center id="name-container"><a id="page-name" href="javascript:scrollToTop()"></a></center><div id="nav-right"><div id="search-button"><a class="search faa-parent animated-hover" title="æ£€ç´¢ç«™å†…ä»»ä½•ä½ æƒ³è¦çš„ä¿¡æ¯"><svg class="faa-tada icon" style="height:28px;width:28px;fill:currentColor;position:relative" aria-hidden="true"><use xlink:href="#icon-sousuo"></use></svg><span>search.title</span></a></div><a class="meihua faa-parent animated-hover" onclick="toggleWinbox()" title="ç¾åŒ–è®¾ç½®-è‡ªå®šä¹‰ä½ çš„é£æ ¼" id="meihua-button"><svg class="faa-tada icon" style="height:28px;width:28px;fill:currentColor;position:relative;margin-left:25px;margin-right:25px" aria-hidden="true"><use xlink:href="#icon-food-cookie"></use></svg></a><a class="sun_moon faa-parent animated-hover" onclick="switchNightMode()" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢" id="nightmode-button"><svg class="faa-tada" style="height:28px;width:28px;fill:currentColor;position:relative" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-xiuxi"></use></svg></a><div id="toggle-menu"><a><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-info"><h1 class="post-title">Vue&amp;&amp;Reactçš„æ•°æ®æµç®¡ç†</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2021-12-11T14:56:21.000Z" title="å‘è¡¨äº 2021-12-11 22:56:21">2021-12-11</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2023-01-17T11:47:30.982Z" title="æ›´æ–°äº 2023-01-17 19:47:30">2023-01-17</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/1-4-%E6%A1%86%E6%9E%B6/">1.4-æ¡†æ¶</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">5945</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>20åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="Vue&amp;&amp;Reactçš„æ•°æ®æµç®¡ç†"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="Redux">Redux<a class="anchor" href="#Redux">Â·</a></h2><h3 id="1ã€Flux">1ã€Flux<a class="anchor" href="#1ã€Flux">Â·</a></h3><p>reduxçš„é—®é¢˜èƒŒæ™¯å’Œæ¶æ„æ€æƒ³æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>è™½ç„¶å®ƒå¹¶ä¸ä¸¥æ ¼éµå¾ªfluxçš„è®¾å®šï¼Œä½†Reduxå¯è¢«è®¤å®šä¸ºFluxçš„ä¸€ç§å®ç°æ–¹å¼</p><h4 id="1ã€Flux4éƒ¨åˆ†">1ã€Flux4éƒ¨åˆ†<a class="anchor" href="#1ã€Flux4éƒ¨åˆ†">Â·</a></h4><p>æœ‰FBæå‡ºçš„ä¸€å¥—åº”ç”¨æ¶æ„ï¼Œå¹¶ä¸æ˜¯ä¸€å¥—å…·ä½“çš„æ¡†æ¶ï¼Œè¿™å¥—æ¶æ„çº¦æŸçš„æ˜¯â€œåº”ç”¨å¤„ç†æ•°æ®çš„æ¨¡å¼â€ã€‚</p><p><strong>æŠŠç»„ä»¶ä¹‹é—´éœ€è¦å…±äº«çš„çŠ¶æ€æŠ½å–å‡ºæ¥ï¼Œéµå¾ªç‰¹å®šçš„çº¦å®šï¼Œç»Ÿä¸€æ¥ç®¡ç†ï¼Œè®©çŠ¶æ€çš„å˜åŒ–å¯ä»¥é¢„æµ‹</strong>ã€‚</p><p>åœ¨Fluxæ¶æ„ä¸­ï¼Œä¸€ä¸ªåº”ç”¨è¢«æ‹†è§£ä¸º4éƒ¨åˆ†ï¼š</p><ul><li><h4 id="Viewï¼šç”¨æˆ·ç•Œé¢ï¼Œå¯ä»¥ä»¥ä»»ä½•å½¢å¼å±•ç¤º">Viewï¼šç”¨æˆ·ç•Œé¢ï¼Œå¯ä»¥ä»¥ä»»ä½•å½¢å¼å±•ç¤º<a class="anchor" href="#Viewï¼šç”¨æˆ·ç•Œé¢ï¼Œå¯ä»¥ä»¥ä»»ä½•å½¢å¼å±•ç¤º">Â·</a></h4><ol><li>ç‰¹æ€§ï¼šstoreæ”¹å˜äº†VIewä¹Ÿè¦è·Ÿç€æ”¹å˜</li><li>å¦‚ä½•æ”¹å˜viewï¼šä¸€èˆ¬ Store ä¸€æ—¦å‘ç”Ÿæ”¹å˜ï¼Œéƒ½ä¼šå¾€å¤–é¢å‘é€ä¸€ä¸ªäº‹ä»¶ï¼Œæ¯”å¦‚ changeï¼Œé€šçŸ¥æ‰€æœ‰çš„è®¢é˜…è€…ã€‚View é€šè¿‡è®¢é˜…ä¹Ÿå¥½ï¼Œç›‘å¬ä¹Ÿå¥½ï¼Œä¸åŒçš„æ¡†æ¶æœ‰ä¸åŒçš„æŠ€æœ¯ï¼Œåæ­£ Store å˜äº†ï¼ŒView å°±ä¼šå˜ã€‚</li></ol></li><li><h4 id="Actionï¼šè§†å›¾å±‚å‘å‡ºçš„æ¶ˆæ¯ï¼Œä¼šè§¦å‘åº”ç”¨çŠ¶æ€çš„æ”¹å˜">Actionï¼šè§†å›¾å±‚å‘å‡ºçš„æ¶ˆæ¯ï¼Œä¼šè§¦å‘åº”ç”¨çŠ¶æ€çš„æ”¹å˜<a class="anchor" href="#Actionï¼šè§†å›¾å±‚å‘å‡ºçš„æ¶ˆæ¯ï¼Œä¼šè§¦å‘åº”ç”¨çŠ¶æ€çš„æ”¹å˜">Â·</a></h4><ol><li>å¿…é¡»ç»è¿‡ä¸€å¥—æµç¨‹ï¼Œè§†å›¾å…ˆè¦é€šè¿‡actionå‘Šè¯‰ Dispatcherï¼Œè®© Dispatcher dispatch ä¸€ä¸ª action</li><li>Dispatcher ä¼šæŠŠ addUser è¿™ä¸ª action å‘ç»™æ‰€æœ‰çš„ storeï¼Œstore å°±ä¼šè§¦å‘ addUser è¿™ä¸ª actionï¼Œæ¥æ›´æ–°æ•°æ®</li><li>æ•°æ®ä¸€æ›´æ–°ï¼Œé‚£ä¹ˆ View ä¹Ÿå°±è·Ÿç€æ›´æ–°äº†</li></ol></li><li><h4 id="Dispatcherï¼šæ´¾å‘å™¨ï¼Œè´Ÿè´£actionçš„æ´¾å‘">Dispatcherï¼šæ´¾å‘å™¨ï¼Œè´Ÿè´£actionçš„æ´¾å‘<a class="anchor" href="#Dispatcherï¼šæ´¾å‘å™¨ï¼Œè´Ÿè´£actionçš„æ´¾å‘">Â·</a></h4></li><li><h4 id="storeï¼šæ•°æ®å±‚ï¼Œåº”ç”¨çŠ¶æ€çš„ä»“åº“ï¼Œæ­¤å¤–è¿˜å®šä¹‰ä¿®æ”¹çŠ¶æ€çš„é€»è¾‘">storeï¼šæ•°æ®å±‚ï¼Œåº”ç”¨çŠ¶æ€çš„ä»“åº“ï¼Œæ­¤å¤–è¿˜å®šä¹‰ä¿®æ”¹çŠ¶æ€çš„é€»è¾‘<a class="anchor" href="#storeï¼šæ•°æ®å±‚ï¼Œåº”ç”¨çŠ¶æ€çš„ä»“åº“ï¼Œæ­¤å¤–è¿˜å®šä¹‰ä¿®æ”¹çŠ¶æ€çš„é€»è¾‘">Â·</a></h4></li></ul><h4 id="2ã€Fluxå·¥ä½œæµ">2ã€Fluxå·¥ä½œæµ<a class="anchor" href="#2ã€Fluxå·¥ä½œæµ">Â·</a></h4><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/12/18/167c11c13ef4e9a8~tplv-t2oaga2asx-watermark.awebp" alt="image.png | center | 827x250" style="zoom:50%"><ol><li>ç”¨æˆ·ä¸ viewä¹‹é—´äº§ç”Ÿäº¤äº’ï¼Œé€šè¿‡viewå‘èµ·ä¸€ä¸ªactionï¼Œé€šè¿‡dispatchä¼šæŠŠè¯¥actionæ´¾å‘ç»™storeï¼Œé€šè¿‡storeç›¸åº”çš„çŠ¶æ€æ›´æ–°</li><li>storeå®Œæˆæ›´æ–°åï¼Œä¼šè¿›ä¸€æ­¥é€šçŸ¥Viewæ›´æ–°ç•Œé¢ï¼›</li></ol><p>ã€æ³¨æ„ã€‘ï¼šå›¾ä¸­çš„ç®­å¤´éƒ½æ˜¯å•å‘çš„ï¼Œè¿™ä¹Ÿæ˜¯Fluxæ¶æ„ä¸€ä¸ªç‰¹ç‚¹ï¼Œ<strong>å•å‘æ•°æ®æµ</strong></p><h4 id="3ã€Fluxè§£å†³äº†ä»€ä¹ˆ">3ã€Fluxè§£å†³äº†ä»€ä¹ˆ<a class="anchor" href="#3ã€Fluxè§£å†³äº†ä»€ä¹ˆ">Â·</a></h4><p>Fluxçš„æ ¸å¿ƒç‰¹å¾æ˜¯ï¼š<strong>å•å‘æ•°æ®æµ</strong>ï¼Œé‚£ä¹ˆåŒå‘æ•°æ®æµä¼šæœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ</p><ol><li><p>å…¸å‹åº”ç”¨åœºæ™¯ï¼šMVCæ¶æ„ï¼Œ</p><ul><li><p>é™¤äº†é€šè¿‡ç”¨æˆ·é€šè¿‡viewå±‚æ¥è§¦å‘æ•°æ®ä»¥å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡controlæ¥è§¦å‘é€»è¾‘</p></li><li><p>modelï¼šç¨‹åºéœ€è¦æ“ä½œçš„æ•°æ®æˆ–ä¿¡æ¯ï¼›</p></li><li><p>viewè§†å›¾ï¼šè§†å›¾</p></li><li><p>controllerï¼šæ§åˆ¶å™¨ï¼Œç”¨äºè¿æ¥viewå’Œmodelï¼Œç®¡ç†modelä¸viewä¹‹é—´çš„é€»è¾‘</p></li><li><p>ç”¨æˆ·æ“ä½œviewåï¼Œcontrolæ¥å¤„ç†é€»è¾‘ï¼Œå°†æ”¹å˜åº”ç”¨åˆ°modelä¸Šï¼Œå†åé¦ˆåˆ°viewä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ˜¯å•å‘çš„ã€‚åœ¨æœåŠ¡ç«¯çš„åº”ç”¨ä¸­ï¼Œæ•°æ®æµç¡®å®èƒ½å¤Ÿä¿æŒå•å‘ã€‚ä½†æ˜¯åœ¨å‰ç«¯åœºæ™¯ä¸‹ï¼Œå¤„äºäº¤äº’çš„éœ€è¦å¾€å¾€å…è®¸viewå’Œmodelè¿›è¡Œç›´æ¥é€šä¿¡ã€‚è¿™å°±å…è®¸äº†æ•°æ®æµçš„å­˜åœ¨ï¼Œå½“ä¸šåŠ¡åœºæ™¯æ¯”è¾ƒå¤æ‚æ—¶ï¼Œæ•°æ®æµå°±ä¼šæ¯”è¾ƒæ··ä¹±ï¼Œå‡ºç°è¿™æ ·ï¼š</p><p>è¿™æ ·å³ä½¿ä¸€ä¸ªå°å°çš„ä¿®æ”¹ï¼Œä¹Ÿå¯èƒ½é€ æˆè´è¶æ•ˆåº”é—®é¢˜ã€‚å› ä¸ºä½ å¾ˆéš¾åŒºåˆ†æ•°æ®æ˜¯å“ªä¸ªcontrolï¼Œå“ªä¸ªviewå¼•å‘çš„ã€‚</p></li></ul></li><li><p><strong>è€ŒFluxçš„æ¶æ„æ¨¡å¼ï¼Œæœ€æ ¸å¿ƒçš„æ˜¯ä¸¥æ ¼çš„å•å‘æ•°æ®æµï¼Œåœ¨å•å‘æ•°æ®æµä¸‹ï¼ŒçŠ¶æ€çš„å˜åŒ–æ˜¯å¯é¢„æµ‹çš„ï¼Œé¿å…äº†æ··ä¹±çš„æ•°æ®ç»“æ„</strong></p></li><li><p>ç¼ºç‚¹ï¼š</p><ol><li><p>å¯¹æ•°æ®æµçº¦æŸçš„èƒŒåæ˜¯æˆæœ¬ï¼Œå› æ­¤ä¹Ÿåªåœ¨å¤§å‹çš„é¡¹ç›®ä¸­æ‰ä¼šä½¿ç”¨ï¼Œè¿™ä¸€ç‚¹å¯¹reduxä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p><p>Store å°è£…äº†æ•°æ®è¿˜æœ‰å¤„ç†æ•°æ®çš„é€»è¾‘ç­‰ç­‰</p></li><li><p>æ¯”å¦‚ä¸€ä¸ªåº”ç”¨å¯ä»¥æ‹¥æœ‰å¤šä¸ª Storeï¼Œå¤šä¸ªStoreä¹‹é—´å¯èƒ½æœ‰ä¾èµ–å…³ç³»ï¼›</p></li></ol></li></ol><h3 id="2ã€Redux">2ã€Redux<a class="anchor" href="#2ã€Redux">Â·</a></h3><p>å®ƒä¸Fluxè®¾è®¡æ€æƒ³ä¸Šä¸€è„‰ç›¸æ‰¿</p><p>å®˜ç½‘æè¿°ï¼šæ˜¯JSçš„çŠ¶æ€å®¹å™¨ï¼Œå®ƒæä¾›å¯é¢„æµ‹çš„çŠ¶æ€ç®¡ç†ï¼›Vueã€Reactå¯ä»¥ç”¨</p><img src="https://tomoya92.github.io/assets/2021-04-29-09-56-16.png" alt="img" style="zoom:50%"><h4 id="1ã€è§’è‰²ï¼š">1ã€è§’è‰²ï¼š<a class="anchor" href="#1ã€è§’è‰²ï¼š">Â·</a></h4><ul><li>storeï¼šå•ä¸€çš„æ•°æ®æºï¼Œè€Œä¸”æ˜¯åªè¯»çš„ï¼›</li><li>actionï¼šå¯¹å˜åŒ–çš„æè¿°</li><li>reducerï¼šè´Ÿè´£å¯¹å˜åŒ–è¿›è¡Œåˆ†å‘ã€å¤„ç†</li></ul><p>åœ¨Reduxçš„æ•´ä¸ªå·¥ä½œè¿‡ç¨‹ä¸­ï¼Œæ•°æ®æµæ˜¯ä¸¥æ ¼å•å‘çš„ï¼Œå¾ˆé‡è¦ä¸€å®šè¦è¯´ï¼ï¼ï¼</p><ul><li>å¦‚æœæƒ³ä¿®æ”¹æ•°æ®ï¼Œåªæœ‰ä¸€ç§æ–¹å¼ï¼šæ´¾å‘actionï¼Œactionä¼šè¢«reducerè¯»å–ï¼Œè¿›è€Œæ ¹æ®actionçš„ä¸åŒå¯¹æ•°æ®ä¿®æ”¹ï¼Œè¿”å›æ–°çš„stateï¼Œæ–°çš„stateä¼šæ›´æ–°åˆ°storeé‡Œï¼Œè¿›è€Œé©±åŠ¨è§†å›¾å±‚åšå‡ºå¯¹åº”çš„æ”¹å˜ï¼›</li><li>å› æ­¤ï¼Œä»»ä½•ç»„ä»¶éƒ½å¯ä»¥é€šè¿‡storeè¯»å–åˆ°å…¨å±€çš„çŠ¶æ€ï¼›ä¹Ÿå¯ä»¥é€šè¿‡åˆç†åœ°æ´¾å‘actionï¼Œæ¥ä¿®æ”¹å…¨å±€çš„çŠ¶æ€ã€‚reduxæä¾›äº†çŠ¶æ€å®¹å™¨ï¼Œä½¿å¾—çŠ¶æ€èƒ½å¤Ÿè‡ªç”±åœ°åœ¨ç»„ä»¶ä¹‹é—´ç©¿æ¢­ï¼›è¿™å°±æ˜¯reduxå®ç°çš„æ€è·¯ã€‚</li></ul><h4 id="2ã€reduxå·¥ä½œæµ">2ã€reduxå·¥ä½œæµ<a class="anchor" href="#2ã€reduxå·¥ä½œæµ">Â·</a></h4><ol><li><p>createStoreï¼šä½¿ç”¨createStoreåˆ›å»ºåŒ…å«æŒ‡å®šreducerçš„storeå¯¹è±¡</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>)   <span class="keyword">import</span> &#123;createStore&#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span></span><br><span class="line"><span class="number">2</span>)   <span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">&#x27;./reducers&#x27;</span></span><br><span class="line"><span class="number">3</span>)   <span class="keyword">const</span> store = <span class="title function_">createStore</span>(reducer)</span><br></pre></td></tr></table></figure></li><li><p>reducerçš„ä½œç”¨ï¼šå°†æ–°çš„stateè¿”å›ç»™store</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">reducer</span>=  (<span class="params">state, action</span>) =&gt; &#123;</span><br><span class="line">	<span class="keyword">return</span> new_state;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>action:é€šçŸ¥reducerï¼Œè®©æ”¹å˜å‘ç”Ÿ</p><p>å¦‚ä½•åœ¨ä¼—å¤šçš„storeçŠ¶æ€åº“ä¸­ï¼Œå‡†ç¡®åœ°å¸Œæœ›ä»–æ”¹å˜stateå‘¢ï¼Ÿå°†actionå¯¹æ¯”ï¼Œå› æ­¤å¿…é¡»è¦ç”¨æ­£ç¡®çš„action</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> action = &#123;</span><br><span class="line">	<span class="attr">type</span>: <span class="string">&#x27;add_mm&#x27;</span>,</span><br><span class="line">	<span class="attr">payload</span>: <span class="string">&quot;ss&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>actionåªæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¦æƒ³è®©actionçœŸæ­£äº§ç”ŸåŠ¨ä½œï¼Œè¿˜è¦é storeçš„dispatch</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">store.<span class="title function_">dispatch</span>(action);</span><br></pre></td></tr></table></figure></li></ol><h3 id="3ã€reduxæºç åˆ†æ">3ã€reduxæºç åˆ†æ<a class="anchor" href="#3ã€reduxæºç åˆ†æ">Â·</a></h3><ul><li>utilsæ–‡ä»¶å¤¹ï¼šå·¥å…·æ–¹æ³•åº“</li><li>index.jsï¼šå…¥å£æ–‡ä»¶ï¼Œä¸»è¦åšæ¨¡å—å¯¼å‡º</li><li>çœŸæ­£å¹²æ´»çš„æ–‡ä»¶ï¼š<ul><li>applyMiddleWare.jsï¼šä¸­é—´ä»¶æ¨¡å—ï¼Œå°†åœ¨åé¢å•ç‹¬è®²è§£</li><li>bingActionCreator.jsï¼šç”¨äºå°†ä¼ å…¥çš„actionCreatorä¸dispatchæ–¹æ³•ç›¸ç»“åˆï¼Œæ‰æˆä¸€ä¸ªæ–°çš„æ–¹æ³•ã€‚å·¥å…·æ€§è´¨çš„æ–¹æ³•ï¼ˆå³ä½¿ä¸ç†è§£å®ƒä¹Ÿä¸å½±å“äº†è§£reduxï¼‰</li><li>combineReducer.jsï¼šç”¨äºå°†å¤šä¸ªreduceråˆå¹¶èµ·æ¥ã€‚å·¥å…·æ€§è´¨çš„æ–¹æ³•</li><li>compose.jsï¼šç”¨äºæŠŠæ¥æ”¶åˆ°çš„å‡½æ•°ï¼Œä»å³å‘å·¦è¿›è¡Œç»“åˆã€‚å·¥å…·æ€§è´¨çš„æ–¹æ³•</li><li><strong>createStore.jsï¼šäº†è§£reduxçš„ä¸»è¦æ¨¡å—ã€‚ä½¿ç”¨reduxæœ€å…ˆè°ƒç”¨çš„æ–¹æ³•ï¼Œæ˜¯æ•´ä¸ªæµç¨‹çš„å…¥å£ï¼Œä¹Ÿæ˜¯Reduxä¸­æœ€æ ¸å¿ƒçš„API</strong></li></ul></li></ul><h4 id="1ã€createStore-jsåˆ†æ">1ã€createStore.jsåˆ†æ<a class="anchor" href="#1ã€createStore-jsåˆ†æ">Â·</a></h4><ul><li>ä½¿ç”¨</li></ul><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">createStore</span>(</span><br><span class="line">  reducer,   </span><br><span class="line">  initial_state, <span class="comment">//åˆå§‹çŠ¶æ€å†…å®¹</span></span><br><span class="line">  <span class="title function_">applyMiddleware</span>(middleware1, middleware2,...)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><ul><li>æºç æˆªå›¾ <img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211127225633907.png" alt="image-20211127225633907" style="zoom:15%"><img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211127225732058.png" alt="image-20211127225732058" style="zoom:15%"> <img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211127225800737.png" alt="image-20211127225800737" style="zoom:15%"><img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211127230121583.png" alt="image-20211127230121583" style="zoom:15%"> <img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211127230134769.png" alt="image-20211127230134769" style="zoom:15%"><img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211127230309854.png" alt="image-20211127230309854" style="zoom:15%"> <img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211127230558433.png" alt="image-20211127230558433" style="zoom:15%"><img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211127230626348.png" alt="image-20211127230626348" style="zoom:15%"> <img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211127230634791.png" alt="image-20211127230634791" style="zoom:15%"><img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211127230646868.png" alt="image-20211127230646868" style="zoom:15%"></li></ul><h5 id="1ã€æ•´ä½“æµç¨‹">1ã€æ•´ä½“æµç¨‹<a class="anchor" href="#1ã€æ•´ä½“æµç¨‹">Â·</a></h5><img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211127230657392.png" alt="image-20211127230657392" style="zoom:33%"> <img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211127230746655.png" alt="image-20211127230746655" style="zoom:33%"><ul><li><p>ä¸reduxä¸»æµç¨‹å¼ºç›¸å…³çš„ï¼Œä¹Ÿæ˜¯ä½¿ç”¨è¾ƒå¤šçš„ï¼šgetStateã€subscribeã€dispatch</p><p>getStateçš„æºç ï¼š</p><p>subscribeã€dispatchï¼šå…³é”®çš„åˆ†å‘åŠ¨ä½œï¼Œæœ€æ ¸å¿ƒçš„</p></li></ul><h4 id="2ã€dispatch">2ã€dispatch<a class="anchor" href="#2ã€dispatch">Â·</a></h4><h5 id="æºç ">æºç <a class="anchor" href="#æºç ">Â·</a></h5><p>reduxå…³é”®è¦ç´ ï¼šaction reducer store è€Œdispatchåˆšå¥½èƒ½å¤Ÿå°†è¿™ä¸‰ä½ä¸»è§’ä¸²èµ·æ¥ï¼š</p><p><img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211127230309854.png" alt="image-20211127230309854" style="zoom:20%"><img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211127230558433.png" alt="image-20211127230558433" style="zoom:20%"><img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211127230626348.png" alt="image-20211127230626348" style="zoom:20%"></p><h5 id="dispatchæ ¸å¿ƒå·¥ä½œæµ">dispatchæ ¸å¿ƒå·¥ä½œæµ<a class="anchor" href="#dispatchæ ¸å¿ƒå·¥ä½œæµ">Â·</a></h5><img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211127232248297.png" alt="image-20211127232248297" style="zoom:25%"><p><strong>é€šè¿‡ä¸Šé”é¿å…å¥—å¨ƒå¼çš„dispatch</strong></p><p>æœ€å…³é”®çš„æ˜¯æ‰§è¡Œreducerï¼Œå®ƒé€šè¿‡reducerçš„æ›´æ–°è§„åˆ™ï¼ŒæŒ‡å®šäº†åº”ç”¨çŠ¶æ€çš„å˜åŒ–å¦‚ä½•å“åº”actionï¼Œå¹¶å‘é€åˆ°storeã€‚currentReduceråŒ…è£¹çš„tryéƒ¨åˆ†ä»£ç </p><ul><li><p>åœ¨è°ƒç”¨dispatchä¹‹å‰ä¼šé€šè¿‡isDispatchingå˜é‡è®¾ç½®ä¸ºtrueï¼Œå¾…reduceræ‰§è¡Œå®Œæ¯•åï¼Œå†å°†isDispatchingå˜é‡è®¾ç½®ä¸ºfalseï¼›è¿™è·ŸsetStateçš„æ‰¹å¤„ç†ä¹Ÿå¾ˆç›¸ä¼¼</p></li><li><p>è¿™é‡Œè¿™æ ·åšçš„ç›®çš„æ˜¯ï¼š<strong>é¿å…å¥—å¨ƒå¼çš„dispatch</strong>ï¼Œä¹Ÿå°±æ˜¯é¿å…å¼€å‘è€…åœ¨å¼€å‘ä¸­æ‰‹åŠ¨è°ƒç”¨dispatch</p></li><li><p><strong>ä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡å‘¢ï¼Ÿ</strong></p><p>reduxåœ¨è®¾è®¡reduceræ—¶å°±å¼ºè°ƒäº†å®ƒå¿…é¡»æ˜¯çº¯å‡€çš„ï¼Œå®ƒä¸åº”è¯¥æ‰§è¡Œé™¤äº†è®¡ç®—ä¹‹å¤–çš„ä»»ä½•è„æ“ä½œã€‚dispatchæ˜¯ä¸€ä¸ªè„æ“ä½œï¼›</p><p>å…¶æ¬¡ä»æ‰§è¡Œçš„è§’åº¦çœ‹ï¼Œè‹¥çœŸçš„åœ¨reducerä¸­è°ƒç”¨dispatchï¼Œé‚£ä¹ˆdispatchåˆä¼šè¿”è¿‡æ¥è°ƒç”¨reducerã€reduceråˆä¼šå†æ¬¡è°ƒç”¨ï¼Œé™·å…¥æ­»å¾ªç¯ã€‚</p><p>å› æ­¤ï¼Œåœ¨dispatchä¸­åšäº†ifåˆ¤æ–­ï¼Œä¸€æ—¦è¯†åˆ«isDispatchingä¸ºtrueï¼Œç›´æ¥æŠ›é”™</p></li></ul><h4 id="3ã€subscribeè§¦å‘è®¢é˜…">3ã€subscribeè§¦å‘è®¢é˜…<a class="anchor" href="#3ã€subscribeè§¦å‘è®¢é˜…">Â·</a></h4><p>åœ¨reduceræ‰§è¡Œå®Œæ¯•åï¼Œä¼šè§¦å‘è®¢é˜…æ‰§è¡Œçš„è¿‡ç¨‹ã€‚</p><img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211127230626348.png" alt="image-20211127230626348" style="zoom:20%"><ul><li><p>subscribeè¿™ä¸ªAPIæ‰§è¡Œè®¢é˜…ã€‚æ¥æ”¶ä¸€ä¸ªfunctionç±»å‹çš„listeneråšå…¥å‚ï¼Œè¿”å›æ˜¯å¯¹åº”listenerçš„è§£ç»‘å‡½æ•°</p><p>å› ä¸ºreduxä¸­å·²ç»é»˜è®¤äº†è®¢é˜…çš„å¯¹è±¡å°±æ˜¯<strong>çŠ¶æ€çš„å˜åŒ–</strong>ï¼Œå‡†ç¡®æ¥è¯´æ˜¯dispatchå‡½æ•°çš„è°ƒç”¨è¿™ä¸ªäº‹ä»¶</p></li><li><p>subscribeçš„å·¥ä½œæµç¨‹ï¼š</p><img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211127234248963.png" alt="image-20211127234248963" style="zoom:25%"></li></ul><p><strong>é—®é¢˜ï¼š</strong></p><ol><li><p><strong>subscribeæ˜¯å¦‚ä½•ä¸reduxä¸»æµç¨‹ç›¸ç»“åˆçš„å‘¢ï¼Ÿ</strong></p><p>åœ¨storeå¯¹è±¡åˆ›å»ºæˆåŠŸåï¼Œé€šè¿‡è°ƒç”¨store.subscribeæ¥æ³¨å†Œç›‘å¬å‡½æ•°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡subscribeçš„è¿”å›å‡½æ•°æ¥è§£ç»‘ç›‘å¬å‡½æ•°ã€‚</p><p>listenersæ•°ç»„ç”¨æ¥ç»´æŠ¤ç›‘å¬å‡½æ•°ã€‚</p><p>å½“diapatch actionå‘ç”Ÿå˜åŒ–æ—¶ï¼Œreduxä¼šåœ¨reduceræ‰§è¡Œå®Œæ¯•åï¼Œå°†listenersæ•°ç»„ä¸­çš„ç›‘å¬å‡½æ•°é€ä¸ªæ‰§è¡Œã€‚</p></li><li><p>ä¸ºä»€ä¹ˆä¼šæœ‰currentListenersã€nextListenersè¿™ä¸¤ä¸ªæ•°ç»„å‘¢ï¼Ÿ</p><p>reduxä¸­çš„è®¢é˜…è¿‡ç¨‹å’Œå‘å¸ƒè¿‡ç¨‹æ˜¯å¦‚ä½•å¤„ç†æ•°ç»„çš„ï¼Ÿ</p><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> nextListeners = currentListeners;<span class="comment">// äºŒè€…æŒ‡å‘åŒä¸€ä¸ªå¼•ç”¨</span></span><br></pre></td></tr></table></figure><img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211127225732058.png" alt="image-20211127225732058" style="zoom:25%"><ul><li><p>ä½†ensureCanMutateNextListeneræ¯æ¬¡éƒ½ä¼šåœ¨æ³¨å†Œlistenerä¹‹å‰æ— æ¡ä»¶è°ƒç”¨ï¼šç”¨æ¥ç¡®ä¿ä¸¤ä¸ªæ•°ç»„å¼•ç”¨ä¸åŒã€‚</p></li><li><p>åœ¨è¿™ä¸ªå‡½æ•°æ‰§è¡Œçš„æ˜¯listenerçš„æ³¨å†Œé€»è¾‘ï¼š nextListener.push(listener)ï¼Œæ³¨å†Œåˆ°è¿™ä¸ªæ•°ç»„ä¸­ã€‚</p></li><li><p>è§¦å‘è®¢é˜…çš„é€»è¾‘ï¼š</p><p>åœ¨è§¦å‘è®¢é˜…çš„è¿‡ç¨‹ä¸­ï¼ŒcurrentListenersä¼šè¢«èµ‹å€¼ä¸ºnextListenerï¼Œè€Œå³å°†è¢«æ‰§è¡Œçš„æ•°ç»„listenersåˆè¢«èµ‹å€¼ä¸ºcurrentListenersã€‚å› æ­¤æœ€ç»ˆè¢«æ‰§è¡Œçš„æ•°ç»„æŒ‡å‘nextListenerçš„åŒä¸€ä¸ªå¼•ç”¨ã€‚</p><img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211127230626348.png" alt="image-20211127230626348" style="zoom:20%"><p>æ—¢ç„¶æ³¨å†Œç›‘å¬ä½¿ç”¨nextListenerã€è§¦å‘è®¢é˜…ä¹Ÿæ˜¯nextListenerã€‚<strong>ä¸ºä»€ä¹ˆè¿˜éœ€è¦currentListenersæ•°ç»„å‘¢ï¼Ÿ</strong></p><p>currentListenersç”¨äºç¡®ä¿ç›‘å¬å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­çš„ç¨³å®šæ€§ã€‚å› ä¸ºä»»ä½•å˜æ›´éƒ½æ˜¯åœ¨nextListenerä¸Šå‘ç”Ÿçš„ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªä¸ä¼šè¢«å˜æ›´çš„ç¨³å®šçš„listenerä¿è¯ä¸å‡ºä¹±å­</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">listenerA</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line"><span class="keyword">let</span> unSubscribeA = store.<span class="title function_">subscribe</span>(listenerA);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">listenerB</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="title function_">unSubscribeA</span>();<span class="comment">//åœ¨Bä¸­è§£ç»‘A</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">listenerC</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">store.<span class="title function_">subscribe</span>(listenerB);<span class="comment">//è®¢é˜…B</span></span><br><span class="line">store.<span class="title function_">subscribe</span>(listenerC);<span class="comment">//è®¢é˜…C</span></span><br></pre></td></tr></table></figure><ul><li><p>è¿™ç§æ“ä½œåœ¨reduxæ˜¯åˆæ³•çš„ã€‚æ‰§è¡Œå®Œæ¯•åï¼Œlistenersæ•°ç»„ä¸­[listenerA, listenerB, listenerC]</p></li><li><p>è§¦å‘è®¢é˜…é€»è¾‘ï¼šéå†listeneræ•°ç»„ï¼Œåˆ†åˆ«æ‰§è¡Œè‡ªå·±çš„å‡½æ•°ã€‚è€ŒlistenerBä¸­æ‰§è¡Œäº†unSubscribeAè¿™ä¸ªåŠ¨ä½œï¼Œè€Œç›‘å¬ã€è§¦å‘ã€è§£ç»‘è§¦å‘å½±å“çš„éƒ½æ˜¯nextListeneræ•°ç»„</p><img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211127230134769.png" alt="image-20211127230134769" style="zoom:25%"></li><li><p>å‡å¦‚ä¸è¦currentListenersè¿™ä¸ªæ•°ç»„ï¼Œä¹Ÿå°±ä¸éœ€è¦æ‰§è¡Œè§£ç»‘å‡½æ•°ä¸­çš„ensureCanMutateNextListenerè¿™ä¸ªè°ƒç”¨ã€‚è€Œæ²¡æœ‰è¿™ä¸ªåŠ¨ä½œï¼ŒunSubscribeAæ‰§è¡Œå®Œä¹‹åï¼ŒlistenerAä¼šåŒæ—¶ä»listenersæ•°ç»„å’ŒnextListeneræ•°ç»„ä¸­ç§»é™¤ï¼Œé‚£ä¹ˆlistenersæ•°ç»„å°±åªå‰©ä¸‹listenerBã€listenerCã€‚ä¹Ÿå°±æ˜¯listenersæ•°ç»„çš„é•¿åº¦å‘ç”Ÿäº†æ”¹å˜ï¼Œä½†forå¾ªç¯å¹¶ä¸ä¼šæ„ŸçŸ¥åˆ°ï¼Œå®ƒå°†ç»§ç»­å¾ªç¯ä¸‹å»ã€‚ä¸‹ä¸€æ­¥ç´¢å¼•å¯¹åº”çš„ä¼šå‡ºç°undefinedï¼Œè¿›è€Œå¯¼è‡´å‡½æ•°å¼‚å¸¸ã€‚</p></li></ul></li><li><p>é‚£æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><ul><li><p>å› æ­¤éœ€è¦å°†å½“å‰æ­£åœ¨æ‰§è¡Œçš„listenersæ•°ç»„ä¸nextListeneræ•°ç»„éš”ç¦»å¼€ï¼Œå°†ä¸¤è€…æŒ‡å‘ä¸åŒçš„å¼•ç”¨ã€‚è¿™ä¹Ÿæ˜¯ensureCanMutateNextListeneræ‰€æ‰§è¡Œçš„äº‹æƒ…ï¼Œè¿™ä¸ªå‡½æ•°æ‰§è¡Œå‰ï¼šä¸‰è€…å…³ç³»ï¼š</p><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">listeners === nextListener === currentListeners</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œåï¼šnextListenerä¸Šçš„ä»»ä½•æ”¹å˜éƒ½æ— æ³•å†å½±å“æ­£åœ¨æ‰§è¡Œä¸­çš„listenersã€‚è€ŒcurrentListenerså°±æ˜¯ä¸ºäº†è®°å½•ä¸‹å½“å‰æ­£åœ¨å·¥ä½œä¸­çš„listenersæ•°ç»„çš„å¼•ç”¨ï¼Œå°†å®ƒä¸å¯èƒ½å‘ç”Ÿæ”¹å˜çš„nextListeneråŒºåˆ†å¼€æ¥ï¼Œä»¥ç¡®ä¿ç›‘å¬å‡½æ•°åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­çš„ç¨³å®šæ€§</p><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">nextListener = currentListeners.<span class="title function_">slice</span>()</span><br><span class="line">listeners === nextListener !== currentListeners</span><br></pre></td></tr></table></figure></li></ul></li></ul></li></ol><h3 id="4ã€reduxä¸­é—´ä»¶">4ã€reduxä¸­é—´ä»¶<a class="anchor" href="#4ã€reduxä¸­é—´ä»¶">Â·</a></h3><h4 id="1ã€ç”¨æ³•">1ã€ç”¨æ³•<a class="anchor" href="#1ã€ç”¨æ³•">Â·</a></h4><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore, applyMiddleware &#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">createStore</span>(</span><br><span class="line">  reducer,   </span><br><span class="line">  initial_state, <span class="comment">//åˆå§‹çŠ¶æ€å†…å®¹</span></span><br><span class="line">  <span class="title function_">applyMiddleware</span>(middleware1, middleware2,...)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h4 id="2ã€ä¸­é—´ä»¶çš„å¼•å…¥ï¼Œä¸ºreduxå·¥ä½œæµå¸¦æ¥ä»€ä¹ˆæ”¹å˜ï¼Ÿ">2ã€ä¸­é—´ä»¶çš„å¼•å…¥ï¼Œä¸ºreduxå·¥ä½œæµå¸¦æ¥ä»€ä¹ˆæ”¹å˜ï¼Ÿ<a class="anchor" href="#2ã€ä¸­é—´ä»¶çš„å¼•å…¥ï¼Œä¸ºreduxå·¥ä½œæµå¸¦æ¥ä»€ä¹ˆæ”¹å˜ï¼Ÿ">Â·</a></h4><ul><li><p>redux-thunk ç»å…¸çš„<strong>å¼‚æ­¥actionåœºæ™¯</strong></p><p>åœ¨reduxæºç ä¸­å¯ä»¥çœ‹å‡ºï¼Œåªæœ‰åŒæ­¥æ“ä½œï¼Œå½“æˆ‘ä»¬dispatchä¸€ä¸ªactionæ—¶ï¼Œä¼šç«‹å³æ›´æ–°ï¼Œå› æ­¤å¦‚æœæƒ³åœ¨reduxä¸­å¼•å…¥å¼‚æ­¥æ•°æ®æµï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ</p><p>ä½¿ç”¨ä¸­é—´ä»¶æ¥æ”¯æŒï¼Œå…¶ä¸­æœ€å—æ¬¢è¿çš„æ˜¯redux-thunk</p><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> thunkMiddleWare <span class="keyword">for</span> <span class="string">&#x27;redux-thunk&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">&#x27;./reducer.js&#x27;</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">createStore</span>(reducer, <span class="title function_">applyMiddleware</span>(thunkMiddleware));</span><br></pre></td></tr></table></figure></li><li><p>å¼‚æ­¥actionçš„ä¾‹å­ï¼š</p><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore, applyMiddleware &#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> thunk <span class="keyword">for</span> <span class="string">&#x27;redux-thunk&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">&#x27;./reducer.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">createStore</span>(reducer, <span class="title function_">applyMiddleware</span>(thunk));</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">payMoney</span> = payInfo =&gt; <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">dispatch</span>(&#123;<span class="attr">type</span>: <span class="string">&#x27;payStart&#x27;</span>&#125;);</span><br><span class="line">  <span class="title function_">fetch</span>().<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">dispatch</span>();</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> axios.<span class="title function_">post</span>(<span class="string">&#x27;./api/payMoney&#x27;</span>, &#123;</span><br><span class="line">    payInfo</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br><span class="line">    <span class="title function_">dispatch</span>(&#123;<span class="attr">type</span>: <span class="string">&#x27;paySuccess&#x27;</span>&#125;);<span class="comment">//ä»˜æ¬¾æˆåŠŸ</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">    <span class="title function_">dispatch</span>(&#123;<span class="attr">type</span>: <span class="string">&#x27;payError&#x27;</span>&#125;); <span class="comment">// ä»˜æ¬¾å¤±è´¥</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> payInfo = &#123;</span><br><span class="line">  <span class="attr">username</span>: <span class="string">&#x27;ss&#x27;</span>,</span><br><span class="line">  <span class="attr">password</span>: <span class="string">&#x27;123&#x27;</span>,</span><br><span class="line">  <span class="attr">count</span>: <span class="number">5</span>,</span><br><span class="line">  ....</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ³¨æ„actionæ˜¯å‡½æ•°è¿™é‡Œ</span></span><br><span class="line">store.<span class="title function_">dispatch</span>(<span class="title function_">payMoney</span>(payInfo));</span><br></pre></td></tr></table></figure><ul><li>createStoreçš„æºç ä¸­ï¼Œåˆå§‹åŒ–æ—¶ä¼šæ£€æŸ¥ä¸­é—´ä»¶ï¼Œä½¿å¾—å³ä½¿å†™åœ¨ç¬¬2ä¸ªå‚æ•°ä¹Ÿå¯ä»¥è¯†åˆ«</li></ul></li></ul><p>dispatchçš„å…¥å‚ä»actionå¯¹è±¡ï¼Œå˜æˆäº†ä¸€ä¸ªå‡½æ•°ï¼Œæºç ä¸­æ˜¯æœ‰æ ¡éªŒçš„actionå…¥å‚å¿…é¡»æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œthunkä¼¼ä¹ç»•å¼€äº†è¿™å±‚æ ¡éªŒï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><h4 id="3ã€reduxä¸­é—´ä»¶çš„å·¥ä½œæµç¨‹">3ã€reduxä¸­é—´ä»¶çš„å·¥ä½œæµç¨‹<a class="anchor" href="#3ã€reduxä¸­é—´ä»¶çš„å·¥ä½œæµç¨‹">Â·</a></h4><ul><li><p>å½“åªæœ‰ä¸€ä¸ªä¸­é—´ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">action -- middleWare -- dispatch -- reducer -- nextState</span><br></pre></td></tr></table></figure><p>middleWareä¼šåœ¨actionåˆ†å‘ä¹‹åï¼Œåˆ°è¾¾reducerä¹‹å‰æ‰§è¡Œï¼›</p></li><li><p>å½“æœ‰å¤šä¸ªä¸­é—´ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">action -- middleWare1 ï¼ˆå®‰è£…çš„æ‰§è¡Œé¡ºåºï¼‰</span><br><span class="line">			 -- middleWare2</span><br><span class="line">			 -- middleWare3...</span><br><span class="line">-- dispatch -- reducer -- nextState</span><br></pre></td></tr></table></figure><p>ä¸­é—´ä»¶çš„æ‰§è¡Œæ—¶æœºä½¿å¾—å®ƒèƒ½åœ¨çŠ¶æ€æ­£åœ¨å‘ç”Ÿä¹‹å‰ç»“åˆactionä¿¡æ¯ï¼Œåšä¸€äº›è‡ªå·±çš„å¤„ç†ã€‚</p></li><li><h5 id="ä¸­é—´ä»¶å¦‚ä½•ç»•è¿‡ä¸»æµç¨‹çš„æ ¡éªŒé€»è¾‘å‘¢ï¼Ÿ">ä¸­é—´ä»¶å¦‚ä½•ç»•è¿‡ä¸»æµç¨‹çš„æ ¡éªŒé€»è¾‘å‘¢ï¼Ÿ<a class="anchor" href="#ä¸­é—´ä»¶å¦‚ä½•ç»•è¿‡ä¸»æµç¨‹çš„æ ¡éªŒé€»è¾‘å‘¢ï¼Ÿ">Â·</a></h5><p>å…¶å®å¹¶æ²¡æœ‰è¢«ç»•è¿‡ï¼Œè€Œæ˜¯è¢«<strong>applyMiddleWare</strong>æ”¹å†™äº†ï¼Œä½¿å¾—dispatchï¼Œåœ¨è§¦å‘reducerä¹‹å‰é¦–å…ˆæ‰§è¡Œå¯¹reduxä¸­é—´ä»¶çš„é“¾å¼è°ƒç”¨</p></li></ul><h3 id="5ã€redux-thunkæºç ">5ã€redux-thunkæºç <a class="anchor" href="#5ã€redux-thunkæºç ">Â·</a></h3><p>ä¸»è¦åšçš„äº‹æƒ…ï¼š</p><ul><li><p>åœ¨æ‹¦æˆªåˆ°actionåï¼Œä¼šæ£€æŸ¥å®ƒæ˜¯å¦ä¸ºä¸€ä¸ªå‡½æ•°ï¼š</p><p>è‹¥ä¸ºå‡½æ•°ï¼Œå°±ä¼šæ‰§è¡Œå®ƒï¼›å¹¶ä¸”è¿”å›æ‰§è¡Œç»“æœ</p><p>è‹¥ä¸æ˜¯å‡½æ•°ï¼Œå°±ä¸å¤„ç†å®ƒï¼Œç›´æ¥è°ƒç”¨nextï¼Œå·¥ä½œæµå¯ä»¥ç»§ç»­å¾€ä¸‹èµ°</p></li></ul><p><img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211128140700555.png" alt="image-20211128140700555" style="zoom:25%"><img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211128141206440.png" alt="image-20211128141206440" style="zoom:25%"></p><img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211127225633907.png" alt="image-20211127225633907" style="zoom:15%"><ol><li><p><strong>applyMiddleWare</strong>æ˜¯å¦‚ä½•é…åˆcreateStoreå·¥ä½œçš„ï¼Ÿ</p><ul><li><p><strong>applyMiddleWare</strong>è¿”å›çš„æ˜¯ä¸€ä¸ªæ¥æ”¶createStoreä½œä¸ºå…¥å‚çš„å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å°†ä¼šä½œä¸ºå…¥å‚ä¼ é€’ç»™createStore</p></li><li><p>createStoreä¸­ï¼Œä¼šåˆ¤æ–­enhancerå­˜åœ¨ï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªé’ˆå¯¹enhancerçš„è°ƒç”¨ï¼Œè°ƒç”¨ä¸­ç¬¬ä¸€å±‚å…¥å‚æ˜¯createStoreï¼Œç¬¬äºŒå±‚å…¥å‚æ˜¯reducerã€preloadedState</p></li><li><p>å¯¹åº”åˆ°applymiddelwareä¸­çš„é€»è¾‘ï¼š</p><p>è¿™ä¸ªå‡½æ•°ä¸­çš„return çš„createStoreå¯¹åº”createStoreæœ¬èº«ï¼Œargså¯¹åº”çš„å°±æ˜¯reducerã€preloadedState</p></li><li><p>applyMiddewareæ˜¯enhancerçš„ä¸€ç§ï¼Œè€Œenhancerçš„æ„æ€æ˜¯å¢å¼ºï¼Œå¢å¼ºçš„æ˜¯createStoreçš„èƒ½åŠ›ã€‚å› æ­¤å…¥å‚æ˜¯ä¼ å…¥è¿™ä¸ªå‡½æ•°æ˜¯æœ‰å¿…è¦çš„</p></li></ul><img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211128141742510.png" alt="image-20211128141742510" style="zoom:20%"><ol start="2"><li><p>dispatchå‡½æ•°æ˜¯å¦‚ä½•æ”¹å†™çš„ï¼Ÿ</p><p>åšäº†ä¸¤ä»¶äº‹ï¼Œä»¥ï¼Œï¼ŒaPIä½œä¸ºå…¥å‚é€ä¸ªè°ƒç”¨ä¼ å…¥çš„middleWareå‡½æ•°ï¼Œè·å–ä¸€ä¸ªç”±å†…å±‚å‡½æ•°ç»„æˆçš„æ•°ç»„chainï¼›</p><p>ç„¶åè°ƒç”¨composeå‡½æ•°ï¼Œå°†å†…å±‚å‡½æ•°é€ä¸ªç»„åˆèµ·æ¥ã€‚å¹¶è°ƒç”¨æœ€ç»ˆç»„åˆå‡ºæ¥çš„å‡½æ•°</p><p>å†…å±‚å‡½æ•°ï¼šcreatThunkå‡½æ•°çš„è¿”å›å€¼ return next(action) ä»ç„¶æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé«˜é˜¶å‡½æ•°ï¼Œè¦æ±‚reduxä¸­é—´èŠ‚éƒ½æ˜¯é«˜é˜¶å‡½æ•°ï¼Œå†…å±‚çš„å°±æ˜¯å†…å±‚å‡½æ•°ã€‚</p></li></ol><img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211128141804611.png" alt="image-20211128141804611" style="zoom:20%"> <img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211128141819905.png" alt="image-20211128141819905" style="zoom:20%"></li><li><p>composeå‡½æ•°æ˜¯å¦‚ä½•ç»„åˆèµ·æ¥çš„ï¼Ÿ</p></li></ol><p><strong>reduxä¸­é—´ä»¶æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</strong></p><p>â€‹	<strong>å‡½æ•°åˆæˆï¼ˆç»„åˆå‡½æ•°</strong>ï¼‰å¹¶ä¸æ˜¯reduxçš„ä¸“åˆ©ï¼Œè€Œæ˜¯<strong>å‡½æ•°å¼ç¼–ç¨‹</strong>ä¸­çš„ä¸€ä¸ªé€šç”¨æ¦‚å¿µï¼Œå®ƒå…¶å®ä½œä¸ºä¸€ä¸ªå·¥å…·ç±»çš„æ–‡ä»¶å­˜åœ¨ã€‚æºç ï¼š</p><ul><li><p>å‡½æ•°ç»„åˆæ˜¯é€šè¿‡è°ƒç”¨reduceæ¥å®ç°çš„ï¼›ç‰¹ç‚¹æ˜¯å¯¹æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ æ‰§è¡ŒæŒ‡å®šçš„é€»è¾‘ï¼Œå¹¶å°†ç»“æœæ±‡æ€»ä¸ºå•ä¸ªè¿”å›å€¼ã€‚</p><figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">(...args) =&gt; <span class="title function_">f1</span>(<span class="title function_">f2</span>(<span class="title function_">f3</span>(<span class="title function_">f4</span>(...args)))) <span class="comment">//æœ€åä¸€è¡Œç­‰æ•ˆä¸º</span></span><br></pre></td></tr></table></figure></li></ul><img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20211128020307931.png" alt="image-20211128020307931" style="zoom:25%"><h3 id="6ã€ä¸­é—´ä»¶èƒŒåçš„AOP">6ã€ä¸­é—´ä»¶èƒŒåçš„AOP<a class="anchor" href="#6ã€ä¸­é—´ä»¶èƒŒåçš„AOP">Â·</a></h3><ol><li>ä¸ºä»€ä¹ˆä¸­é—´ä»¶å¯ä»¥æµè¡Œï¼Ÿ</li><li>ä¸ºä»€ä¹ˆæˆ‘ä»¬çš„åº”ç”¨éœ€è¦ä¸­é—´ä»¶ï¼Ÿ</li></ol><p>AOPçš„å­˜åœ¨æ°æ°æ˜¯ä¸ºäº†è§£å†³OOPçš„å±€é™æ€§ã€‚AOPå¯ä»¥è¢«çœ‹æˆæ˜¯OOPçš„è¡¥å……ï¼Œåœ¨OOPæ¨¡å¼ä¸‹ï¼Œæƒ³è¦æ‹“å±•ä¸€ä¸ªç±»çš„é€»è¾‘æ—¶ï¼Œæœ€å¸¸è§çš„æ€è·¯æ˜¯ï¼š</p><ul><li>Class Aç»§æ‰¿Class B classBç»§æ‰¿classCï¼Œè¿™æ ·ä¸€å±‚å±‚ å°†é€»è¾‘å‘ä¸‹ä¼ é€’</li><li>å½“æˆ‘ä»¬æƒ³è¦ä¸ºæŸå‡ ä¸ªç±»è¿½åŠ ä¸€æ®µå…±åŒçš„é€»è¾‘æ—¶ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹ä»–ä»¬çš„çˆ¶ç±»æ¥å®ç°ï¼Œè¿™ä¼šå¯¼è‡´å…¬å…±ç±»è¶Šæ¥è¶Šè‡ƒè‚¿ã€‚ä½†ä¹Ÿæ²¡æœ‰æ›´å¥½çš„åŠæ³•</li></ul><p>é¢å‘åˆ‡é¢å°±ç™»åœºäº†ã€‚åˆ‡é¢æ˜¯ä¸€ä¸ªç›¸å¯¹äºæ‰§è¡Œæµç¨‹æ¥è¯´çš„æ¦‚å¿µï¼Œä»¥reduxä¸ºä¾‹ï¼Œå…¶è‡ªä¸Šè€Œä¸‹çš„å·¥ä½œæµï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">action</span><br><span class="line"> reducer</span><br><span class="line"> store</span><br></pre></td></tr></table></figure><ul><li>å‡å¦‚åœ¨æ¯ä¸ªactionè¢«æ´¾å‘åï¼Œéƒ½æ‰“å°ä¸€ä¸ªactionè¢«æ´¾å‘çš„è®°å½•ï¼Œè¿™æ ·çš„é€»è¾‘é€šç”¨æ€§å¾ˆå¼ºï¼Œä½†ä¸šåŠ¡å±æ€§å¾ˆå¼±ï¼Œå› æ­¤ä¸é€‚åˆä¸ä»»ä½•çš„ä¸šåŠ¡é€»è¾‘è€¦åˆåœ¨ä¸€èµ·ã€‚å› æ­¤å°±å¯ä»¥ä»¥åˆ‡é¢çš„æ–¹å¼ï¼Œå°†å…¶ä¸ä¸šåŠ¡åŠŸèƒ½å‰¥ç¦»å¼€æ¥ã€‚æ‰©å±•åŠŸèƒ½åœ¨å·¥ä½œæµä¸­çš„æ‰§è¡ŒèŠ‚ç‚¹å¯ä»¥çœ‹åšä¸€ä¸ªå•ç‹¬åˆ‡ç‚¹ï¼Œæˆ‘ä»¬æŠŠæ‰©å±•åŠŸèƒ½çš„é€»è¾‘æ”¾åˆ°è¿™ä¸ªåˆ‡ç‚¹ä¸Šæ¥ï¼Œå½¢æˆçš„å°±æ˜¯ä¸€ä¸ªå¯ä»¥æ‹¦æˆªè¿ç»­é€»è¾‘çš„åˆ‡é¢ï¼Œå¦‚ä¸‹å›¾ï¼š</li><li>åˆ‡é¢ä¸ä¸šåŠ¡é€»è¾‘æ˜¯åˆ†ç¦»çš„ï¼Œå› æ­¤AOPæ˜¯ä¸€ç§å…¸å‹çš„éä¾µå…¥å¼çš„é€»è¾‘æ‰©å®¹æ€è·¯ã€‚åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæ—¥å¿—è¿½æº¯ã€æ€§èƒ½æ‰“ç‚¹ã€å¼‚æ­¥å·¥ä½œæµå¤„ç†è¿™ç§å’Œä¸šåŠ¡é€»è¾‘å…³ç³»ä¸å¤§çš„åŠŸèƒ½ï¼Œéƒ½å¯ä»¥æŠ½å–åˆ°åˆ‡é¢ä¸­å»åšã€‚</li></ul><p>åˆ‡é¢ç¼–ç¨‹çš„æ”¶ç›Šï¼Ÿ</p><ol><li>å¯ä»¥å¾ˆå¤§ç¨‹åº¦ä¸Šæå‡äº†ç»„ç»‡é€»è¾‘çš„çµæ´»åº¦ä¸å¹²å‡€åº¦ã€å¸®åŠ©äº†æˆ‘ä»¬è§„é¿æ‰äº†é€»è¾‘å†—ä½™ã€é€»è¾‘è€¦åˆé—®é¢˜</li><li>é€šè¿‡å°†ä¸šåŠ¡é€»è¾‘ä¸åˆ‡é¢å‰¥ç¦»ï¼Œæ›´é«˜åœ°ä¸“æ³¨ä¸å¼€å‘ã€‚è€Œåˆ‡é¢è¿™ç§å³æ’å³ç”¨çš„æ–¹å¼ï¼Œè‡ªç”±ç»„ç»‡æƒ³è¦çš„æ‰©å±•åŠŸèƒ½</li></ol><h3 id="7ã€Vuex">7ã€Vuex<a class="anchor" href="#7ã€Vuex">Â·</a></h3><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/12/18/167c11c13fc70df1~tplv-t2oaga2asx-watermark.awebp" alt="image.png | center | 701x551" style="zoom:50%"><h4 id="1ã€Vuexçš„è®¾è®¡">1ã€Vuexçš„è®¾è®¡<a class="anchor" href="#1ã€Vuexçš„è®¾è®¡">Â·</a></h4><ul><li><h5 id="äº”ä¸ªæ ¸å¿ƒå±æ€§ï¼šstateã€mutationsã€actionsã€Getterã€modules">äº”ä¸ªæ ¸å¿ƒå±æ€§ï¼šstateã€mutationsã€actionsã€Getterã€modules<a class="anchor" href="#äº”ä¸ªæ ¸å¿ƒå±æ€§ï¼šstateã€mutationsã€actionsã€Getterã€modules">Â·</a></h5></li><li><p>æŠŠåŒæ­¥å’Œå¼‚æ­¥æ‹†åˆ†å¼€ï¼Œä¸è¦äº’ç›¸å¹²æ¶‰</p></li><li><p>storeçš„æ”¹å˜æµç¨‹ï¼š</p><p><strong>åœ¨ vuex ä¸­åªæœ‰ mutations å¯ä»¥æ›´æ–°state</strong></p><ul><li>commit ä¸€ä¸ª mutationï¼Œmutation è´Ÿè´£æ›´æ”¹ stateï¼ˆstoreçŠ¶æ€æ›´æ–°çš„å”¯ä¸€æ–¹å¼ï¼‰</li><li>dispatch ä¸€ä¸ª actionï¼Œåœ¨ action ä¸­ commit ä¸€ä¸ª mutation</li></ul></li><li><p>å¼•å…¥ Getterï¼ŒmapGetters è¾…åŠ©å‡½æ•°ä»…ä»…æ˜¯å°† store ä¸­çš„ getter æ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±æ€§</p></li><li><p>å¼•å…¥ Module çš„æ¦‚å¿µï¼ŒæŠŠä¸€ä¸ªå¤§ Store æ‹†å¼€ï¼Œæ¯ä¸ª Module æœ‰è‡ªå·±çš„ stateã€mutationã€actionã€getterï¼š</p></li></ul><h4 id="1ã€Store">1ã€Store<a class="anchor" href="#1ã€Store">Â·</a></h4><ul><li>æ¯ä¸€ä¸ª Vuex é‡Œé¢æœ‰ä¸€ä¸ªå…¨å±€çš„ Storeï¼ŒåŒ…å«ç€åº”ç”¨ä¸­çš„çŠ¶æ€ <strong>State</strong></li><li>Vuexé€šè¿‡ store é€‰é¡¹ï¼ŒæŠŠ state æ³¨å…¥åˆ°æ•´ä¸ªåº”ç”¨ä¸­ï¼Œè¿™æ ·å­ç»„ä»¶èƒ½é€šè¿‡ this.$store è®¿é—®åˆ° state äº†</li><li><strong>State æ”¹å˜ï¼ŒView å°±ä¼šè·Ÿç€æ”¹å˜ï¼Œè¿™ä¸ªæ”¹å˜åˆ©ç”¨çš„æ˜¯ Vue çš„å“åº”å¼æœºåˆ¶</strong></li></ul><h4 id="2ã€Mutation-åŒæ­¥-storeçŠ¶æ€æ›´æ–°çš„å”¯ä¸€æ–¹å¼">2ã€Mutation åŒæ­¥ storeçŠ¶æ€æ›´æ–°çš„å”¯ä¸€æ–¹å¼<a class="anchor" href="#2ã€Mutation-åŒæ­¥-storeçŠ¶æ€æ›´æ–°çš„å”¯ä¸€æ–¹å¼">Â·</a></h4><ul><li><h5 id="æ”¹å˜stateçš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤commitæ¥è§¦å‘-mutations">æ”¹å˜stateçš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤commitæ¥è§¦å‘_mutations<a class="anchor" href="#æ”¹å˜stateçš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤commitæ¥è§¦å‘-mutations">Â·</a></h5></li><li><p>æ¯ä¸ª mutation éƒ½æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²çš„ äº‹ä»¶ç±»å‹å’Œ ä¸€ä¸ª å›è°ƒå‡½æ•°</p></li><li><p>mutation æœ‰äº›ç±»ä¼¼ Redux çš„ Reducerï¼Œ<strong>ä½†Vuexç›´æ¥ä¿®æ”¹ State</strong></p><ol><li><strong>Redux å¼ºè°ƒçš„ immutability</strong>ï¼Œåœ¨ä¿è¯äº†æ¯ä¸€æ¬¡çŠ¶æ€å˜åŒ–éƒ½èƒ½è¿½è¸ªï¼Œæ”¶ç›Šå¾ˆæœ‰é™</li><li>ä¸ºäº†åŒæ„è€Œè®¾è®¡çš„ API å¾ˆç¹çï¼Œå¿…é¡»ä¾èµ–ç¬¬ä¸‰æ–¹åº“æ‰èƒ½ç›¸å¯¹é«˜æ•ˆç‡åœ°è·å¾—çŠ¶æ€æ ‘çš„å±€éƒ¨çŠ¶æ€ï¼Œè¿™äº›ä¸è¶³çš„åœ°æ–¹ï¼Œæ‰€ä»¥ä¹Ÿè¢« Vuex èˆæ‰äº†</li></ol></li></ul><h4 id="3ã€å‡å¦‚åœ¨mutationé‡Œé¢æäº¤å¼‚æ­¥">3ã€å‡å¦‚åœ¨mutationé‡Œé¢æäº¤å¼‚æ­¥<a class="anchor" href="#3ã€å‡å¦‚åœ¨mutationé‡Œé¢æäº¤å¼‚æ­¥">Â·</a></h4><h5 id="1ã€é—®é¢˜ã€å‘">1ã€é—®é¢˜ã€å‘<a class="anchor" href="#1ã€é—®é¢˜ã€å‘">Â·</a></h5><ul><li><p>æäº¤çš„æ—¶å€™é¡µé¢çŠ¶æ€viewå‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯çœŸæ­£çš„çŠ¶æ€æ˜¯æ²¡æœ‰å˜åŒ–çš„ï¼Œ<strong>é¡µé¢æ”¹å˜äº†</strong>ï¼Œ<strong>è€Œdevtoolå·¥å…·é‡Œé¢çš„stateçŠ¶æ€ä¸ä¸€è‡´</strong> å¦‚ä¸‹é¢å›¾ç‰‡</p></li><li><p>åœ¨/src/store/index.js çš„mutationsé‡Œé¢æ¨¡æ‹Ÿå¼‚æ­¥å‘ç°çŠ¶æ€æ˜¯æ··ä¹±çš„ <img src="https://segmentfault.com/img/remote/1460000011528057?w=1406&amp;h=538" alt="image_1bs7rnpdd1slf119n1k6k1ltt1o8m9.png-73.7kB" style="zoom:50%"></p></li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    <span class="attr">state</span>: &#123;</span><br><span class="line">        <span class="attr">num</span>: <span class="number">100</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">mutations</span>: &#123;</span><br><span class="line">        <span class="comment">// ä»»ä½•æ—¶å€™æ”¹å˜stateçš„çŠ¶æ€éƒ½é€šè¿‡æäº¤ mutation æ¥æ”¹å˜</span></span><br><span class="line">        <span class="comment">// é‡Œé¢å¯ä»¥å®šä¹‰å¤šä¸ªå‡½æ•°ï¼Œå½“è§¦å‘è¿™ä¸ªå‡½æ•°å°±ä¼šæ”¹å˜stateçŠ¶æ€</span></span><br><span class="line">        <span class="title function_">addIncrement</span>(<span class="params">state, stark</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(stark);</span><br><span class="line">            <span class="comment">// æ¥æ”¶ä¸€ä¸ªstateä½œä¸ºå‚æ•°ï¼Œ ç›¸å½“äºä¸Šé¢çš„state</span></span><br><span class="line">            <span class="comment">// æ¨¡æ‹Ÿå¼‚æ­¥ï¼ŒçŠ¶æ€ä¼šå‘ç”Ÿæ··ä¹±</span></span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                state.<span class="property">num</span> += stark.<span class="property">n</span>;</span><br><span class="line">            &#125;, <span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">minIncrement</span>(<span class="params">state</span>) &#123;</span><br><span class="line">            state.<span class="property">num</span> -= <span class="number">5</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure><h5 id="2ã€è§£å†³ï¼š">2ã€è§£å†³ï¼š<a class="anchor" href="#2ã€è§£å†³ï¼š">Â·</a></h5><ol><li>åœ¨ç»„ä»¶é‡Œé¢åˆ©ç”¨this.$store.dispatch(â€œaddActionâ€); æäº¤actions</li></ol><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;h2&gt;åŠ å‡æ³•è®¡ç®—å™¨&lt;/h2&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;-&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;minHandle&quot;</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;num&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;+&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;addHandle&quot;</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">computed</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">num</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">num</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">addHandle</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">// this.num += 5;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">// ç‚¹å‡»çš„æ—¶å€™éœ€è¦æ”¹å˜çŠ¶æ€ï¼Œæäº¤mutation addIncrement</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">// åˆ©ç”¨$store.commit é‡Œé¢ å†™å‚æ•°ç›¸å½“äº mutationçš„å‡½æ•°åå­—</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">// this.$store.commit(&quot;addIncrement&quot;,&#123;name:&#x27;stark&#x27;,age:18,n:5&#125;)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">// this.$store.commit(&#123;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">//     type:&quot;addIncrement&quot;,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">//     n:5,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">//     age:18,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">//     name:&#x27;stark.wang&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">// &#125;)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&quot;addAction&quot;</span>); <span class="comment">// åœ¨è¿™æäº¤ actions</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">minHandle</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">// this.num -= 5;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&quot;minIncrement&quot;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">// this.$store.         </span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h5 id="3ã€ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ">3ã€ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ<a class="anchor" href="#3ã€ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ">Â·</a></h5><ul><li><p>åœ¨vuexé‡Œï¼Œæ”¹å˜stateçš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤commitæ¥è§¦å‘_mutationsï¼Œè€Œè°ƒç”¨actionsæ—¶ä¼šåˆ¤æ–­æ˜¯ä¸æ˜¯Promiseï¼Œè°ƒç”¨å¼‚æ­¥å¤„ç†ï¼Œä½ åœ¨mutationsé‡Œå†™æƒ…æ±‚ä»–éƒ½ä¸ä¼šè·‘thenæ–¹æ³•ï¼Œä½ æ€ä¹ˆæ”¹å˜</p></li><li><h5 id="æºç ï¼š">æºç ï¼š<a class="anchor" href="#æºç ï¼š">Â·</a></h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¿™ä¸ªå°±æ˜¯ Store ç±»çš„ commit æ–¹æ³•</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">commit</span> (_type, _payload, _options) &#123;</span><br><span class="line">    <span class="comment">// check object-style commit</span></span><br><span class="line">    <span class="keyword">const</span> &#123;type, payload, options&#125; = <span class="title function_">unifyObjectStyle</span>(_type, _payload, _options)</span><br><span class="line">    <span class="comment">// å®šä¹‰mutationå¯¹è±¡ï¼Œtype å…¶å®å°±æ˜¯æˆ‘ä»¬è¦æ“ä½œçš„ mutation çš„æ–¹æ³•åï¼Œ payload æ˜¯å‚æ•°ï¼ˆè½½è·ï¼‰</span></span><br><span class="line">    <span class="keyword">const</span> mutation = &#123; type, payload &#125;</span><br><span class="line">    <span class="comment">// entry å°±æ˜¯è¦è¢«æ‰§è¡Œçš„ mutation æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">const</span> entry = <span class="variable language_">this</span>.<span class="property">_mutations</span>[type]</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// çœç•¥äº†ä¸€äº›ä¸­é—´ä¸å½±å“é€»è¾‘çš„ä»£ç </span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ³¨å†Œä¸€äº›å›è°ƒå‡½æ•°ï¼Œå¯ä»¥çœ‹åˆ° mutation æ–¹æ³•ï¼ˆentryï¼‰æœ€ç»ˆæ˜¯åœ¨è¿™ä¸ªå›è°ƒå‡½æ•°ä¸­æ‰§è¡Œï¼Œç›´æ¥å°±æ‰§è¡Œç»“æŸï¼Œæ²¡æœ‰ä»»ä½•çš„ return ä»¥åŠ å¼‚æ­¥å¤„ç†ï¼Œè¿™æ ·ä¹Ÿå°±æ˜¯è¯´åœ¨ commit ä¸­ä¸å¯ä»¥å†™å¼‚æ­¥é€»è¾‘</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">_withCommit</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        entry.<span class="title function_">forEach</span>(<span class="keyword">function</span> <span class="title function_">commitIterator</span> (handler) &#123;</span><br><span class="line">            <span class="title function_">handler</span>(payload)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_subscribers</span></span><br><span class="line">    .<span class="title function_">slice</span>() <span class="comment">// shallow copy to prevent iterator invalidation if subscriber synchronously calls unsubscribe</span></span><br><span class="line">    .<span class="title function_">forEach</span>(<span class="function"><span class="params">sub</span> =&gt;</span> <span class="title function_">sub</span>(mutation, <span class="variable language_">this</span>.<span class="property">state</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h5 id="4ã€åœ¨ç»„ä»¶ä¸­æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼Œåœ¨å¼‚æ­¥çš„å›è°ƒä¸­æ‰§è¡Œcommitå¯ä»¥å—ï¼Ÿ">4ã€åœ¨ç»„ä»¶ä¸­æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼Œåœ¨å¼‚æ­¥çš„å›è°ƒä¸­æ‰§è¡Œcommitå¯ä»¥å—ï¼Ÿ<a class="anchor" href="#4ã€åœ¨ç»„ä»¶ä¸­æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼Œåœ¨å¼‚æ­¥çš„å›è°ƒä¸­æ‰§è¡Œcommitå¯ä»¥å—ï¼Ÿ">Â·</a></h5><p>å¯ä»¥ï¼Œä½†æ˜¯ä¸€èˆ¬ä¸è¿™ä¹ˆåš</p><ul><li><p>stateçŠ¶æ€æ›´æ–°é€»è¾‘æ˜¯å¯å¤ç”¨çš„ï¼Œä½†æ˜¯å¦‚æœæŠŠè¿™éƒ¨åˆ†é€»è¾‘å†™åœ¨äº†ç»„ä»¶å†…ï¼š</p><p>æ¯”å¦‚å†™åœ¨äº†ç»„ä»¶Aä¸­ï¼Œè¿™æ—¶å€™å¦å¤–ä¸€ä¸ªç»„ä»¶Bä¹Ÿéœ€è¦æ›´æ–°è¿™ä¸ªçŠ¶æ€ï¼Œä½ å°±éœ€è¦æŠŠç»„ä»¶Aä¸­çš„é‚£æ®µå¼‚æ­¥ä»£ç å¤åˆ¶åˆ°ç»„ä»¶Bä¸­</p><p>è¿™ä¸ªä¸æ˜¯ä¸€ä¸ªåˆç†çš„æ–¹å¼ï¼ˆä»£ç å†—ä½™ï¼Œåº”è¯¥å°†å…¬å…±é€»è¾‘æŠ½ç¦»å‡ºæ¥ï¼‰ï¼Œè™½ç„¶å¯ä»¥è¿™ä¹ˆåšï¼Œä½†æ˜¯ä¸æ¨è</p></li></ul><h4 id="4ã€vuexä¸­ä¸ºä»€ä¹ˆæŠŠå¼‚æ­¥æ“ä½œå°è£…åœ¨actionï¼ŒæŠŠåŒæ­¥æ“ä½œæ”¾åœ¨mutationsï¼Ÿ">4ã€vuexä¸­ä¸ºä»€ä¹ˆæŠŠå¼‚æ­¥æ“ä½œå°è£…åœ¨actionï¼ŒæŠŠåŒæ­¥æ“ä½œæ”¾åœ¨mutationsï¼Ÿ<a class="anchor" href="#4ã€vuexä¸­ä¸ºä»€ä¹ˆæŠŠå¼‚æ­¥æ“ä½œå°è£…åœ¨actionï¼ŒæŠŠåŒæ­¥æ“ä½œæ”¾åœ¨mutationsï¼Ÿ">Â·</a></h4><ul><li><p>å®˜æ–¹æ–‡æ¡£è¯´æ˜ï¼šâ€œåœ¨ mutation ä¸­æ··åˆå¼‚æ­¥è°ƒç”¨ä¼šå¯¼è‡´ä½ çš„ç¨‹åºå¾ˆéš¾è°ƒè¯•</p><p>ä¾‹å¦‚ï¼Œå½“ä½ èƒ½è°ƒç”¨äº†ä¸¤ä¸ªåŒ…å«å¼‚æ­¥å›è°ƒçš„ mutation æ¥æ”¹å˜çŠ¶æ€ï¼Œä½ æ€ä¹ˆçŸ¥é“ä»€ä¹ˆæ—¶å€™å›è°ƒå’Œå“ªä¸ªå…ˆå›è°ƒå‘¢ï¼Ÿè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦åŒºåˆ†è¿™ä¸¤ä¸ªæ¦‚å¿µ</p><p>åœ¨ Vuex ä¸­ï¼Œæˆ‘ä»¬å°†å…¨éƒ¨çš„æ”¹å˜éƒ½ç”¨åŒæ­¥æ–¹å¼å®ç°ã€‚æˆ‘ä»¬å°†å…¨éƒ¨çš„å¼‚æ­¥æ“ä½œéƒ½æ”¾åœ¨<a href="https://link.zhihu.com/?target=http%3A//vuex.vuejs.org/zh-cn/actions.html">Actions</a>ä¸­ã€‚â€</p></li><li><p>å¦‚æœåŒæ—¶å‡ºå‘äº†ä¸¤ä¸ªå¼‚æ­¥çš„actionsï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå›è°ƒçš„æ—¶é—´ä¸ä¸€æ ·ï¼Œé‚£ä¹ˆå¯¹äºstateçš„æ›´æ–°è¿˜æ˜¯å­˜åœ¨ç«æ€çš„ã€‚æ‰€ä»¥æˆ‘è§‰å¾—è¿™æ ·è¿›è¡ŒåŒºåˆ†å¹¶ä¸èƒ½è§£å†³â€œé‚£ä¹ˆå…ˆå›è°ƒï¼Œå“ªä¸ªåå›è°ƒâ€æ¥æ›´æ–°stateçš„é—®é¢˜</p></li><li><p>å°¤å¤§çš„å›ç­”ï¼šåŒºåˆ† actions å’Œ mutations å¹¶ä¸æ˜¯ä¸ºäº†è§£å†³ç«æ€é—®é¢˜ï¼Œè€Œæ˜¯ä¸ºäº†èƒ½ç”¨ devtools è¿½è¸ªçŠ¶æ€å˜åŒ–</p><ol><li><p>vuex é‡Œé¢ actions åªæ˜¯ä¸€ä¸ªæ¶æ„æ€§çš„æ¦‚å¿µï¼Œå¹¶ä¸æ˜¯å¿…é¡»çš„ï¼Œè¯´åˆ°åº•åªæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä½ åœ¨é‡Œé¢æƒ³å¹²å˜›éƒ½å¯ä»¥ï¼Œåªè¦æœ€åè§¦å‘ mutation å°±è¡Œ</p></li><li><p>å¼‚æ­¥ç«æ€æ€ä¹ˆå¤„ç†é‚£æ˜¯ç”¨æˆ·è‡ªå·±çš„äº‹æƒ…ã€‚vuex çœŸæ­£é™åˆ¶ä½ çš„åªæœ‰ mutation å¿…é¡»æ˜¯åŒæ­¥çš„è¿™ä¸€ç‚¹ï¼ˆåœ¨ redux é‡Œé¢å°±å¥½åƒ reducer å¿…é¡»åŒæ­¥è¿”å›ä¸‹ä¸€ä¸ªçŠ¶æ€ä¸€æ ·ï¼‰</p></li><li><p>åŒæ­¥çš„æ„ä¹‰åœ¨äºè¿™æ ·æ¯ä¸€ä¸ª mutation æ‰§è¡Œå®Œæˆåéƒ½å¯ä»¥å¯¹åº”åˆ°ä¸€ä¸ªæ–°çš„çŠ¶æ€ï¼ˆå’Œ reducer ä¸€æ ·ï¼‰ï¼Œè¿™æ · devtools å°±å¯ä»¥æ‰“ä¸ª snapshot å­˜ä¸‹æ¥ï¼Œç„¶åå°±å¯ä»¥éšä¾¿ time-travel äº†</p></li><li><p>å¦‚æœä½ å¼€ç€ devtool è°ƒç”¨ä¸€ä¸ªå¼‚æ­¥çš„ actionï¼Œä½ å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°å®ƒæ‰€è°ƒç”¨çš„ mutation æ˜¯ä½•æ—¶è¢«è®°å½•ä¸‹æ¥çš„ï¼Œå¹¶ä¸”å¯ä»¥ç«‹åˆ»æŸ¥çœ‹å®ƒä»¬å¯¹åº”çš„çŠ¶æ€</p></li><li><p>å°¤å¤§æ²¡æœ‰åšçš„ï¼š</p><p>æŠŠè®°å½•ä¸‹æ¥çš„ mutations åšæˆç±»ä¼¼ rx-marble é‚£æ ·çš„æ—¶é—´çº¿å›¾ï¼Œå¯¹äºç†è§£åº”ç”¨çš„å¼‚æ­¥çŠ¶æ€å˜åŒ–å¾ˆæœ‰å¸®åŠ©</p></li></ol></li></ul><h4 id="5ã€Action">5ã€Action<a class="anchor" href="#5ã€Action">Â·</a></h4><ul><li><h5 id="æºç ï¼š-2">æºç ï¼š<a class="anchor" href="#æºç ï¼š-2">Â·</a></h5><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">dispatch</span> (_type, _payload) &#123;</span><br><span class="line">    <span class="comment">// check object-style dispatch</span></span><br><span class="line">    <span class="keyword">const</span> &#123;type,payload&#125; = <span class="title function_">unifyObjectStyle</span>(\type, _payload)</span><br><span class="line">    <span class="comment">// å®šä¹‰ action å¯¹è±¡ï¼Œtype æ˜¯ actions å¯¹è±¡ä¸­çš„ä¸€ä¸ªå±æ€§ï¼Œpayload æ˜¯è½½è·</span></span><br><span class="line">    <span class="keyword">const</span> action = &#123; type, payload &#125;</span><br><span class="line">    <span class="comment">// å¾…æ‰§è¡Œçš„ action æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">const</span> entry = <span class="variable language_">this</span>.<span class="property">_actions</span>[type]</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_actionSubscribers</span></span><br><span class="line">        .<span class="title function_">slice</span>() <span class="comment">// shallow copy to prevent iterator invalidation if subscriber synchronously calls unsubscribe</span></span><br><span class="line">        .<span class="title function_">filter</span>(<span class="function"><span class="params">sub</span> =&gt;</span> sub.<span class="property">before</span>)</span><br><span class="line">        .<span class="title function_">forEach</span>(<span class="function"><span class="params">sub</span> =&gt;</span> sub.<span class="title function_">before</span>(action, <span class="variable language_">this</span>.<span class="property">state</span>))</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åœ¨è¿™é‡Œæ‰§è¡Œäº† action æ–¹æ³•ï¼Œå¹¶å°†ç»“æœç”¨ Promise.all æ–¹æ³•å¤„ç†</span></span><br><span class="line">    <span class="keyword">const</span> result = entry.<span class="property">length</span> &gt; <span class="number">1</span></span><br><span class="line">    ? <span class="title class_">Promise</span>.<span class="title function_">all</span>(entry.<span class="title function_">map</span>(<span class="function"><span class="params">handler</span> =&gt;</span> <span class="title function_">handler</span>(payload)))</span><br><span class="line">    : entry[<span class="number">0</span>](payload)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è¿™é‡Œçš„ result.then æ‰§è¡Œå®Œä»¥åä¼š return ä¸€ä¸ªç»“æœå‡ºå»ï¼ˆå…¶å®å°±æ˜¯æˆ‘ä»¬è‡ªå·±è°ƒç”¨çš„å¼‚æ­¥é€»è¾‘çš„ç»“æœï¼‰</span></span><br><span class="line">    <span class="keyword">return</span> result.<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">_actionSubscribers</span></span><br><span class="line">            .<span class="title function_">filter</span>(<span class="function"><span class="params">sub</span> =&gt;</span> sub.<span class="property">after</span>)</span><br><span class="line">            .<span class="title function_">forEach</span>(<span class="function"><span class="params">sub</span> =&gt;</span> sub.<span class="title function_">after</span>(action, <span class="variable language_">this</span>.<span class="property">state</span>))</span><br><span class="line">        &#125; <span class="keyword">catch</span> (e) &#123;&#125;</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="6ã€å¯¹æ¯”Redux">6ã€å¯¹æ¯”Redux<a class="anchor" href="#6ã€å¯¹æ¯”Redux">Â·</a></h4><ul><li><p>Reduxï¼š viewâ€”â€”&gt;actionsâ€”â€”&gt;reducerâ€”â€”&gt;stateå˜åŒ–â€”â€”&gt;viewå˜åŒ–ï¼ˆåŒæ­¥å¼‚æ­¥ä¸€æ ·ï¼‰</p></li><li><p>Vuexï¼š viewâ€”â€”&gt;commitâ€”â€”&gt;mutationsâ€”â€”&gt;stateå˜åŒ–â€”â€”&gt;viewå˜åŒ–ï¼ˆåŒæ­¥æ“ä½œï¼‰</p><p>â€‹ viewâ€”â€”&gt;dispatchâ€”â€”&gt;actionsâ€”â€”&gt;mutationsâ€”â€”&gt;stateå˜åŒ–â€”â€”&gt;viewå˜åŒ–ï¼ˆå¼‚æ­¥æ“ä½œï¼‰</p></li></ul><h4 id="3è€…æ€»çš„æ€æƒ³ï¼š">3è€…æ€»çš„æ€æƒ³ï¼š<a class="anchor" href="#3è€…æ€»çš„æ€æƒ³ï¼š">Â·</a></h4><p><strong>æ€»çš„æ¥è¯´éƒ½æ˜¯è®© View é€šè¿‡æŸç§æ–¹å¼è§¦å‘ Store çš„äº‹ä»¶æˆ–æ–¹æ³•ï¼ŒStore çš„äº‹ä»¶æˆ–æ–¹æ³•å¯¹ State è¿›è¡Œä¿®æ”¹æˆ–è¿”å›ä¸€ä¸ªæ–°çš„ Stateï¼ŒState æ”¹å˜ä¹‹åï¼ŒView å‘ç”Ÿå“åº”å¼æ”¹å˜</strong></p></article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>Vue&amp;&amp;Reactçš„æ•°æ®æµç®¡ç†</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://www.nesxc.com/post/hexocc.html">https://www.nesxc.com/post/hexocc.html</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>ä½œè€…</h><div class="post-copyright-cc-info"><h>é£å„¿</h></div></div><div class="post-copyright-c"><h>å‘å¸ƒäº</h><div class="post-copyright-cc-info"><h>2021-12-11</h></div></div><div class="post-copyright-u"><h>æ›´æ–°äº</h><div class="post-copyright-cc-info"><h>2023-01-17</h></div></div><div class="post-copyright-c"><h>è®¸å¯åè®®</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post_share"><div class="social-share" data-image="https://mynightwish.oss-cn-beijing.aliyuncs.com/React/react-data.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="/" media="print" onload='this.media="all"'><script src="/" defer></script></div></div><div id="wpac-rating"></div><script>wpac_init = window.wpac_init || [];
wpac_init.push({widget: 'Rating', id: 33234});
(function() {
  if ('WIDGETPACK_LOADED' in window) return;
  WIDGETPACK_LOADED = true;
  var mc = document.createElement('script');
  mc.type = 'text/javascript';
  mc.async = true;
  //- mc.src = '//embed.widgetpack.com/widget.js';
  var s = document.getElementsByTagName('script')[0];
  s?.parentNode?.insertBefore(mc, s?.nextSibling);
})();</script><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/react_components.html"><img class="prev-cover" src="https://mynightwish.oss-cn-beijing.aliyuncs.com/React/react-component-communication.png" onerror='onerror=null,src="https://mynightwish.oss-cn-beijing.aliyuncs.com/staticResource/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">Reactçš„ç»„ä»¶é€šä¿¡</div></div></a></div><div class="next-post pull-right"><a href="/posts/%E8%B7%AF%E7%94%B1.html"><img class="next-cover" src="https://mynightwish.oss-cn-beijing.aliyuncs.com/CSS/dm11.webp" onerror='onerror=null,src="https://mynightwish.oss-cn-beijing.aliyuncs.com/staticResource/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">Vue&amp;&amp;Reactçš„è·¯ç”±ç®¡ç†</div></div></a></div></nav><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Redux"><span class="toc-text">Redux</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81Flux"><span class="toc-text">1ã€Flux</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81Flux4%E9%83%A8%E5%88%86"><span class="toc-text">1ã€Flux4éƒ¨åˆ†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#View%EF%BC%9A%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BB%A5%E4%BB%BB%E4%BD%95%E5%BD%A2%E5%BC%8F%E5%B1%95%E7%A4%BA"><span class="toc-text">Viewï¼šç”¨æˆ·ç•Œé¢ï¼Œå¯ä»¥ä»¥ä»»ä½•å½¢å¼å±•ç¤º</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Action%EF%BC%9A%E8%A7%86%E5%9B%BE%E5%B1%82%E5%8F%91%E5%87%BA%E7%9A%84%E6%B6%88%E6%81%AF%EF%BC%8C%E4%BC%9A%E8%A7%A6%E5%8F%91%E5%BA%94%E7%94%A8%E7%8A%B6%E6%80%81%E7%9A%84%E6%94%B9%E5%8F%98"><span class="toc-text">Actionï¼šè§†å›¾å±‚å‘å‡ºçš„æ¶ˆæ¯ï¼Œä¼šè§¦å‘åº”ç”¨çŠ¶æ€çš„æ”¹å˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Dispatcher%EF%BC%9A%E6%B4%BE%E5%8F%91%E5%99%A8%EF%BC%8C%E8%B4%9F%E8%B4%A3action%E7%9A%84%E6%B4%BE%E5%8F%91"><span class="toc-text">Dispatcherï¼šæ´¾å‘å™¨ï¼Œè´Ÿè´£actionçš„æ´¾å‘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#store%EF%BC%9A%E6%95%B0%E6%8D%AE%E5%B1%82%EF%BC%8C%E5%BA%94%E7%94%A8%E7%8A%B6%E6%80%81%E7%9A%84%E4%BB%93%E5%BA%93%EF%BC%8C%E6%AD%A4%E5%A4%96%E8%BF%98%E5%AE%9A%E4%B9%89%E4%BF%AE%E6%94%B9%E7%8A%B6%E6%80%81%E7%9A%84%E9%80%BB%E8%BE%91"><span class="toc-text">storeï¼šæ•°æ®å±‚ï¼Œåº”ç”¨çŠ¶æ€çš„ä»“åº“ï¼Œæ­¤å¤–è¿˜å®šä¹‰ä¿®æ”¹çŠ¶æ€çš„é€»è¾‘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81Flux%E5%B7%A5%E4%BD%9C%E6%B5%81"><span class="toc-text">2ã€Fluxå·¥ä½œæµ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81Flux%E8%A7%A3%E5%86%B3%E4%BA%86%E4%BB%80%E4%B9%88"><span class="toc-text">3ã€Fluxè§£å†³äº†ä»€ä¹ˆ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81Redux"><span class="toc-text">2ã€Redux</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E8%A7%92%E8%89%B2%EF%BC%9A"><span class="toc-text">1ã€è§’è‰²ï¼š</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81redux%E5%B7%A5%E4%BD%9C%E6%B5%81"><span class="toc-text">2ã€reduxå·¥ä½œæµ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81redux%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90"><span class="toc-text">3ã€reduxæºç åˆ†æ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81createStore-js%E5%88%86%E6%9E%90"><span class="toc-text">1ã€createStore.jsåˆ†æ</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E6%95%B4%E4%BD%93%E6%B5%81%E7%A8%8B"><span class="toc-text">1ã€æ•´ä½“æµç¨‹</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81dispatch"><span class="toc-text">2ã€dispatch</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%BA%90%E7%A0%81"><span class="toc-text">æºç </span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#dispatch%E6%A0%B8%E5%BF%83%E5%B7%A5%E4%BD%9C%E6%B5%81"><span class="toc-text">dispatchæ ¸å¿ƒå·¥ä½œæµ</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81subscribe%E8%A7%A6%E5%8F%91%E8%AE%A2%E9%98%85"><span class="toc-text">3ã€subscribeè§¦å‘è®¢é˜…</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81redux%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="toc-text">4ã€reduxä¸­é—´ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E7%94%A8%E6%B3%95"><span class="toc-text">1ã€ç”¨æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%84%E5%BC%95%E5%85%A5%EF%BC%8C%E4%B8%BAredux%E5%B7%A5%E4%BD%9C%E6%B5%81%E5%B8%A6%E6%9D%A5%E4%BB%80%E4%B9%88%E6%94%B9%E5%8F%98%EF%BC%9F"><span class="toc-text">2ã€ä¸­é—´ä»¶çš„å¼•å…¥ï¼Œä¸ºreduxå·¥ä½œæµå¸¦æ¥ä»€ä¹ˆæ”¹å˜ï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81redux%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="toc-text">3ã€reduxä¸­é—´ä»¶çš„å·¥ä½œæµç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%A6%82%E4%BD%95%E7%BB%95%E8%BF%87%E4%B8%BB%E6%B5%81%E7%A8%8B%E7%9A%84%E6%A0%A1%E9%AA%8C%E9%80%BB%E8%BE%91%E5%91%A2%EF%BC%9F"><span class="toc-text">ä¸­é—´ä»¶å¦‚ä½•ç»•è¿‡ä¸»æµç¨‹çš„æ ¡éªŒé€»è¾‘å‘¢ï¼Ÿ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81redux-thunk%E6%BA%90%E7%A0%81"><span class="toc-text">5ã€redux-thunkæºç </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81%E4%B8%AD%E9%97%B4%E4%BB%B6%E8%83%8C%E5%90%8E%E7%9A%84AOP"><span class="toc-text">6ã€ä¸­é—´ä»¶èƒŒåçš„AOP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81Vuex"><span class="toc-text">7ã€Vuex</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81Vuex%E7%9A%84%E8%AE%BE%E8%AE%A1"><span class="toc-text">1ã€Vuexçš„è®¾è®¡</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%94%E4%B8%AA%E6%A0%B8%E5%BF%83%E5%B1%9E%E6%80%A7%EF%BC%9Astate%E3%80%81mutations%E3%80%81actions%E3%80%81Getter%E3%80%81modules"><span class="toc-text">äº”ä¸ªæ ¸å¿ƒå±æ€§ï¼šstateã€mutationsã€actionsã€Getterã€modules</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81Store"><span class="toc-text">1ã€Store</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81Mutation-%E5%90%8C%E6%AD%A5-store%E7%8A%B6%E6%80%81%E6%9B%B4%E6%96%B0%E7%9A%84%E5%94%AF%E4%B8%80%E6%96%B9%E5%BC%8F"><span class="toc-text">2ã€Mutation åŒæ­¥ storeçŠ¶æ€æ›´æ–°çš„å”¯ä¸€æ–¹å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%94%B9%E5%8F%98state%E7%9A%84%E5%94%AF%E4%B8%80%E6%96%B9%E6%B3%95%E6%98%AF%E6%8F%90%E4%BA%A4commit%E6%9D%A5%E8%A7%A6%E5%8F%91-mutations"><span class="toc-text">æ”¹å˜stateçš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤commitæ¥è§¦å‘_mutations</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81%E5%81%87%E5%A6%82%E5%9C%A8mutation%E9%87%8C%E9%9D%A2%E6%8F%90%E4%BA%A4%E5%BC%82%E6%AD%A5"><span class="toc-text">3ã€å‡å¦‚åœ¨mutationé‡Œé¢æäº¤å¼‚æ­¥</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E9%97%AE%E9%A2%98%E3%80%81%E5%9D%91"><span class="toc-text">1ã€é—®é¢˜ã€å‘</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E8%A7%A3%E5%86%B3%EF%BC%9A"><span class="toc-text">2ã€è§£å†³ï¼š</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E5%91%A2%EF%BC%9F"><span class="toc-text">3ã€ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%EF%BC%9A"><span class="toc-text">æºç ï¼š</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E5%9C%A8%E7%BB%84%E4%BB%B6%E4%B8%AD%E6%89%A7%E8%A1%8C%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C%EF%BC%8C%E5%9C%A8%E5%BC%82%E6%AD%A5%E7%9A%84%E5%9B%9E%E8%B0%83%E4%B8%AD%E6%89%A7%E8%A1%8Ccommit%E5%8F%AF%E4%BB%A5%E5%90%97%EF%BC%9F"><span class="toc-text">4ã€åœ¨ç»„ä»¶ä¸­æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼Œåœ¨å¼‚æ­¥çš„å›è°ƒä¸­æ‰§è¡Œcommitå¯ä»¥å—ï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E3%80%81vuex%E4%B8%AD%E4%B8%BA%E4%BB%80%E4%B9%88%E6%8A%8A%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C%E5%B0%81%E8%A3%85%E5%9C%A8action%EF%BC%8C%E6%8A%8A%E5%90%8C%E6%AD%A5%E6%93%8D%E4%BD%9C%E6%94%BE%E5%9C%A8mutations%EF%BC%9F"><span class="toc-text">4ã€vuexä¸­ä¸ºä»€ä¹ˆæŠŠå¼‚æ­¥æ“ä½œå°è£…åœ¨actionï¼ŒæŠŠåŒæ­¥æ“ä½œæ”¾åœ¨mutationsï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%E3%80%81Action"><span class="toc-text">5ã€Action</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%EF%BC%9A-2"><span class="toc-text">æºç ï¼š</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6%E3%80%81%E5%AF%B9%E6%AF%94Redux"><span class="toc-text">6ã€å¯¹æ¯”Redux</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E8%80%85%E6%80%BB%E7%9A%84%E6%80%9D%E6%83%B3%EF%BC%9A"><span class="toc-text">3è€…æ€»çš„æ€æƒ³ï¼š</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2023 By é£å„¿</div><div id="running-time"></div><div class="footer_custom_text"><p><a style="margin-inline:5px" target="_blank" href="https://hexo.io/"><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="åšå®¢æ¡†æ¶ä¸º Hexo" alt="HEXO"></a><a style="margin-inline:5px" target="_blank" href="https://butterfly.js.org/"><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="ä¸»é¢˜é‡‡ç”¨ Butterfly" alt="Butterfly"></a><a style="margin-inline:5px" target="_blank" href="https://www.jsdelivr.com/"><img src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&logo=jsDelivr" title="æœ¬ç«™ä½¿ç”¨ Jsdelivr ä¸ºé™æ€èµ„æºæä¾›CDNåŠ é€Ÿ" alt="Jsdelivr"></a><a style="margin-inline:5px" target="_blank" href="https://github.com/"><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&logo=GitHub" title="æœ¬ç«™é¡¹ç›®ç”± GitHub æ‰˜ç®¡" alt="GitHub"></a><a style="margin-inline:5px" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris" alt="img" title="æœ¬ç«™é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯"></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><a class="icon-V hidden" onclick="switchNightMode()" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="to_comment" type="button" title="ç›´è¾¾è¯„è®º" onclick="FixedCommentBtn()"><i class="fas fa-comments"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button><button id="go-down" type="button" title="ç›´è¾¾åº•éƒ¨" onclick="btf.scrollToDest(document.body.scrollHeight,500)"><i class="fas fa-arrow-down"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« "></div></div></div><hr><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(()=>{const t=document.getElementById("twikoo-count"),o=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://twikoo-hexo-vert.vercel.app/",region:""},null))},e=()=>{twikoo.getCommentsCount({envId:"https://twikoo-hexo-vert.vercel.app/",region:"",urls:[window.location.pathname],includeReply:!1}).then((function(o){t.innerText=o[0].count})).catch((function(t){console.error(t)}))},n=(n=!1)=>{"object"==typeof twikoo?(o(),n&&t&&setTimeout(e,0)):getScript("https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js").then(()=>{o(),n&&t&&setTimeout(e,0)})};btf.loadComment(document.getElementById("twikoo-wrap"),n)})()</script></div><script defer data-pjax src="/js/nav.js"></script><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script defer src="/js/cursor.js"></script><script async src="//at.alicdn.com/t/c/font_3859043_rw1ayonelb.js"></script><script defer data-pjax src="/js/meihua.js"></script><script defer src="https://cdn1.tianli0.top/gh/nextapps-de/winbox/dist/winbox.bundle.min.js"></script><script defer data-pjax src="/js/bottomTime.js"></script><div id="live3d" class="live3d" style="position:fixed;left:-110px;bottom:30px;z-index:98"><canvas id="live2dm" class="live3d" style="max-width:500px;max-height:437.5px"></canvas></div><script defer data-pjax src="https://cdn.jsdelivr.net/npm/hexo-beautiful-page@latest/lib/asyncmodel.min.js"></script><script defer data-pjax src="/js/sun_moon.js" async></script><script defer src="https://cdn.jsdelivr.net/npm/echarts@4.9.0/dist/echarts.min.js"></script><script defer data-pjax src="/js/emoji.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors=["title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show","#web_bg",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(window.removeEventListener("scroll",window.tocScrollFn),window.removeEventListener("scroll",scrollCollect),"object"==typeof preloader&&preloader.initLoading(),window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode")})),document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll(),"object"==typeof preloader&&preloader.endLoading()})),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script data-pjax>if(document.getElementById("recent-posts")&&"/"===location.pathname){var parent=document.getElementById("recent-posts"),child='<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://mynightwish.online/categories/1-1-CSS/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸŒ° CSS<br>(17)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://mynightwish.online/categories/1-2-JS/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ¥‘ JSã€ES<br>(29)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://mynightwish.online/categories/1-3-Ajax/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ¥ Ajaxã€Axios<br>(3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://mynightwish.online/categories/1-4-æ¡†æ¶/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ¡ Reactã€Vue<br>(15)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://mynightwish.online/categories/2-1-ç»„ä»¶åº“/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ‰ ç»„ä»¶åº“å¼€å‘<br>(2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://mynightwish.online/categories/2-2-åŸºå»º/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ¹ é¡¹ç›®åŸºå»º<br>(5)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://mynightwish.online/categories/2-3-å®ç°Tricks/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ’« ç§¯ç´¯åŠŸèƒ½<br>(4)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://mynightwish.online/categories/2-4-é¡¹ç›®/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ”® é¡¹ç›®æ€»ç»“<br>(12)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://mynightwish.online/categories/3-1-è®°å½•/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ‘» ç¢ç¢å¿µ~<br>(3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://mynightwish.online/categories/3-2-æµè§ˆå™¨/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ’¡ æµè§ˆå™¨æ¸²æŸ“<br>(8)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://mynightwish.online/categories/3-3-åŸºç¡€/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ§Š ç½‘ç»œ<br>(10)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://mynightwish.online/categories/3-4-Tool/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">ğŸ¤ å·¥å…·ã€è„šæœ¬<br>(1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><a class="magnet_link_more"  href="https://mynightwish.online/categories" style="flex:1;text-align: center;margin-bottom: 10px;">æŸ¥çœ‹æ›´å¤š...</a></div></div>';console.log("å·²æŒ‚è½½magnet"),parent.insertAdjacentHTML("afterbegin",child)}</script><style>#catalog_magnet{flex-wrap:wrap;display:flex;width:100%;justify-content:space-between;padding:10px 10px 0 10px;align-content:flex-start}.magnet_item{flex-basis:calc(25% - 5px);background:#f2f2f2;margin-bottom:10px;border-radius:8px;transition:all .2s ease-in-out}.magnet_item:hover{background:#b30070}.magnet_link_more{color:#555}.magnet_link{color:#000}.magnet_link:hover{color:#fff}@media screen and (max-width:600px){.magnet_item{flex-basis:100%}}.magnet_link_context{display:flex;padding:10px;font-size:16px;transition:all .2s ease-in-out}.magnet_link_context:hover{padding:10px 20px}</style><style></style><script data-pjax>function butterfly_swiper_injector_config(){var s=document.getElementById("recent-posts");console.log("å·²æŒ‚è½½butterfly_swiper"),s.insertAdjacentHTML("afterbegin",'<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/2621268747.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://mynightwish.oss-cn-beijing.aliyuncs.com/React/react-virtualDom.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2021-12-13</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/2621268747.html&quot;);" href="javascript:void(0);" alt="">Reactçš„è™šæ‹ŸDOM</a><div class="blog-slider__text">å…„å¼Ÿç¯‡Reactçš„è™šæ‹ŸDOMï¼ŒåŒ…æ‹¬äº†æ ˆè°ƒå’Œ</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/2621268747.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/ReactHooks.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://mynightwish.oss-cn-beijing.aliyuncs.com/React/hook1.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2021-12-11</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/ReactHooks.html&quot;);" href="javascript:void(0);" alt="">React-Hookçš„å‡ºç°</a><div class="blog-slider__text">ä¸ºä½•Hooksæ˜¯Reactçš„æœªæ¥</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/ReactHooks.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/656350506.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://mynightwish.oss-cn-beijing.aliyuncs.com/CSS/æµè§ˆå™¨å¼‚æ­¥.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2021-12-11</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/656350506.html&quot;);" href="javascript:void(0);" alt="">JSçš„EventLoop</a><div class="blog-slider__text">å¼‚æ­¥ä¸åŒæ­¥ã€å®ä»»åŠ¡ã€å¾®ä»»åŠ¡</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/656350506.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/3384747987.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTfnIl0f3oUJLgGFb7Qgi97y1hY9uIQsHizXQ&amp;usqp=CAU" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2021-12-11</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/3384747987.html&quot;);" href="javascript:void(0);" alt="">JSçš„å¼‚æ­¥è§£å†³æ–¹æ¡ˆ</a><div class="blog-slider__text">å‰ç«¯å¼‚æ­¥ä¹‹è·¯</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/3384747987.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>')}for(var elist="undefined".split(","),cpage=location.pathname,epage="/",flag=0,i=0;i<elist.length;i++)cpage.includes(elist[i])&&flag++;("all"===epage&&0==flag||epage===cpage)&&butterfly_swiper_injector_config()</script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><script async>window.onload=function(){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.src="/sw-register.js?v="+Date.now(),t.parentNode.insertBefore(e,t)}</script></body></html>