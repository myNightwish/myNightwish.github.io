<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>é¡¹ç›®3ï¼šè´­ç‰©è¡—é¡¹ç›®:å­¦ä¹ ç¬”è®° | Nightwishã®blogğŸ§Š</title><meta name="keywords" content="Vue"><meta name="author" content="é£å„¿"><meta name="copyright" content="é£å„¿"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="é¡¹ç›®æ—¶é—´ï¼š 2020å¹´11æœˆ-12æœˆå¤§æ¦‚ é¡¹ç›®èƒŒæ™¯ï¼š ç»™å¸ˆå§åšçš„ï¼ˆé¦–é¡µåŠŸèƒ½+è´­ç‰©è½¦ï¼‰ é¡¹ç›®è®°å½•ç¯‡ï¼Œæ¯”è¾ƒå•°å—¦  é¡¹ç›®é¦–é¡µHomeç¬”è®°Â· é¡¹ç›®ç›¸å…³é…ç½®ï¼šé¡¹ç›®çš„ç›®å½•ç»“æ„åˆ’åˆ†ï¼ˆä¸»è¦æ˜¯Srcï¼‰Â·   å»æ‰publicé‡Œé¢çš„index.hml çš„ faviconå›¾æ ‡ï¼Œå»æ‰åˆå§‹åŒ–çš„hellworld.vue   assets  img  cart common detail home profile tabb">
<meta property="og:type" content="article">
<meta property="og:title" content="é¡¹ç›®3ï¼šè´­ç‰©è¡—é¡¹ç›®:å­¦ä¹ ç¬”è®°">
<meta property="og:url" content="https://mynightwish.online/posts/926905116.html">
<meta property="og:site_name" content="Nightwishã®blogğŸ§Š">
<meta property="og:description" content="é¡¹ç›®æ—¶é—´ï¼š 2020å¹´11æœˆ-12æœˆå¤§æ¦‚ é¡¹ç›®èƒŒæ™¯ï¼š ç»™å¸ˆå§åšçš„ï¼ˆé¦–é¡µåŠŸèƒ½+è´­ç‰©è½¦ï¼‰ é¡¹ç›®è®°å½•ç¯‡ï¼Œæ¯”è¾ƒå•°å—¦  é¡¹ç›®é¦–é¡µHomeç¬”è®°Â· é¡¹ç›®ç›¸å…³é…ç½®ï¼šé¡¹ç›®çš„ç›®å½•ç»“æ„åˆ’åˆ†ï¼ˆä¸»è¦æ˜¯Srcï¼‰Â·   å»æ‰publicé‡Œé¢çš„index.hml çš„ faviconå›¾æ ‡ï¼Œå»æ‰åˆå§‹åŒ–çš„hellworld.vue   assets  img  cart common detail home profile tabb">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://images.unsplash.com/photo-1636980015567-01c079ac7304?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=435&q=80">
<meta property="article:published_time" content="2021-12-12T16:17:05.000Z">
<meta property="article:modified_time" content="2023-01-09T14:45:43.711Z">
<meta property="article:author" content="é£å„¿">
<meta property="article:tag" content="Vue">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://images.unsplash.com/photo-1636980015567-01c079ac7304?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=435&q=80"><link rel="shortcut icon" href="/img/favicon.webp"><link rel="canonical" href="https://mynightwish.online/posts/926905116"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="manifest" href="/"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?41dc163acde19f0f2684b23f1468c5dc";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":false,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'é¡¹ç›®3ï¼šè´­ç‰©è¡—é¡¹ç›®:å­¦ä¹ ç¬”è®°',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-01-09 22:45:43'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    document.addEventListener('pjax:complete', detectApple)})(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/double.css"><link rel="stylesheet" href="/css/beautify.css" media="async"><link rel="stylesheet" href="/css/progress_bar.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/l-lin/font-awesome-animation/dist/font-awesome-animation.min.css"  media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/lastLoad.css" media="defer" onload="this.media='all'"><style id="themeColor"></style><style id="rightSide"></style><style id="transPercent"></style><style id="blurNum"></style><style id="settingStyle"></style><span id="fps"></span><style id="defineBg"></style><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_3859043_rw1ayonelb.css" media="defer" onload="this.media='all'"><script async src="https://cdn.jsdelivr.net/npm/echarts@4.9.0/dist/echarts.min.js"></script><svg aria-hidden="true" style="position:absolute; overflow:hidden; width:0; height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-categories-card/lib/categorybar.css"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="/css/swiperstyle.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.2"></head><body><div id="web_bg"><style>#web_bg{
  background: var(--default-bg);
  background-attachment: local;
  background-position: center;
  background-size: cover;
  background-repeat: no-repeat;
}
[data-theme="dark"]
  #web_bg{
    background: var(--darkmode-bg) !important;
    background-attachment: local!important;
    background-position: center!important;
    background-size: cover!important;
    background-repeat: no-repeat!important;
  }
</style></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avartor.webp" onerror="onerror=null;src='https://mynightwish.oss-cn-beijing.aliyuncs.com/staticResource/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">112</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">91</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">14</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><i class="fa-fw icon-food-strawberry"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-food-strawberry"></use></svg><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/categories/"><i class="fa-fw icon-food-eggyolkcake"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-food-eggyolkcake"></use></svg><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/archives/"><i class="fa-fw icon-food-popsicle"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-food-popsicle"></use></svg><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-food-doughnut"></use></svg><span> è¶³è¿¹</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/charts/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-xiangjiB">                   </use></svg><span> æ–‡ç« </span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-diannaoB"></use></svg><span> åª’ä½“</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-erjiB">                   </use></svg><span> éŸ³ä¹</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/movies/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-dianshijiB">                   </use></svg><span> è§†é¢‘</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/books/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shouyinjiB">                   </use></svg><span> ä¹¦ç±</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/comments/"><i class="fa-fw icon-food-macaron"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-food-macaron"></use></svg><span> ç•™è¨€æ¿</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://images.unsplash.com/photo-1636980015567-01c079ac7304?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=435&amp;q=80')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Nightwishã®blogğŸ§Š</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><i class="fa-fw icon-food-strawberry"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-food-strawberry"></use></svg><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/categories/"><i class="fa-fw icon-food-eggyolkcake"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-food-eggyolkcake"></use></svg><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/archives/"><i class="fa-fw icon-food-popsicle"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-food-popsicle"></use></svg><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-food-doughnut"></use></svg><span> è¶³è¿¹</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/charts/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-xiangjiB">                   </use></svg><span> æ–‡ç« </span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-diannaoB"></use></svg><span> åª’ä½“</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-erjiB">                   </use></svg><span> éŸ³ä¹</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/movies/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-dianshijiB">                   </use></svg><span> è§†é¢‘</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/books/"><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-shouyinjiB">                   </use></svg><span> ä¹¦ç±</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/comments/"><i class="fa-fw icon-food-macaron"></i><svg class="icon faa-tada" aria-hidden="true"><use xlink:href="#icon-food-macaron"></use></svg><span> ç•™è¨€æ¿</span></a></div></div><center id="name-container"><a id="page-name" href="javascript:scrollToTop()"></a></center><div id="nav-right"><div id="search-button"><a class="search faa-parent animated-hover" title="æ£€ç´¢ç«™å†…ä»»ä½•ä½ æƒ³è¦çš„ä¿¡æ¯"><svg class="faa-tada icon" style="height:28px;width:28px;fill:currentColor;position:relative;" aria-hidden="true"><use xlink:href="#icon-sousuo"></use></svg><span> search.title</span></a></div><a class="meihua faa-parent animated-hover" onclick="toggleWinbox()" title="ç¾åŒ–è®¾ç½®-è‡ªå®šä¹‰ä½ çš„é£æ ¼" id="meihua-button"><svg class="faa-tada icon" style="height:28px;width:28px;fill:currentColor;position:relative;margin-left:25px;margin-right:25px;" aria-hidden="true"><use xlink:href="#icon-food-cookie"></use></svg></a><a class="sun_moon faa-parent animated-hover" onclick="switchNightMode()" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢" id="nightmode-button"><svg class="faa-tada" style="height:28px;width:28px;fill:currentColor;position:relative;" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-xiuxi">        </use></svg></a><div id="toggle-menu"><a><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-info"><h1 class="post-title">é¡¹ç›®3ï¼šè´­ç‰©è¡—é¡¹ç›®:å­¦ä¹ ç¬”è®°</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2021-12-12T16:17:05.000Z" title="å‘è¡¨äº 2021-12-13 00:17:05">2021-12-13</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2023-01-09T14:45:43.711Z" title="æ›´æ–°äº 2023-01-09 22:45:43">2023-01-09</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/2-4-%E9%A1%B9%E7%9B%AE/">2.4-é¡¹ç›®</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">1.6w</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>61åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="é¡¹ç›®3ï¼šè´­ç‰©è¡—é¡¹ç›®:å­¦ä¹ ç¬”è®°"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><ul>
<li>é¡¹ç›®æ—¶é—´ï¼š 2020å¹´11æœˆ-12æœˆå¤§æ¦‚</li>
<li>é¡¹ç›®èƒŒæ™¯ï¼š ç»™å¸ˆå§åšçš„ï¼ˆé¦–é¡µåŠŸèƒ½+è´­ç‰©è½¦ï¼‰</li>
<li>é¡¹ç›®è®°å½•ç¯‡ï¼Œæ¯”è¾ƒå•°å—¦</li>
</ul>
<h2 id="é¡¹ç›®é¦–é¡µHomeç¬”è®°">é¡¹ç›®é¦–é¡µHomeç¬”è®°<a class="anchor" href="#é¡¹ç›®é¦–é¡µHomeç¬”è®°">Â·</a></h2>
<h3 id="é¡¹ç›®ç›¸å…³é…ç½®ï¼šé¡¹ç›®çš„ç›®å½•ç»“æ„åˆ’åˆ†ï¼ˆä¸»è¦æ˜¯Srcï¼‰">é¡¹ç›®ç›¸å…³é…ç½®ï¼šé¡¹ç›®çš„ç›®å½•ç»“æ„åˆ’åˆ†ï¼ˆä¸»è¦æ˜¯Srcï¼‰<a class="anchor" href="#é¡¹ç›®ç›¸å…³é…ç½®ï¼šé¡¹ç›®çš„ç›®å½•ç»“æ„åˆ’åˆ†ï¼ˆä¸»è¦æ˜¯Srcï¼‰">Â·</a></h3>
<ul>
<li>
<p>å»æ‰publicé‡Œé¢çš„index.hml çš„ faviconå›¾æ ‡ï¼Œå»æ‰åˆå§‹åŒ–çš„hellworld.vue</p>
</li>
<li>
<p>assets</p>
<ul>
<li>img
<ul>
<li>cart</li>
<li>common</li>
<li>detail</li>
<li>home</li>
<li>profile</li>
<li>tabbar</li>
</ul>
</li>
<li>css
<ul>
<li>normalize.css</li>
<li>base.css</li>
</ul>
</li>
</ul>
</li>
<li>
<p>components</p>
<ul>
<li>common ï¼ˆè¿™é‡Œæ”¾ä¸ä»…ä»…å½“å‰é¡¹ç›®å¯ä»¥ç”¨çš„ï¼Œå®Œå…¨æŠ½ç¦»çš„ï¼Œè¿˜å¯ä»¥åœ¨å°†æ¥çš„ç»„ä»¶ä¸­åº”ç”¨ï¼‰
<ul>
<li>tabbar æ–‡ä»¶å¤¹: TabBar.vue    TabBarItem.vue</li>
<li>navbaræ–‡ä»¶å¤¹: NavBar.vue</li>
<li>scrollæ–‡ä»¶å¤¹:    Scroll.vue</li>
<li>swiperæ–‡ä»¶å¤¹ ï¼š  index.js    Swiper.vue    SwiperItem.vue</li>
<li>toastæ–‡ä»¶å¤¹ :        index.js    Toast.vue</li>
</ul>
</li>
<li>contentï¼ˆå’Œä¸šåŠ¡ç›¸å…³çš„å…¬å…±ç»„ä»¶ï¼Œåªé’ˆå¯¹å½“å‰é¡¹ç›®ï¼‰
<ul>
<li>maintabbar æ–‡ä»¶å¤¹:  MainTabBar.vue  ï¼ˆè¯¥ç»„ä»¶å®ç°äº†å¯¹åº•éƒ¨4ä¸ªæ¨¡å—çš„å°è£…ï¼‰</li>
<li>backTopæ–‡ä»¶å¤¹:   BackTop.vue</li>
</ul>
</li>
<li>goodsæ–‡ä»¶å¤¹ï¼š    GoodsList.vue    GoodsListItem.vue
<ul>
<li>tabcontrolæ–‡ä»¶å¤¹ï¼š  TabControl.vue</li>
</ul>
</li>
</ul>
</li>
<li>
<p>views (æˆ‘ä¸å¸Œæœ›æŠŠæ‰€æœ‰çš„ç»„ä»¶å…¨å†™åœ¨ä¸€èµ·ã€‚æ•´ä¸ªé¡µé¢ä¸šåŠ¡ç›¸å…³çš„ç»„ä»¶éƒ½æ”¾åœ¨è¿™é‡Œ)</p>
<ul>
<li>
<p>homeæ–‡ä»¶å¤¹ï¼š Home.vue   å’Œ  childCompsæ–‡ä»¶å¤¹
childCompsï¼š</p>
<ul>
<li>
<p>FeatureView.vue</p>
</li>
<li>
<p>homeswiper.vue</p>
</li>
<li>
<p>RecommendView.vue</p>
</li>
</ul>
</li>
<li>
<p>cartæ–‡ä»¶å¤¹:  Cart.vue å’Œ   childCompsæ–‡ä»¶å¤¹
childCompsæ–‡ä»¶å¤¹:</p>
<ul>
<li>CartBottomBar</li>
<li>CartList</li>
<li>CartListItem</li>
<li>CheckButton</li>
</ul>
</li>
<li>
<p>detailæ–‡ä»¶å¤¹ï¼š Detailç»„ä»¶  +   childCompsæ–‡ä»¶å¤¹
childCompsæ–‡ä»¶å¤¹ï¼š</p>
<ul>
<li>DetailImageInfo</li>
<li>DetailBaseInfo</li>
<li>DetailBottomBar</li>
<li>DetailCommentInfo</li>
<li>DetailGoodsInfo</li>
<li>DetailNavBar</li>
<li>DetailParamInfo</li>
<li>DetailShopInfo</li>
<li>DeatailSwiper</li>
</ul>
</li>
<li>
<p>categoryæ–‡ä»¶å¤¹  (æ— )</p>
</li>
<li>
<p>profileæ–‡ä»¶å¤¹    ï¼ˆæ— ï¼‰</p>
</li>
</ul>
</li>
<li>
<p>router</p>
<ul>
<li>index.js   ï¼ˆè¿™é‡Œå­˜æ”¾çš„æ˜¯è·¯ç”±é…ç½®ä¿¡æ¯ï¼‰</li>
</ul>
</li>
<li>
<p>store</p>
<ul>
<li>index.js</li>
<li>mutation-type.js</li>
<li>actions.js</li>
<li>mutation.js</li>
<li>getters.js</li>
</ul>
</li>
<li>
<p>network   (ç½‘ç»œè¯·æ±‚çš„å°è£…)</p>
<ul>
<li>request.js</li>
<li>home.js    è¿™é‡Œå°è£…äº†å¯¹é¦–é¡µæ•°æ®çš„è¯·æ±‚</li>
<li>detail.js</li>
</ul>
</li>
<li>
<p>common</p>
<ul>
<li>const.js   ï¼ˆæŠ½å‡ºçš„å¸¸é‡ï¼‰</li>
<li>util.js   ï¼ˆå…¬å…±çš„æ–¹æ³•æˆ–å‡½æ•°ï¼‰</li>
<li>mixin.js    (æ··å…¥)</li>
</ul>
</li>
</ul>
<h4 id="3-normalize-csså’Œbase-css">3.normalize.csså’Œbase.css<a class="anchor" href="#3-normalize-csså’Œbase-css">Â·</a></h4>
<ul>
<li>å»githubä¸Šé¢ä¸‹è½½normalize.css</li>
<li>æ”¾å…¥ç›¸åº”çš„æ–‡ä»¶å¤¹ä¸­ï¼Œåœ¨base.cssä¸­å¼•å…¥å®ƒ</li>
<li>å°†base.cssåœ¨app.vueä¸­ä½¿ç”¨</li>
</ul>
<h4 id="4-vue-config-jsæ–‡ä»¶å’Œ-editorconfig">4.vue.config.jsæ–‡ä»¶å’Œ.editorconfig<a class="anchor" href="#4-vue-config-jsæ–‡ä»¶å’Œ-editorconfig">Â·</a></h4>
<ul>
<li>ç›®çš„æ˜¯ä¸ºäº†é…ç½®è·¯å¾„åˆ«åçš„é—®é¢˜  cli2ä¸­ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„base.configé‡Œé¢å¯ä»¥å°½å¿ƒæ›´æ”¹ã€‚ä½†cli3ä¸­æ˜¯æ²¡æœ‰çš„ï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®ä¸‹æ–°å»º vue.config.jsæ–‡ä»¶ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  configureWebpack: &#123;</span><br><span class="line">    resolve: &#123;</span><br><span class="line">      alias: &#123;</span><br><span class="line">        &#x27;assets&#x27;: &#x27;@/assets&#x27;,</span><br><span class="line">        &#x27;common&#x27;: &#x27;@/common&#x27;,</span><br><span class="line">        &#x27;components&#x27;: &#x27;@/components&#x27;,</span><br><span class="line">        &#x27;network&#x27;: &#x27;@/network&#x27;,</span><br><span class="line">        &#x27;views&#x27;: &#x27;@/views&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>cli2ä¸­ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„.editorconfigé‡Œé¢å¯ä»¥å°½è¡Œæ›´æ”¹ã€‚è¿™é‡Œä¸»è¦å¯¹æ•´ä¸ªé¡¹ç›®çš„ä»£ç é£æ ¼çš„ç»Ÿä¸€è€Œcli3ä¸­æ²¡æœ‰çš„ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¹‹å‰çš„æ‹¿è¿‡æ¥ã€‚æ¯”å¦‚ä¸€ä¸ªå…¬å¸çš„ä¸åŒé¡¹ç›®ä»£ç é£æ ¼åŸºæœ¬æ˜¯ä¸€è‡´çš„</li>
</ul>
<h4 id="5-é…ç½®ä¹‹å‰å†™å¥½çš„MainBarç»„ä»¶">5.é…ç½®ä¹‹å‰å†™å¥½çš„MainBarç»„ä»¶<a class="anchor" href="#5-é…ç½®ä¹‹å‰å†™å¥½çš„MainBarç»„ä»¶">Â·</a></h4>
<ul>
<li>è®¾ç½®commoné‡Œçš„æ–‡ä»¶tabbar æ–‡ä»¶å¤¹å’Œmaintabbaræ–‡ä»¶å¤¹ã€‚å¹¶æ›´æ”¹maintabbaré‡Œé¢çš„å›¾ç‰‡src</li>
<li>å› ä¸ºè¿™æ˜¯æˆ‘ä»¬ä»ä¸Šä¸€ä¸ªé¡¹ç›®é‡Œæ‹¿å‡ºæ¥çš„ï¼Œæ‰€ä»¥è·¯å¾„æ˜¯è¦æ³¨æ„åŒ¹é…çš„ï¼Œæ–¹å¼å‚è€ƒvue.config.js</li>
<li>å°†MainBarç»„ä»¶å¯¼å…¥åˆ°App.vueé‡Œé¢</li>
</ul>
<h4 id="6-é¡¹ç›®æ¨¡å—çš„åˆ’åˆ†ä¸è·¯ç”±é…ç½®ä¿¡æ¯">6.é¡¹ç›®æ¨¡å—çš„åˆ’åˆ†ä¸è·¯ç”±é…ç½®ä¿¡æ¯<a class="anchor" href="#6-é¡¹ç›®æ¨¡å—çš„åˆ’åˆ†ä¸è·¯ç”±é…ç½®ä¿¡æ¯">Â·</a></h4>
<ul>
<li>
<p>åœ¨viewsæ–‡ä»¶å¤¹ä¸‹åˆ›å»º4ä¸ªå­æ–‡ä»¶å¤¹ï¼Œæ¯ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„ç»„ä»¶åªä¸ä½ å½“å‰çš„é¡µé¢ç›¸å…³</p>
</li>
<li>
<p>routeræ–‡ä»¶å¤¹ä¸‹çš„index.jsé‡Œã€‚ã€‚åœ¨main.jsé‡Œé¢å¯¼å…¥+æ³¨å†Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line"></span><br><span class="line">//è·¯ç”±çš„æ‡’åŠ è½½</span><br><span class="line">const Home = () =&gt; import(&#x27;views/home/Home&#x27;)</span><br><span class="line">const Profile = () =&gt; import(&#x27;views/profile/Profile&#x27;)</span><br><span class="line">const Cart = () =&gt; import(&#x27;views/cart/Cart&#x27;)</span><br><span class="line">const Category = () =&gt; import(&#x27;views/category/Category&#x27;)</span><br><span class="line"></span><br><span class="line">const routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: &#x27;&#x27;,</span><br><span class="line">    redirect: &#x27;/home&#x27;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: &#x27;/home&#x27;,</span><br><span class="line">    component: Home</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: &#x27;/profile&#x27;,</span><br><span class="line">    component: Profile</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: &#x27;/cart&#x27;,</span><br><span class="line">    component: Cart</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: &#x27;/category&#x27;,</span><br><span class="line">    component: Category</span><br><span class="line">  &#125;]</span><br><span class="line">const router = new VueRouter(&#123;</span><br><span class="line">  routes,</span><br><span class="line">  mode: &#x27;history&#x27;,</span><br><span class="line">&#125;)</span><br><span class="line">export default router</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>æˆ‘åœ¨è¿™é‡Œé‡åˆ°äº†é—®é¢˜ï¼š		
åœ¨ç‚¹å‡»é¦–é¡µä¹‹åï¼Œç›¸åº”çš„é¡µé¢æ²¡æœ‰æ˜¾ç¤ºï¼Ÿ</p>
<ul>
<li>å› ä¸ºæˆ‘åœ¨App.vueé‡Œæ²¡æœ‰åŠ router-viewï¼Œå¯¼è‡´æ¯ä¸ªæŒ‰é’®ç‚¹å‡»åç›¸å…³çš„ç»„ä»¶å…¨æ˜¾ç¤ºä¸å‡ºæ¥</li>
</ul>
</li>
</ul>
<p>è´­ç‰©è½¦é¡µé¢åˆæ˜¾ç¤ºä¸å‡ºæ¥???</p>
<ul>
<li>
<p>æ¨¡æ¿é‡Œçš„æ¯ä¸ªæ ‡ç­¾ç»‘å®šäº†ä¸€ä¸ªtoå±æ€§ã€‚å®ƒå‘Šè¯‰å­ç»„ä»¶ï¼Œæˆ‘ç°åœ¨åœ¨è¿™ä¸ªè·¯å¾„ï¼Œä½ å»routerçš„é…ç½®é‡Œé¢ï¼Œæ‰¾è·Ÿæˆ‘è·¯å¾„åŒ¹é…çš„è·¯ç”±å¯¹è±¡ï¼Œå¹¶æŠŠå®ƒåœ¨æˆ‘çš„é¡µé¢å±•ç¤ºå‡ºæ¥ã€‚</p>
<ul>
<li>toå±æ€§ä¸Šçš„è·Ÿæ¯ä¸ªè·¯ç”±å¯¹è±¡é‡Œçš„pathæ˜¯å¿…é¡»ä¸€è‡´çš„ã€‚åŸæ¥çš„/shopcart  è€Œè·¯ç”±é‡Œé¢/cartã€‚ã€‚ä»–æ ¹æœ¬å°±æ²¡æœ‰å»ºç«‹è”ç³»ï¼Œæ‰€ä»¥ä¹Ÿä¸ä¼šæ˜¾ç¤ºå†…å®¹</li>
</ul>
<p>ç¬¬ä¸‰ä¸ªç–‘æƒ‘é—®é¢˜ï¼šä¸ºä»€ä¹ˆHomeç»„ä»¶å¹¶æ²¡æœ‰åœ¨APPä¸­è¿›è¡Œå¼•å…¥ï¼Œå´å¯ä»¥åœ¨é¡µé¢ä¸­æ˜¾ç¤ºå‘¢ï¼Ÿ</p>
<ul>
<li>è¿™å…¶å®è·Ÿä¸Šé¢çš„åŸç†éƒ½æ˜¯ä¸€è‡´çš„ã€‚å› ä¸ºé¡µé¢å±•ç¤ºå‡ºæ¥çš„å†…å®¹æ˜¯é€šè¿‡è·¯ç”±é…ç½®ä¿¡æ¯æ‰¾åˆ°çš„ç»„ä»¶ï¼Œå†ç”±router-viewå°†è¿™éƒ¨åˆ†ç»„ä»¶çš„å†…å®¹è¿›è¡Œå±•ç¤ºã€‚è·¯ç”±ç›¸å…³çŸ¥è¯†æ€»ç»“ï¼šhttps://www.cnblogs.com/samweb/p/6610733.html</li>
</ul>
</li>
</ul>
<h3 id="1-å¯¼èˆªæ å¼€å‘">1. å¯¼èˆªæ å¼€å‘<a class="anchor" href="#1-å¯¼èˆªæ å¼€å‘">Â·</a></h3>
<ul>
<li>
<p>æ˜¾ç¤ºæ•ˆæœ
<img src="C:%5CUsers%5C%E5%B0%8F%E8%99%8E%E7%89%99%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20201202204147460.png" alt="image-20201202204147460"></p>
</li>
<li>
<p>NavBarç»„ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;nav-bar&quot;&gt;</span><br><span class="line">    &lt;!-- 1.æ³¨æ„è¿™é‡Œä¸è¦å¯¹slotè¿›è¡Œç›´æ¥å¸ƒå±€ï¼Œè€Œæ˜¯ç”¨divç»™ä»–åŒ…èµ·æ¥ï¼Œç»™divå¸ƒå±€ --&gt;</span><br><span class="line">    &lt;!-- 2.æ’æ§½å¿…é¡»è¦æœ‰åå­—ï¼Œè¿™æ ·æˆ‘ä»¬æ’å¾—æ—¶å€™æ‰èƒ½å¯¹åº”èµ·æ¥ï¼ŒæŒ‡å®šæ›¿æ¢çš„æ˜¯å“ªä¸€ä¸ª --&gt;</span><br><span class="line">    &lt;div class=&quot;left&quot;&gt;&lt;slot name=&quot;left&quot;&gt;&lt;/slot&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;center&quot;&gt;&lt;slot name=&quot;center&quot;&gt;&lt;/slot&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;right&quot;&gt;&lt;slot name=&quot;right&quot;&gt;&lt;/slot&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;NavBar&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">  /* ä¸ºæ’æ§½è®¾ç½®æ ·å¼ï¼Œä½¿ç”¨flexå¸ƒå±€ */</span><br><span class="line">  .nav-bar &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    /* å¯¼èˆªæ çš„é«˜åº¦ä¸€èˆ¬æ˜¯44.å¦‚æœæ˜¯æœ‰å¯¼èˆªæ é«˜åº¦æ˜¯64 */</span><br><span class="line">    height: 44px;</span><br><span class="line">    line-height: 44px;</span><br><span class="line">    box-shadow: 0 1px 1px rgba(100, 100, 100, 1);</span><br><span class="line">  &#125;</span><br><span class="line">  /* ä¸€èˆ¬å·¦è¾¹æ’æ§½æ—¶å›ºå®šçš„ï¼Œå³è¾¹ä¹Ÿæ˜¯ï¼Œä¸­é—´å ç”¨å‰©ä½™çš„ */</span><br><span class="line">  .left,</span><br><span class="line">  .right &#123;</span><br><span class="line">    width: 60px;</span><br><span class="line">  &#125;</span><br><span class="line">  .center &#123;</span><br><span class="line">    flex: 1;</span><br><span class="line">    text-align: center;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<pre><code>    &lt;nav-bar class=&quot;home-nav&quot;&gt;
      &lt;div slot = &quot;center&quot;&gt;è´­ç‰©è¡—&lt;/div&gt;
    &lt;/nav-bar&gt;
    å¯¼å…¥+æ³¨å†Œ
    &lt;style scoped&gt;
      .home-nav &#123;
        background-color: var(--color-tint);
        color: #fff;
      &#125;
&lt;/style&gt;
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">+ åˆ†æï¼š </span><br><span class="line"></span><br><span class="line">  + å®¹æ˜“å¿˜è®°åœ¨Homeé‡Œé¢å¯¼å…¥ï¼Œæœ€æ˜“çŠ¯é”™çš„æ˜¯æ²¡æœ‰åœ¨componentsé‡Œé¢æ³¨å†Œå°±ä½¿ç”¨</span><br><span class="line"></span><br><span class="line">  + é¦–å…ˆè¿™ä¸ªç»„ä»¶æœ‰å·¦ã€ä¸­ã€å³ä¸‰éƒ¨åˆ†ã€‚è¿™ä¸‰ä¸ªä½ç½®è®¾ç½®äº†æ’æ§½ï¼Œé€šè¿‡Homeç»„ä»¶é‡Œv-slotï¼Œå’Œå­ç»„ä»¶é‡Œçš„æ’æ§½nameï¼Œæˆ‘ä»¬å¯ä»¥éšæ„æŒ‡å®šå“ªä¸€ä¸ªä½ç½®çš„å†…å®¹æ˜¯ä»€ä¹ˆã€‚å¦‚æœæˆ‘ä»¬ä¸æƒ³ç”¨å“ªä¸ªæ’æ§½ï¼Œåªè¦Homeç»„ä»¶é‡Œæ²¡æœ‰ä¸å®ƒå¯¹åº”çš„æ ‡ç­¾å³å¯</span><br><span class="line">  + æ’æ§½é‡Œé¢çš„å†…å®¹å¦‚ä½•å®ç°å®šåˆ¶å‘¢ï¼Ÿ</span><br><span class="line">    åœ¨Homeç»„ä»¶é‡Œï¼Œæˆ‘ä»¬é€šè¿‡å¯¼å…¥å’Œæ³¨å†Œçš„å­ç»„ä»¶é‡Œï¼ŒæŠŠæƒ³æ’å…¥çš„å…ƒç´ ç”¨divä¹‹ç±»çš„åŒ…è£¹å³å¯ã€‚æ³¨æ„slotåå­—è¦ä¸å­ç»„ä»¶åå­—å¯¹åº”</span><br><span class="line"></span><br><span class="line">### 2.ç½‘ç»œæ•°æ®çš„è¯·æ±‚å°è£… ###</span><br><span class="line"></span><br><span class="line">+ ç½‘ç»œè¯·æ±‚æ–‡ä»¶æ˜¯åœ¨networkä¸‹é¢è¿›è¡Œçš„ã€‚æˆ‘ä»¬ä¸è¦åœ¨æ¯ä¸ªå­ç»„ä»¶ä¸‹éƒ½è¿›è¡Œç½‘ç»œè¯·æ±‚ã€‚ä¸€æ¥ï¼Œå®¹æ˜“æœåŠ¡å™¨æ‹¥æŒ¤</span><br><span class="line"></span><br><span class="line">  äºŒæ¥ï¼Œå½“æˆ‘æœ‰ä¸€å¤©æœåŠ¡å™¨å€Ÿå£è¿›è¡Œæ”¹å˜æ—¶ï¼Œæ‰€æœ‰çš„å­ç»„ä»¶éƒ½è¦è¿›è¡Œæ›´é«˜ã€‚è¿™å¯¹äºé¡¹ç›®å¼€å‘æ¥è¯´æ˜¯éå¸¸ç¾éš¾çš„ã€‚æ‰€ä»¥ä¸è¦è¿™æ ·åšï¼Œä¸æ˜“ç»´æŠ¤</span><br><span class="line"></span><br><span class="line">+ é¦–å…ˆæ˜¯request.jsæ–‡ä»¶</span><br><span class="line"></span><br><span class="line">  ```vue</span><br><span class="line">  //é¦–å…ˆè¦å®‰è£…axiosï¼šnpm install axios@0.18.0 --save    å†å¯¼å…¥axios</span><br><span class="line">  import axios from &#x27;axios&#x27;</span><br><span class="line">  export function request(config) &#123;</span><br><span class="line">    // 1.åˆ›å»ºaxiosçš„å®ä¾‹</span><br><span class="line">    const instance = axios.create(&#123;</span><br><span class="line">      //æ¢æ‰ç«¯å£åœ°å€</span><br><span class="line">      baseURL: &#x27;http://152.136.185.210:8000/api/w6&#x27;,</span><br><span class="line">      timeout: 5000</span><br><span class="line">    &#125;)</span><br><span class="line">    // 2.axiosçš„æ‹¦æˆªå™¨</span><br><span class="line">    // 2.1.è¯·æ±‚æ‹¦æˆªçš„ä½œç”¨</span><br><span class="line">    instance.interceptors.request.use(config =&gt; &#123;</span><br><span class="line">      return config</span><br><span class="line">    &#125;, err =&gt; &#123;&#125;)</span><br><span class="line">    // 2.2.å“åº”æ‹¦æˆª</span><br><span class="line">    instance.interceptors.response.use(res =&gt; &#123;</span><br><span class="line">      return res.data</span><br><span class="line">    &#125;, err =&gt; &#123;&#125;)</span><br><span class="line">    // 3.å‘é€çœŸæ­£çš„ç½‘ç»œè¯·æ±‚</span><br><span class="line">    return instance(config)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

</code></pre>
</li>
<li>
<p>home.jsæ–‡ä»¶</p>
<ul>
<li>ä¸ºä»€ä¹ˆè¿˜è¦è¿›è¡Œä¸€ä¸ªå°è£…ï¼Ÿéš¾é“requestä¸å¤Ÿå—ï¼Ÿ
<ul>
<li>è¿™ç§å°è£…çš„æ„ä¹‰åœ¨äºï¼Œhomeç»„ä»¶é¢å‘home.jså¼€å‘ã€‚homeç»„ä»¶é‡Œæ‰€æœ‰éœ€è¦è·å–çš„å†…å®¹ï¼Œä½ åªéœ€è¦è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œè€Œä¸éœ€è¦å…³å¿ƒæ•°æ®è¯·æ±‚ä¸­urlä¹‹ç±»çš„é…ç½®.å› ä¸ºè°ƒç”¨çš„å°è£…å‡½æ•°å·²ç»è®¾ç½®è¿‡è¿™äº›</li>
<li>å½“æœ‰ä¸€å¤©å€Ÿå£å‘ç”Ÿäº†å˜åŒ–ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨è¿™é‡Œè¿›è¡Œä¿®æ”¹ï¼Œå¯¹åº”çš„homeç»„ä»¶çš„æ•°æ®è‡ªåŠ¨å‘ç”Ÿç›¸åº”çš„æ›´æ–°ã€‚å¦‚æœæˆ‘ä»¬å»homeç»„ä»¶é‡Œè¿›è¡Œç½‘ç»œè¯·æ±‚ï¼Œåˆ™ä¼šé€ æˆï¼Œæ‰€æœ‰urlçš„åœ°æ–¹éƒ½éœ€è¦ä¿®æ”¹ã€‚å½“é¡¹ç›®ç»„ä»¶å¾ˆå¤šçš„æ—¶å€™ï¼Œè¿™æ˜¯å¾ˆææ€–çš„</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//å¯¹é¦–é¡µæ•°æ®çš„å°è£…è¯·æ±‚å†™åœ¨è¿™é‡Œã€‚è€Œä¸æ˜¯åœ¨requestä¸­å®Œæˆå¯¹æ‰€æœ‰æ•°æ®çš„å°è£…</span><br><span class="line">import axios from &#x27;axios&#x27;</span><br><span class="line">import &#123; request &#125; from &#x27;./request&#x27;</span><br><span class="line">//å°è£…çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä»–çš„åå­—å«getHomeMultidata</span><br><span class="line">export function getHomeMultidata () &#123;</span><br><span class="line">  //è¿™é‡Œè¿”å›çš„æ˜¯ä¸€ä¸ªpromiseå¯¹è±¡ï¼Œåœ¨é‚£è¾¹è¿›è¡Œ.thenæ‹¿åˆ°ç»“æœ</span><br><span class="line">  return request(&#123;</span><br><span class="line">    url: &#x27;/home/multidata&#x27;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Homeç»„ä»¶ï¼šæ‹¿åˆ°äº†å¾…ä¼šè¦ç”¨çš„æ•°æ®ï¼Œå¹¶è¿›è¡Œäº†åˆæ¬¡çš„ä¿å­˜</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//å› ä¸ºé‚£è¾¹æ²¡æœ‰defaultå¯¼å‡ºï¼Œæ‰€ä»¥ä¸èƒ½å»æ‰å¤§æ‹¬å·ï¼ï¼ï¼ï¼</span><br><span class="line">import &#123;getHomeMultidata&#125; from &#x27;network/home&#x27;</span><br><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      result: null,</span><br><span class="line">      banners: [],</span><br><span class="line">      recommends: [],</span><br><span class="line">      keywords: [],</span><br><span class="line">      dKeywords: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  //å½“é¦–é¡µç»„ä»¶åˆ›å»ºå®Œæˆä¹‹åï¼Œèµ¶ç´§è¿›è¡Œç½‘ç»œè¯·æ±‚ï¼Œå¾…ä¼šè¦è¿›è¡Œå±•ç¤º</span><br><span class="line">  created () &#123;</span><br><span class="line">    //1.è¯·æ±‚å¤šä¸ªæ•°æ®    getHomeMultidata()è°ƒç”¨å‡½æ•°ï¼Œè¿›è¡Œæ•°æ®è¯·æ±‚   .then()æ‹¿åˆ°è¯·æ±‚åçš„ç»“æœ</span><br><span class="line">    getHomeMultidata().then( res =&gt; &#123;</span><br><span class="line">      this.result = res;</span><br><span class="line">    //è¿™ä¸ªå‡½æ•°è°ƒç”¨çš„æ—¶å€™ä¼šæœ‰å‡½æ•°æ‰§è¡Œæ ˆï¼Œåœ¨è°ƒç”¨ç»“æŸåæ‰§è¡Œæ ˆé‡Œé¢çš„æ•°æ®ä¼šè¢«å…¨éƒ¨é”€æ¯æ‰ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å¯¹ä»–è¿›è¡Œä¸€ä¸ªä¿å­˜</span><br><span class="line">    </span><br><span class="line">    //åƒåœ¾å›æ”¶æœºåˆ¶ï¼šæ—¶é—´---ç­‰åˆ°æ²¡æœ‰å¼•ç”¨æŒ‡å‘ä»–çš„æ—¶å€™è¿›è¡Œåƒåœ¾å›æ”¶ã€‚resæŒ‡å‘çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå½“æ‰§è¡Œå®Œä¹‹åï¼Œ</span><br><span class="line">    //ä¼šé”€æ¯æ‰å˜é‡resã€‚æ­¤æ—¶rsæŒ‡å‘çš„é‚£ä¸ªæ•°æ®é‡Œé¢å°±æ²¡æœ‰è¢«å¼•ç”¨äº†ï¼Œå­¤é›¶é›¶ï¼Œæœ€ååƒåœ¾å›æ”¶æœºåˆ¶ä¼šå°†å®ƒä¹Ÿé”€æ¯æ‰ï¼Œ</span><br><span class="line">    //resultå¯¹resèµ‹å€¼ï¼Œå…¶å®æ˜¯å†…å­˜åœ°å€ã€‚è€Œæ­¤æ—¶çš„æ•°æ®å¯¹è±¡æœ‰äº†reultæ¥å¼•ç”¨ä»–ï¼Œæ‰€ä»¥è¿™ä¸ªæ•°æ®ä¸ä¼šè¢«é”€æ¯æ‰</span><br><span class="line">    //å…¶å®è¿™è·Ÿå †æ ˆç›¸å…³ï¼Œä»¥åŠæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</span><br><span class="line">    //å¯ä»¥é€šè¿‡devtoolæ’ä»¶é‡Œé¢çš„vueçš„HOMEç»“æ„ä¸‹çœ‹åˆ°resulté‡Œé¢å·²ç»ä¿å­˜äº†æ•°æ®</span><br><span class="line">    </span><br><span class="line">    //æ”¹è¿›ã€‚ä»æ•°æ®å¯¹è±¡é‡Œé¢å–å‡ºæ¥æ¯ä¸€é¡¹</span><br><span class="line">    this.banners = res.data.banner.list</span><br><span class="line">    this.recommends = res.data.recommend.list</span><br><span class="line">    //æ³¨æ„è¿™é‡Œè¯·æ±‚è¿‡æ¥çš„æ•°æ®é‡Œå°±æ˜¯å¤æ•°</span><br><span class="line">    this.keywords = res.data.keywords</span><br><span class="line">    this.dKeywords = res.data.dKeywords</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>è¡¥å……ä¸¤ä¸ªçŸ¥è¯†ç‚¹ï¼š</p>
<ul>
<li>
<h5 id="æ¨¡å—çš„å¯¼å…¥å¯¼å‡ºæ–¹å¼ï¼š">æ¨¡å—çš„å¯¼å…¥å¯¼å‡ºæ–¹å¼ï¼š<a class="anchor" href="#æ¨¡å—çš„å¯¼å…¥å¯¼å‡ºæ–¹å¼ï¼š">Â·</a></h5>
<ul>
<li>
<p>commandJsæ–¹å¼ï¼ˆå¯¼å…¥å¯¼å‡ºå¯¹è±¡ï¼‰ï¼šmodules.exports = {}    var aa = require(â€˜è·¯å¾„æ–‡ä»¶â€™)</p>
</li>
<li>
<p>ES6æ–¹å¼ï¼š</p>
<ul>
<li>
<p>ç›´æ¥å¯¼å…¥å˜é‡ï¼šimport  {a}  from â€˜~~â€™ ï¼Œå¿…é¡»æœ‰èŠ±æ‹¬å·</p>
</li>
<li>
<p>ç»Ÿä¸€å…¨éƒ¨å¯¼å…¥ï¼šimport  {a,b,c}  from â€˜~~â€™ (å‡½æ•°ï¼Œç±»ï¼Œå˜é‡éƒ½å¯ä»¥)</p>
</li>
<li>
<p>å¯¼å‡ºå‡½æ•°/ç±»ï¼šexport function aa(){}       export class bb{}</p>
</li>
<li>
<p>é»˜è®¤å¯¼å‡ºï¼šexport default {}   åªèƒ½æœ‰ä¸€ä¸ªé»˜è®¤å¯¼å‡ºï¼Œåœ¨å¯¹è¿™ç§è¿›è¡Œå¯¼å…¥çš„æ—¶å€™å¯ä»¥éšæ„èµ·åå­—ä¾‹å¦‚ï¼šimport  AA  from  â€˜è·¯å¾„æ–‡ä»¶â€™</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<h5 id="Vueçš„ç”Ÿå‘½å‘¨æœŸ"><strong>Vueçš„ç”Ÿå‘½å‘¨æœŸ</strong><a class="anchor" href="#Vueçš„ç”Ÿå‘½å‘¨æœŸ">Â·</a></h5>
<p>Vueå®ä¾‹æœ‰ä¸€ä¸ªå®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¹Ÿå°±æ˜¯ä»å¼€å§‹åˆ›å»ºã€åˆå§‹åŒ–æ•°æ®ã€ç¼–è¯‘æ¨¡æ¿ã€æŒ‚è½½Domã€æ¸²æŸ“â†’æ›´æ–°â†’æ¸²æŸ“ã€é”€æ¯ç­‰ä¸€ç³»åˆ—è¿‡ç¨‹ï¼Œæˆ‘ä»¬ç§°è¿™æ˜¯Vueçš„ç”Ÿå‘½å‘¨æœŸã€‚é€šä¿—è¯´å°±æ˜¯Vueå®ä¾‹ä»åˆ›å»ºåˆ°é”€æ¯çš„è¿‡ç¨‹ï¼Œå°±æ˜¯ç”Ÿå‘½å‘¨æœŸã€‚</p>
<p><strong>å®ä¾‹ç”Ÿå‘½å‘¨æœŸé’©å­</strong></p>
<p>æ¯ä¸ª Vue å®ä¾‹åœ¨è¢«åˆ›å»ºæ—¶éƒ½è¦ç»è¿‡ä¸€ç³»åˆ—çš„åˆå§‹åŒ–è¿‡ç¨‹â€”â€”ä¾‹å¦‚ï¼Œéœ€è¦è®¾ç½®æ•°æ®ç›‘å¬ã€ç¼–è¯‘æ¨¡æ¿ã€å°†å®ä¾‹æŒ‚è½½åˆ° DOM å¹¶åœ¨æ•°æ®å˜åŒ–æ—¶æ›´æ–° DOM ç­‰ã€‚åŒæ—¶åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¹Ÿä¼šè¿è¡Œä¸€äº›å«åšç”Ÿå‘½å‘¨æœŸé’©å­çš„å‡½æ•°ï¼Œè¿™ç»™äº†ç”¨æˆ·åœ¨ä¸åŒé˜¶æ®µæ·»åŠ è‡ªå·±çš„ä»£ç çš„æœºä¼šã€‚å¯¹åº”çš„8ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼š</p>
<ul>
<li><strong>beforeCreateã€created</strong>ã€</li>
<li><strong>beforeMountã€mounted</strong>ã€</li>
<li><strong>beforeUpdateã€updated</strong>ã€</li>
<li><strong>beforeDestroyã€destroyed</strong></li>
</ul>
<p><strong>Vueçš„ç”Ÿå‘½å‘¨æœŸå›¾ç¤ºï¼ˆå®˜æ–¹ä¸­æ–‡æ–‡æ¡£ï¼‰</strong>
<img src="https://img-blog.csdnimg.cn/20200418104137666.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0NDX1RvZ2V0aGVy,size_16,color_FFFFFF,t_70" alt="å®˜æ–¹å›¾ç¤º" style="zoom:50%;" />
<img src="https://img-blog.csdnimg.cn/20200418101911580.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0NDX1RvZ2V0aGVy,size_16,color_FFFFFF,t_70" alt="å›¾ç‰‡è½¬è‡ªcoderwhyè€å¸ˆ" style="zoom: 50%;" /></p>
<p><strong>Vueçš„ç”Ÿå‘½å‘¨æœŸè¿‡ç¨‹è¯¦è§£ï¼ˆä¸»è¦ä»¥é’©å­å‡½æ•°ä¸ºä¸»çº¿ï¼‰</strong></p>
<p><strong>1ã€beforeCreateï¼š</strong>
å®ä¾‹ç»„ä»¶é€šè¿‡new Vue() åˆ›å»ºå‡ºæ¥ä¹‹åä¼šåˆå§‹åŒ–äº‹ä»¶å’Œç”Ÿå‘½å‘¨æœŸï¼Œç„¶åå°±ä¼šæ‰§è¡Œ beforeCreate é’©å­å‡½æ•°ï¼Œ<strong>æ•°æ®å’Œ dom éƒ½æœªåˆå§‹åŒ–</strong>ï¼ˆå–ä¸åˆ°ï¼‰ï¼Œä¸€èˆ¬ä¸åšä»»ä½•æ“ä½œã€‚</p>
<p><strong>2ã€createdï¼š</strong>
<strong>æŒ‚è½½æ•°æ®ï¼Œç»‘å®šäº‹ä»¶å·²å®Œæˆ</strong>ï¼Œç„¶åæ‰§è¡Œcreatedå‡½æ•°ï¼Œè¿™ä¸ªæ—¶å€™å·²ç»å¯ä»¥æ“ä½œæ•°æ®, è€Œä¸”ä¸ä¼šè§¦å‘ updated å‡½æ•°ï¼Œä¸€èˆ¬åœ¨è¿™é‡Œåšåˆå§‹æ•°æ®çš„è·å–ï¼ˆç›¸æ¯”åœ¨ beforeMount è·å–æ•°æ®é¡µé¢æ¸²æŸ“é€Ÿåº¦è¾ƒå¿«ï¼‰ã€‚</p>
<p><strong>3ã€beforeMountï¼š</strong>
æ‰§è¡Œè¿™ä¸ªå‡½æ•°å‰ï¼Œ<strong>è™šæ‹Ÿdom åˆ›å»ºå®Œæˆï¼ŒçœŸå® domæœªå®ŒæˆæŒ‚è½½</strong>ã€‚è¿™é‡Œæ›´æ”¹æ•°æ®ä¸ä¼šè§¦å‘ updated ï¼Œåœ¨è¿™é‡Œä¹Ÿå¯ä»¥åšåˆå§‹æ•°æ®çš„è·å–ã€‚</p>
<p><strong>4ã€mountedï¼š</strong>
æ‰§è¡Œ mounted é’©å­å‡½æ•°å‰ï¼Œ<strong>æ•°æ®ã€çœŸå®doméƒ½å·²ç»å¤„ç†å¥½äº†</strong>,äº‹ä»¶ä¹ŸæŒ‚è½½å¥½äº†ï¼Œä¸€èˆ¬åœ¨è¿™é‡Œåˆå§‹åŒ–ä¸€äº›æ“ä½œçœŸå® dom çš„æ–¹æ³•ã€‚</p>
<p><strong>5ã€beforeUpdateï¼š</strong>
å½“ç»„ä»¶æˆ–å®ä¾‹çš„æ•°æ®æ›´æ”¹ï¼Œä¼šç«‹å³æ‰§è¡ŒbeforeUpdateï¼Œç„¶åvueçš„è™šæ‹Ÿdomæœºåˆ¶ä¼šé‡æ–°æ„å»ºè™šæ‹Ÿdomä¸ä¸Šä¸€æ¬¡çš„è™šæ‹Ÿdomæ ‘åˆ©ç”¨diffç®—æ³•è¿›è¡Œå¯¹æ¯”ä¹‹åé‡æ–°æ¸²æŸ“ã€‚å¯ä»¥ç›‘å¬åˆ° <strong>data å˜åŒ–ï¼Œä½†viewå±‚çš„æ•°æ®è¿˜æ²¡æœ‰å˜åŒ–</strong>ã€‚ä¸€èˆ¬ä¸åšä»»ä½•æ“ä½œã€‚</p>
<p><strong>6ã€updatedï¼š</strong>
viewå±‚çš„æ•°æ®é‡æ–°æ¸²æŸ“å®Œæˆåï¼Œæ‰§è¡Œupdatedï¼Œæ•°æ®å·²ç»æ›´æ”¹å®Œæˆï¼Œdomä¹Ÿé‡æ–°renderå®Œæˆï¼Œå¯ä»¥æ“ä½œæ›´æ–°åçš„è™šæ‹Ÿdom</p>
<p><strong>7ã€beforeDestroyï¼š</strong>
å½“ç»è¿‡æŸç§é€”å¾„è°ƒç”¨$destroyæ–¹æ³•åï¼Œç«‹å³æ‰§è¡ŒbeforeDestroyï¼Œä¸€èˆ¬åœ¨è¿™é‡Œåšä¸€äº›å–„åå·¥ä½œï¼Œä¾‹å¦‚æ¸…é™¤è®¡æ—¶å™¨ã€æ•°æ®å’Œäº‹ä»¶çš„ç›‘å¬ç­‰ã€‚</p>
<p><strong>8ã€destroyedï¼š</strong>
ç»„ä»¶çš„æ•°æ®ç»‘å®šã€äº‹ä»¶ç›‘å¬æ¸…é™¤ååªå‰©ä¸‹domç©ºå£³ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæ‰§è¡Œ destroyed å½»åº•é”€æ¯å®ä¾‹ï¼Œå¦‚æœåœ¨ beforeDestroy æ²¡æœ‰åšå–„åå·¥ä½œï¼Œåœ¨è¿™é‡Œåšå–„åå·¥ä½œä¹Ÿå¯ä»¥ã€‚</p>
<p><strong>æ³¨</strong>ï¼šæŒæ¡å„ä¸ªé’©å­å‡½æ•°æ‰§è¡Œæ—¶çš„ç¯å¢ƒï¼Œå¹¶åœ¨é¡¹ç›®å¼€å‘ä¸­æ­£ç¡®ä½¿ç”¨æ˜¾å¾—å°¤ä¸ºé‡è¦ï¼Œèƒ½é¿å…ä¸€äº›åŸºç¡€çš„bugã€‚</p>
</li>
</ul>
</li>
</ul>
<h3 id="3-é¦–é¡µè½®æ’­å›¾">3.é¦–é¡µè½®æ’­å›¾<a class="anchor" href="#3-é¦–é¡µè½®æ’­å›¾">Â·</a></h3>
<p><img src="C:%5CUsers%5C%E5%B0%8F%E8%99%8E%E7%89%99%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20201202204213590.png" alt="image-20201202204213590"></p>
<ul>
<li>
<p>Homeç»„ä»¶</p>
<ul>
<li>è½®æ’­å›¾æ˜¯æ”¾åœ¨é¦–é¡µå¯¼èˆªæ çš„ä¸‹é¢çš„ã€‚ä½†æ˜¯è¿™ä¸€éƒ¨åˆ†æˆ‘ä»¬ä¸è¦ç›´æ¥åœ¨Homeç»„ä»¶é‡Œå†™ã€‚Homeç»„ä»¶ä¸‹é¢è¿˜æœ‰è¦æ˜¾ç¤ºçš„å†…å®¹ï¼Œå¦‚æœæˆ‘ä»¬éƒ½å†™åœ¨è¿™é‡Œæœ€åï¼ŒHomeä¼šè¶Šæ¥è¶Šå¤šã€‚æ‰€ä»¥åªè¦æ˜¯ä¸ªç‹¬ç«‹çš„ä¸€å—ï¼Œæˆ‘ä»¬éƒ½è¦è¿›è¡Œå°è£…</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;home-swiper :banners = &quot;banners&quot;&gt;&lt;/home-swiper&gt;</span><br><span class="line">import HomeSwiper from &#x27;./homeswiper/HomeSwiper&#x27;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>åœ¨homeswiperä¸‹çš„HomeSwiperç»„ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- homeé‡Œé¢æ”¾ä¸»è¦çš„é€»è¾‘ï¼Œç»„ä»¶é‡Œé¢æ€ä¹ˆå°è£…çš„ï¼Œæˆ‘å¹¶ä¸å…³å¿ƒã€‚æ‰€ä»¥ä¸è¦æŠŠswiperç›´æ¥å†™åœ¨è¿™é‡Œï¼ŒæŠ½ç¦»åˆ°homeçš„æ–°æ–‡ä»¶ä¸‹ï¼Œæ”¾ä»–çš„å­ç»„ä»¶ --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;swiper&gt;</span><br><span class="line">    &lt;!-- è½®æ’­çš„æ¯ä¸€é¡¹ç”¨swiper-item  SwiperItemçš„ç»„ä»¶é‡Œé¢é¢„ç•™äº†æ’æ§½ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾€é‡Œé¢æ’å…¥æˆ‘æƒ³æ’å…¥çš„ä¸œè¥¿--&gt;</span><br><span class="line">    &lt;!-- è¿™é‡Œä¸è¦åˆ›å»º4ä¸ªé¡¹ï¼Œè€Œæ˜¯å¾ªç¯èµ·æ¥ ä»bannersé‡Œé¢å–å‡ºæ•°æ®ï¼Œå–ä»£æ’æ§½é‡Œé¢çš„å†…å®¹--&gt;</span><br><span class="line">    &lt;swiper-item v-for=&quot;item in banners&quot; :key=&quot;item.index&quot;&gt;</span><br><span class="line">      &lt;!-- å› ä¸ºå›¾ç‰‡æ˜¯å¯ä»¥ç‚¹å‡»çš„ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬è¦ç»™ä»–åŒ…è£…ä¸€ä¸ªæ ‡ç­¾a --&gt;</span><br><span class="line">      &lt;!-- é“¾æ¥ä¸­hrefå±æ€§æ˜¯è·å–æ•°æ®bannersé‡Œé¢æœ‰ä¸€ä¸ªlink --&gt;</span><br><span class="line">      &lt;a :href=&quot;item.link&quot;&gt;</span><br><span class="line">        &lt;!-- item.imageæ˜¯ä¸å¯¹çš„ï¼Œè¦åŠ¨æ€ç»‘å®šï¼Œæ‰€ä»¥è¦ç»‘å®šåˆ°imageé‡Œé¢çš„srcä¸Šé¢--&gt;</span><br><span class="line">        &lt;img :src=&quot;item.image&quot; alt=&quot;&quot;&gt;</span><br><span class="line">      &lt;/a&gt;</span><br><span class="line">    &lt;/swiper-item&gt;</span><br><span class="line">  &lt;/swiper&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//å› ä¸ºindex.jsæ–‡ä»¶å¯¹å¯¼å‡ºç»„ä»¶è¿›è¡ŒåŒä¸€å¯¼å‡ºï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ä¸éœ€è¦å†ä¸€ä¸ªä¸€ä¸ªåœ°å¯¼å…¥äº†</span><br><span class="line"> //å› ä¸ºé‚£è¾¹æ²¡æœ‰defaultå¯¼å‡ºï¼Œæ‰€ä»¥ä¸èƒ½å»æ‰å¤§æ‹¬å·ï¼ï¼ï¼ï¼</span><br><span class="line">import &#123;Swiper, SwiperItem&#125; from &#x27;components/common/swiper&#x27;</span><br><span class="line">    //ç­‰ä»·äºï¼š// import Swiper from &#x27;components/common/swiper/Swiper&#x27;</span><br><span class="line">// import SwiperItem from &#x27;components/common/swiper/SwiperItem&#x27;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &quot;HomeSwiper&quot;,</span><br><span class="line">    props: &#123;</span><br><span class="line">      banners: &#123;</span><br><span class="line">        type: Array,</span><br><span class="line">        default() &#123;</span><br><span class="line">          return []</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      Swiper,</span><br><span class="line">      SwiperItem</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Swiperç»„ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div id=&quot;hy-swiper&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;swiper&quot; @touchstart=&quot;touchStart&quot; @touchmove=&quot;touchMove&quot; @touchend=&quot;touchEnd&quot;&gt;</span><br><span class="line">        &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;slot name=&quot;indicator&quot;&gt;</span><br><span class="line">      &lt;/slot&gt;</span><br><span class="line">      &lt;div class=&quot;indicator&quot;&gt;</span><br><span class="line">        &lt;slot name=&quot;indicator&quot; v-if=&quot;showIndicator &amp;&amp; slideCount&gt;1&quot;&gt;</span><br><span class="line">          &lt;div v-for=&quot;(item, index) in slideCount&quot; class=&quot;indi-item&quot; :class=&quot;&#123;active: index === currentIndex-1&#125;&quot; :key=&quot;index.id&quot;&gt;&lt;/div&gt;</span><br><span class="line">        &lt;/slot&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	export default &#123;</span><br><span class="line">		name: &quot;Swiper&quot;,</span><br><span class="line">    props: &#123;</span><br><span class="line">      interval: &#123;</span><br><span class="line">		    type: Number,</span><br><span class="line">        default: 3000</span><br><span class="line">      &#125;,</span><br><span class="line">      animDuration: &#123;</span><br><span class="line">		    type: Number,</span><br><span class="line">        default: 300</span><br><span class="line">      &#125;,</span><br><span class="line">      moveRatio: &#123;</span><br><span class="line">        type: Number,</span><br><span class="line">        default: 0.25</span><br><span class="line">      &#125;,</span><br><span class="line">      showIndicator: &#123;</span><br><span class="line">        type: Boolean,</span><br><span class="line">        default: true</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    data: function () &#123;</span><br><span class="line">		  return &#123;</span><br><span class="line">        slideCount: 0, // å…ƒç´ ä¸ªæ•°</span><br><span class="line">        totalWidth: 0, // swiperçš„å®½åº¦</span><br><span class="line">        swiperStyle: &#123;&#125;, // swiperæ ·å¼</span><br><span class="line">        currentIndex: 1, // å½“å‰çš„index</span><br><span class="line">        scrolling: false, // æ˜¯å¦æ­£åœ¨æ»šåŠ¨</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted: function () &#123;</span><br><span class="line">      // 1.æ“ä½œDOM, åœ¨å‰åæ·»åŠ Slide</span><br><span class="line">      setTimeout(() =&gt; &#123;</span><br><span class="line">        this.handleDom();</span><br><span class="line"></span><br><span class="line">        // 2.å¼€å¯å®šæ—¶å™¨</span><br><span class="line">        this.startTimer();</span><br><span class="line">      &#125;, 100)</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">		  /*** å®šæ—¶å™¨æ“ä½œ*/</span><br><span class="line">      startTimer: function () &#123;</span><br><span class="line">		    this.playTimer = window.setInterval(() =&gt; &#123;</span><br><span class="line">		      this.currentIndex++;</span><br><span class="line">		      this.scrollContent(-this.currentIndex * this.totalWidth);</span><br><span class="line">        &#125;, this.interval)</span><br><span class="line">      &#125;,</span><br><span class="line">      stopTimer: function () &#123;</span><br><span class="line">        window.clearInterval(this.playTimer);</span><br><span class="line">      &#125;,</span><br><span class="line">      /*** æ»šåŠ¨åˆ°æ­£ç¡®çš„ä½ç½®*/</span><br><span class="line">      scrollContent: function (currentPosition) &#123;</span><br><span class="line">        // 0.è®¾ç½®æ­£åœ¨æ»šåŠ¨</span><br><span class="line">        this.scrolling = true;// 1.å¼€å§‹æ»šåŠ¨åŠ¨ç”»</span><br><span class="line">        this.swiperStyle.transition =&#x27;transform &#x27;+ this.animDuration + &#x27;ms&#x27;;</span><br><span class="line">        this.setTransform(currentPosition);</span><br><span class="line"></span><br><span class="line">        // 2.åˆ¤æ–­æ»šåŠ¨åˆ°çš„ä½ç½®</span><br><span class="line">        this.checkPosition();</span><br><span class="line"></span><br><span class="line">        // 4.æ»šåŠ¨å®Œæˆ</span><br><span class="line">        this.scrolling = false</span><br><span class="line">      &#125;,</span><br><span class="line">      //æ ¡éªŒæ­£ç¡®çš„ä½ç½®</span><br><span class="line">      checkPosition: function () &#123;</span><br><span class="line">        window.setTimeout(() =&gt; &#123;</span><br><span class="line">          // 1.æ ¡éªŒæ­£ç¡®çš„ä½ç½®</span><br><span class="line">          this.swiperStyle.transition = &#x27;0ms&#x27;;</span><br><span class="line">          if (this.currentIndex &gt;= this.slideCount + 1) &#123;</span><br><span class="line">            this.currentIndex = 1;</span><br><span class="line">            this.setTransform(-this.currentIndex * this.totalWidth);</span><br><span class="line">          &#125; else if (this.currentIndex &lt;= 0) &#123;</span><br><span class="line">            this.currentIndex = this.slideCount;</span><br><span class="line">            this.setTransform(-this.currentIndex * this.totalWidth);</span><br><span class="line">          &#125;</span><br><span class="line">          // 2.ç»“æŸç§»åŠ¨åçš„å›è°ƒ</span><br><span class="line">          this.$emit(&#x27;transitionEnd&#x27;, this.currentIndex-1);</span><br><span class="line">        &#125;, this.animDuration)</span><br><span class="line">      &#125;,</span><br><span class="line">      //è®¾ç½®æ»šåŠ¨çš„ä½ç½®</span><br><span class="line">      </span><br><span class="line">      setTransform: function (position) &#123;</span><br><span class="line">        this.swiperStyle.transform = `translate3d($&#123;position&#125;px, 0, 0)`;</span><br><span class="line">        this.swiperStyle[&#x27;-webkit-transform&#x27;] = `translate3d($&#123;position&#125;px), 0, 0`;</span><br><span class="line">        this.swiperStyle[&#x27;-ms-transform&#x27;] = `translate3d($&#123;position&#125;px), 0, 0`;</span><br><span class="line">      &#125;,</span><br><span class="line">       //æ“ä½œDOM, åœ¨DOMå‰åæ·»åŠ Slide</span><br><span class="line">       </span><br><span class="line">		  handleDom: function () &#123;</span><br><span class="line">        // 1.è·å–è¦æ“ä½œçš„å…ƒç´ </span><br><span class="line">        let swiperEl = document.querySelector(&#x27;.swiper&#x27;);</span><br><span class="line">        let slidesEls = swiperEl.getElementsByClassName(&#x27;slide&#x27;);</span><br><span class="line">        // 2.ä¿å­˜ä¸ªæ•°</span><br><span class="line">        this.slideCount = slidesEls.length;</span><br><span class="line">        // 3.å¦‚æœå¤§äº1ä¸ª, é‚£ä¹ˆåœ¨å‰ååˆ†åˆ«æ·»åŠ ä¸€ä¸ªslide</span><br><span class="line">        if (this.slideCount &gt; 1) &#123;</span><br><span class="line">          let cloneFirst = slidesEls[0].cloneNode(true);</span><br><span class="line">          let cloneLast = slidesEls[this.slideCount - 1].cloneNode(true);</span><br><span class="line">          swiperEl.insertBefore(cloneLast, slidesEls[0]);</span><br><span class="line">          swiperEl.appendChild(cloneFirst);</span><br><span class="line">          this.totalWidth = swiperEl.offsetWidth;</span><br><span class="line">          this.swiperStyle = swiperEl.style;</span><br><span class="line">        &#125;</span><br><span class="line">        // 4.è®©swiperå…ƒç´ , æ˜¾ç¤ºç¬¬ä¸€ä¸ª(ç›®å‰æ˜¯æ˜¾ç¤ºå‰é¢æ·»åŠ çš„æœ€åä¸€ä¸ªå…ƒç´ )</span><br><span class="line">        this.setTransform(-this.totalWidth);</span><br><span class="line">      &#125;,</span><br><span class="line">      /**</span><br><span class="line">       * æ‹–åŠ¨äº‹ä»¶çš„å¤„ç†</span><br><span class="line">       */</span><br><span class="line">      touchStart: function (e) &#123;</span><br><span class="line">        // 1.å¦‚æœæ­£åœ¨æ»šåŠ¨, ä¸å¯ä»¥æ‹–åŠ¨</span><br><span class="line">        if (this.scrolling) return;</span><br><span class="line">        // 2.åœæ­¢å®šæ—¶å™¨</span><br><span class="line">        this.stopTimer();</span><br><span class="line">        // 3.ä¿å­˜å¼€å§‹æ»šåŠ¨çš„ä½ç½®</span><br><span class="line">        this.startX = e.touches[0].pageX;</span><br><span class="line">      &#125;,</span><br><span class="line">      touchMove: function (e) &#123;</span><br><span class="line">        // 1.è®¡ç®—å‡ºç”¨æˆ·æ‹–åŠ¨çš„è·ç¦»</span><br><span class="line">        this.currentX = e.touches[0].pageX;</span><br><span class="line">        this.distance = this.currentX - this.startX;</span><br><span class="line">        let currentPosition = -this.currentIndex * this.totalWidth;</span><br><span class="line">        let moveDistance = this.distance + currentPosition;</span><br><span class="line">        // 2.è®¾ç½®å½“å‰çš„ä½ç½®</span><br><span class="line">        this.setTransform(moveDistance);</span><br><span class="line">      &#125;,</span><br><span class="line">      touchEnd: function (e) &#123;</span><br><span class="line">        // 1.è·å–ç§»åŠ¨çš„è·ç¦»</span><br><span class="line">        let currentMove = Math.abs(this.distance);</span><br><span class="line">        // 2.åˆ¤æ–­æœ€ç»ˆçš„è·ç¦»</span><br><span class="line">        if (this.distance === 0) &#123;</span><br><span class="line">          return</span><br><span class="line">        &#125; else if (this.distance &gt; 0 &amp;&amp; currentMove &gt; this.totalWidth * this.moveRatio) &#123; // å³è¾¹ç§»åŠ¨è¶…è¿‡0.5</span><br><span class="line">          this.currentIndex--</span><br><span class="line">        &#125; else if (this.distance &lt; 0 &amp;&amp; currentMove &gt; this.totalWidth * this.moveRatio) &#123; // å‘å·¦ç§»åŠ¨è¶…è¿‡0.5</span><br><span class="line">          this.currentIndex++</span><br><span class="line">        &#125;</span><br><span class="line">        // 3.ç§»åŠ¨åˆ°æ­£ç¡®çš„ä½ç½®</span><br><span class="line">        this.scrollContent(-this.currentIndex * this.totalWidth);</span><br><span class="line">        // 4.ç§»åŠ¨å®Œæˆåé‡æ–°å¼€å¯å®šæ—¶å™¨</span><br><span class="line">        this.startTimer();</span><br><span class="line">      &#125;,</span><br><span class="line">      /**</span><br><span class="line">       * æ§åˆ¶ä¸Šä¸€ä¸ª, ä¸‹ä¸€ä¸ª</span><br><span class="line">       */</span><br><span class="line">      previous: function () &#123;</span><br><span class="line">        this.changeItem(-1);</span><br><span class="line">      &#125;,</span><br><span class="line">      next: function () &#123;</span><br><span class="line">        this.changeItem(1);</span><br><span class="line">      &#125;,</span><br><span class="line">      changeItem: function (num) &#123;</span><br><span class="line">        // 1.ç§»é™¤å®šæ—¶å™¨</span><br><span class="line">        this.stopTimer();</span><br><span class="line">        // 2.ä¿®æ”¹indexå’Œä½ç½®</span><br><span class="line">        this.currentIndex += num;</span><br><span class="line">        this.scrollContent(-this.currentIndex * this.totalWidth);</span><br><span class="line">        // 3.æ·»åŠ å®šæ—¶å™¨</span><br><span class="line">        this.startTimer();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">  #hy-swiper &#123;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    position: relative;</span><br><span class="line">  &#125;</span><br><span class="line">  .swiper &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">  &#125;</span><br><span class="line">  .indicator &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    position: absolute;</span><br><span class="line">    width: 100%;</span><br><span class="line">    bottom: 8px;</span><br><span class="line">  &#125;</span><br><span class="line">  .indi-item &#123;</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">    width: 8px;</span><br><span class="line">    height: 8px;</span><br><span class="line">    border-radius: 4px;</span><br><span class="line">    background-color: #fff;</span><br><span class="line">    line-height: 8px;</span><br><span class="line">    text-align: center;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    margin: 0 5px;</span><br><span class="line">  &#125;</span><br><span class="line">  .indi-item.active &#123;</span><br><span class="line">    background-color: rgba(212,62,46,1.0);</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>SwiperItemç»„ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;slide&quot;&gt;</span><br><span class="line">    &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	export default &#123;</span><br><span class="line">		name: &quot;Slide&quot;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">  .slide &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    flex-shrink: 0;</span><br><span class="line">  &#125;</span><br><span class="line">  .slide img &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>è¿™å—çš„éš¾ç‚¹ä¸ä»»åŠ¡ï¼š</p>
<ul>
<li>
<p>é‚£ä¹ˆç‚¹è¿™ä¸¤ä¸ªç»„ä»¶æ—¶å¦‚ä½•å®Œæˆå°è£…çš„ï¼Œä½ ä¼šå†™å‡ºåŸç”Ÿå°è£…å—ï¼Ÿ</p>
</li>
<li>
<p>å­¦ä¹ ä¸€ä¸ªæ’ä»¶ï¼švue-awesome-swiper  è¸å®å¦‚ä½•å®ç°è½®æ’­æ•ˆæœçš„å‘¢ï¼Ÿï¼Ÿç»„ä»¶å›¾çš„å°è£…ï¼Œgithubä¸Šè¿›è¡Œäº†å°è£…â€˜ï¼Œè¿™äº›åº“å­¦ä¹ çš„æ—¶å€™ä¸å»ºè®®éšä¾¿ç”¨UIåº“ï¼Œè€Œæ˜¯è‡ªå·±å°è£…ï¼Œè‡ªå·±æ‰èƒ½æ˜ç™½æ˜¯æ€ä¹ˆå°è£…çš„ã€‚ã€‚ã€‚ã€‚ã€‚</p>
</li>
</ul>
</li>
</ul>
<h3 id="4-é¦–é¡µæ¨èä¿¡æ¯">4.é¦–é¡µæ¨èä¿¡æ¯<a class="anchor" href="#4-é¦–é¡µæ¨èä¿¡æ¯">Â·</a></h3>
<p><img src="C:%5CUsers%5C%E5%B0%8F%E8%99%8E%E7%89%99%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20201202204250774.png" alt="image-20201202204250774"></p>
<ul>
<li>
<p>Homeç»„ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;home-recommend :recommends = &quot;recommends&quot;&gt;&lt;/home-recommend&gt;</span><br><span class="line">å¯¼å…¥+æ³¨å†Œ</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>HomeRecommendç»„ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;home-recommend&quot;&gt;</span><br><span class="line">    &lt;!-- å¯¹è½®æ’­å›¾é‡Œé¢çš„æ•°æ®è¿›è¡Œå±•ç¤º --&gt;</span><br><span class="line">    &lt;div v-for=&quot;item in recommends&quot; </span><br><span class="line">        :key = &quot;item.index&quot;</span><br><span class="line">        class=&quot;recommend-item&quot;</span><br><span class="line">        &gt;</span><br><span class="line">      &lt;!-- æ¯ä¸ªéƒ½æ˜¯æœ‰æ ‡ç­¾çš„ ,æ•°æ®ä¸­çš„linkå±æ€§å¯¹åº”çš„å°±æ˜¯æ¯ä¸ªå›¾ç‰‡ç‚¹å‡»åçš„è¶…é“¾æ¥åœ°å€--&gt;</span><br><span class="line">      &lt;a :href=&quot;item.link&quot;&gt;</span><br><span class="line">        &lt;img :src=&quot;item.image&quot; alt=&quot;&quot; class=&quot;img&quot;&gt;</span><br><span class="line">        &lt;!-- æ¯ä¸ªå°å›¾ç‰‡æœ‰æ–‡å­— --&gt;</span><br><span class="line">        &lt;div&gt;&#123;&#123;item.title&#125;&#125;&lt;/div&gt;</span><br><span class="line">      &lt;/a&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &quot;HomeRecommend&quot;,</span><br><span class="line">    //æ•°æ®åœ¨é¦–é¡µé‡Œé¢ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æ¥æ”¶ï¼Œä¸ç„¶å“ªå„¿æ¥çš„æ•°æ®ã€‚è€Œä¸”çˆ¶ç»„ä»¶ä¹Ÿè¦æŠŠæ•°æ®ä¼ è¿‡æ¥</span><br><span class="line">    //è¿™ä¸¤ç‚¹æ€»æ˜¯çˆ±å¿½ç•¥ï¼Œé—æ¼</span><br><span class="line">    props: &#123;</span><br><span class="line">      recommends: &#123;</span><br><span class="line">        type: Array,</span><br><span class="line">        default() &#123;</span><br><span class="line">          return []</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .home-recommend &#123;</span><br><span class="line">    /* æ°´å¹³å¸ƒå±€ï¼Œflexï¼Œå› ä¸ºç›’å­å…¨éƒ¨åœ¨ä¸€åˆ—æ’åˆ— */</span><br><span class="line">    display: flex;</span><br><span class="line">    width: 100%;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    /* å±…ä¸­æ˜¾ç¤º */</span><br><span class="line">    text-align: center;</span><br><span class="line">    /* è®©ä»–ä¸ä¸Šé¢å’Œä¸‹é¢æ‹‰å¼€ä¸€ç‚¹è·ç¦»*/</span><br><span class="line">    padding: 10px 0 20px;</span><br><span class="line">    border-bottom: 8px solid #eee;</span><br><span class="line">  &#125;</span><br><span class="line">  .recommend-item &#123;</span><br><span class="line">    flex: 1;</span><br><span class="line">  &#125;</span><br><span class="line">  .recommend-item .img &#123;</span><br><span class="line">  /* æ­¤æ—¶å›¾ç‰‡å¤ªå¤§äº†ã€‚å¯¹å›¾ç‰‡è¿›è¡Œé™åˆ¶ */</span><br><span class="line">  /* ä¸è€å¸ˆä¸åŒï¼Œæˆ‘å¯¹è¿™é‡Œçš„å›¾ç‰‡ç”¨çš„æ˜¯ç™¾åˆ†æ¯”ï¼Œä¸æ˜¯å®šçš„px */</span><br><span class="line">    width: 80%;</span><br><span class="line">    height: 80%;</span><br><span class="line">    /* å›¾ç‰‡å’Œæ–‡å­—è·ç¦»æ‹‰å¼€ */</span><br><span class="line">    margin-bottom: 10px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="5-æœ¬å‘¨æµè¡Œ">5. æœ¬å‘¨æµè¡Œ<a class="anchor" href="#5-æœ¬å‘¨æµè¡Œ">Â·</a></h3>
<ul>
<li>
<p>è¿™å—åªæœ‰ä¸€ä¸ªå›¾ç‰‡ï¼Œè™½ç„¶çœ‹èµ·æ¥åƒå¾ˆå¤šä¸ªå°å›¾æ ‡ã€‚ä½†æˆ‘ä»¬è¿˜æ˜¯å°†å®ƒå°è£…æˆä¸€ä¸ªç»„ä»¶Feature</p>
<p><img src="C:%5CUsers%5C%E5%B0%8F%E8%99%8E%E7%89%99%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20201203175355996.png" alt="image-20201203175355996"></p>
</li>
<li>
<p>FeatureViewç»„ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;feature&quot;&gt;</span><br><span class="line">    &lt;a href=&quot;#&quot;&gt;</span><br><span class="line">      &lt;img src=&quot;~assets/img/home/recommend_bg.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class="line">      //æ³¨æ„è¿™é‡Œçš„srcæ˜¯æœ‰æ³¢æµªçº¿çš„</span><br><span class="line">    &lt;/a&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &#x27;FeatureView&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.feature img&#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Homeç»„ä»¶   å¯¼å…¥+æ³¨å†Œ+ä½¿ç”¨è¯¥ç»„ä»¶å³å¯</p>
</li>
</ul>
<h3 id="6-æ§åˆ¶æ ">6.æ§åˆ¶æ <a class="anchor" href="#6-æ§åˆ¶æ ">Â·</a></h3>
<ul>
<li>
<p>éœ€æ±‚ï¼šç‚¹å‡»è¿™ä¸‰ä¸ªä»»ä¸€ä¸ªï¼Œå“ªä¸€ä¸ªé¢œè‰²æ”¹å˜ï¼Œæœ‰ä¸‹é¢çš„çº¿ï¼Œå¹¶å±•ç¤ºç›¸åº”çš„é¡µé¢
<img src="C:%5CUsers%5C%E5%B0%8F%E8%99%8E%E7%89%99%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20201203180154105.png" alt="image-20201203180154105"></p>
<ul>
<li>
<p>åˆ†æï¼šè¿™ç§éœ€æ±‚ä¼¼ä¹è·Ÿä¹‹å‰çš„TabBarç»„ä»¶å¾ˆåƒï¼Œä½†æ˜¯è¿™é‡Œæˆ‘ä»¬å¹¶æ²¡æœ‰é‡‡ç”¨é‚£ç§å°è£…æ€æƒ³</p>
</li>
<li>
<p>TabBarçš„å°è£…æ€æƒ³æ˜¯ï¼šæ¯ä¸€é¡¹éƒ½æ˜¯æ–‡å­—+å›¾æ ‡çš„å½¢å¼ï¼Œä»–ä»¬çš„å±•ç¤ºå½¢å¼ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚å°†æ¯ä¸€é¡¹æŠ½ç¦»æˆä¸€ä¸ªç»„ä»¶è¿›è¡Œå°è£…ï¼Œè€Œç»„ä»¶é‡Œæˆ‘ä»¬é¢„ç•™äº†æ’æ§½ã€‚æˆ‘ä»¬å°†æ¥ç”¨çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨æ’æ§½çš„ä½ç½®å¡«å…¥æƒ³è¦å®šåˆ¶åŒ–çš„å†…å®¹ã€‚å¯ä»¥æ”¹å˜æ¯æ¬¡æ’å…¥çš„æ–‡å­—ï¼Œç”šè‡³å¯ä»¥æ”¹å˜ä¸ªæ•°ï¼Œè¿™æ—¶å€™å°±éœ€è¦é¢„ç•™æ’æ§½</p>
</li>
<li>
<p>é¦–å…ˆè¿™ä¸ªç»„ä»¶æˆ‘æ˜¯å¯ä»¥åœ¨ç¬¬äºŒé¡µé¢è¿›è¡Œå¤ç”¨çš„ï¼Œä»–ä»¬éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯æ–‡å­—ä¸ä¸€æ ·ã€‚å¦‚æœè¿™é‡Œæˆ‘ä»¬ä¹Ÿè¦è¿™æ ·åšï¼Œå¸¦æ¥çš„é—®é¢˜å°±æ˜¯ä½ ç”¨çš„æ—¶å€™ç»„ä»¶é‡Œè¿™æ ·ï¼Œä»–ç”¨çš„æ—¶å€™ç»„ä»¶ä¹Ÿè¿™æ ·ã€‚æ’æ§½çš„å½¢å¼éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä»£ç æ˜¯é‡å¤çš„</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¸æ¨è &lt;tab-bar&gt;&lt;span&gt;aa&lt;/span&gt;&lt;/tab-bar&gt;</span><br><span class="line">      &lt;tab-bar&gt;&lt;span&gt;bb&lt;/span&gt;&lt;/tab-bar&gt;</span><br><span class="line">      &lt;tab-bar&gt;&lt;span&gt;cc&lt;/span&gt;&lt;/tab-bar&gt;</span><br><span class="line">      &lt;tab-bar&gt;&lt;span&gt;dd&lt;/span&gt;&lt;/tab-bar&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>TabControlç»„ä»¶</p>
<ul>
<li>
<p>ç»„ä»¶å¤ç”¨é—®é¢˜ï¼š</p>
<p>å½“æˆ‘åˆ‡æ¢æµè¡Œï¼Œæ—¶å°šï¼Œè¯¦æƒ…æ—¶ï¼Œç»„ä»¶é¡µé¢å¹¶æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼š</p>
<p>åŸå› ç»„ä»¶å¤ç”¨çš„é—®é¢˜ã€‚åŸæ¥çš„å›¾ç‰‡ã€‚ç±»ä¼¼äºä¹‹å‰çš„inputå¤ç”¨é—®é¢˜ã€‚è§£å†³åŠæ³•ï¼šç»‘å®škey</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;tab-control&quot;&gt;</span><br><span class="line">       &lt;!-- ç‚¹å‡»å“ªä¸€ä¸ªï¼Œä¸‹é¢æ·»åŠ æ ·å¼ã€‚æ ·å¼çš„åŠ¨æ€ç»‘å®š --&gt;</span><br><span class="line">       &lt;!-- é‡Œé¢æœ‰å‡ ä¸ªspanï¼Œæ˜¯æ ¹æ®titleæœ‰å‡ é¡¹æ•°æ®å†³å®šè·Ÿçš„ --&gt;</span><br><span class="line">     &lt;div v-for=&quot;(item, index) in titles&quot; </span><br><span class="line">          :key=&quot;(item, index)&quot;</span><br><span class="line">          class=&quot;tab-control-item&quot;</span><br><span class="line">          :class = &quot;&#123;active: index === currentIndex&#125;&quot;</span><br><span class="line">          @click = &quot;btnClick(index)&quot;&gt;</span><br><span class="line">      &lt;!-- æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œç‚¹å‡»å“ªä¸€ä¸ªï¼Œä¸ºå…¶æ·»åŠ aciveçš„classç±» --&gt;</span><br><span class="line">      &lt;span&gt;&#123;&#123;item&#125;&#125;&lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &quot;TabControl&quot;,</span><br><span class="line">    props: &#123;</span><br><span class="line">      //ä¼ è¿›æ¥title,å‘Šè¯‰åˆ«äººæˆ‘ç”¨çš„æ—¶å€™ä½ åªéœ€è¦ç»™æˆ‘ä¼ æ–‡å­—å°±å¯ä»¥äº†ã€‚</span><br><span class="line">      titles: &#123;</span><br><span class="line">        type: Array,</span><br><span class="line">        default() &#123;</span><br><span class="line">          return []</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      //return è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸æ˜¯å‡½æ•°ï¼ï¼ï¼</span><br><span class="line">      return &#123;</span><br><span class="line">        currentIndex: 0</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      btnClick(index) &#123;</span><br><span class="line">        this.currentIndex = index;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">  .tab-control &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    text-align: center;</span><br><span class="line">    font-size: 16px;</span><br><span class="line">  &#125;</span><br><span class="line">  .tab-control .tab-control-item &#123;</span><br><span class="line">    flex: 1;</span><br><span class="line">    height: 40px;</span><br><span class="line">    line-height: 40px;</span><br><span class="line">  &#125;</span><br><span class="line">  .tab-control-item span &#123;</span><br><span class="line">    /* æ’‘å¼€ä¸€ä¸‹ä¾¿æ·ï¼Œå·¦è¾¹å’Œä¸‹è¾¹éƒ½ä¼šæœ‰ä¸€äº›è·ç¦» */</span><br><span class="line">    padding: 5px;</span><br><span class="line">  &#125;</span><br><span class="line">  .active &#123;</span><br><span class="line">    color: #ff5777;</span><br><span class="line">  &#125;</span><br><span class="line">  .active span &#123;</span><br><span class="line">    /* ä¸è¦æ•´ä¸ªéƒ¨åˆ†å…¨æ˜¾ç¤ºï¼Œè€Œæ˜¯ç°å®spançŸ­æ¨ª */</span><br><span class="line">    border-bottom: 3px solid var(--color-tint);</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Homeç»„ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å¯¼å…¥+æ³¨å†Œ</span><br><span class="line">   dataé‡Œå®šä¹‰titlesçš„å†…å®¹ï¼š titles:[&#x27;æµè¡Œ&#x27;,&#x27;æ–°æ¬¾&#x27;,&#x27;ç²¾é€‰&#x27;],</span><br><span class="line">   &lt;tab-control :titles = &quot;titles&quot; class=&quot;tab-control&quot;&gt;&lt;/tab-control&gt;</span><br><span class="line">   //è¿™é‡Œä¸ºä»€ä¹ˆè¿˜æœ‰ä¸ªclass,è·Ÿä¸‹é¢çš„éœ€æ±‚æœ‰å…³</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>æ­¤æ—¶æˆ‘ä»¬è¦å®ç°ä¸€ä¸ªéœ€æ±‚ï¼š</p>
<ul>
<li>é¦–é¡µä¸Šé¢çš„å¯¼èˆªæ ï¼Œç”¨æˆ·å‘ä¸‹æ»šåŠ¨çš„æ—¶å€™ä»–ä¸è¦è·Ÿç€æ»šåŠ¨ï¼Œç”¨å®šä½æœ€ä¸Šé¢ï¼ˆå›ºå®šå®šä½ï¼‰ï¼Œæˆ‘è¿™ä¸ªç»„ä»¶ä¹Ÿä¹ŸåŒæ ·å›ºå®šåœ¨å¯¼èˆªæ çš„ä¸‹é¢ï¼ˆç²˜è¿å®šä½ï¼‰</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.home-nav &#123;</span><br><span class="line">  background-color: var(--color-tint);</span><br><span class="line">  color: #fff;</span><br><span class="line">  /* é¦–é¡µä¸Šé¢çš„å¯¼èˆªæ ï¼Œå‘ä¸‹æ»šåŠ¨çš„æ—¶å€™ä»–ä¸è¦æ»šåŠ¨ã€‚é‡‡ç”¨å›ºå®šå®šä½ï¼Œä¸€ç›´åœ¨æœ€ä¸Šé¢ */</span><br><span class="line">  position: fixed;</span><br><span class="line">  top: 0;</span><br><span class="line">  left: 0;</span><br><span class="line">  right: 0;</span><br><span class="line">  z-index: 9;</span><br><span class="line">&#125;</span><br><span class="line">  #home &#123;</span><br><span class="line">  /* å¦‚æœè¿™é‡Œæ²¡æœ‰44px,è½®æ’­å›¾ä¼šè·‘åˆ°æœ€ä¸Šé¢ï¼Œä»–çš„ä¸€éƒ¨åˆ†å°±ä¼šè¢«å¯¼èˆªæ é®ç›– */</span><br><span class="line"> 	padding-top: 44px;</span><br><span class="line">&#125;</span><br><span class="line">.tab-control &#123;</span><br><span class="line">  /* æƒ³å®ç°çš„åŠŸèƒ½æ˜¯ï¼šé¡µé¢å‘ä¸‹æ»‘ï¼Œæ»‘åˆ°ä¸€å®šé«˜åº¦åï¼Œé¡¶éƒ¨å›ºå®š */</span><br><span class="line">  /* æ–¹æ³•1ï¼šç”¨å®šä½åšã€‚æ–¹æ³•2ï¼šåç»­ç”¨æ’ä»¶åš */</span><br><span class="line">  position: sticky;</span><br><span class="line">  // è·ç¦»é¡¶éƒ¨44pxçš„æ—¶å€™ï¼Œä¼šå˜æˆfixedå®šä½</span><br><span class="line">  top: 44px;</span><br><span class="line">  background-color: #fff;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-æ§åˆ¶æ ç‚¹å‡»ä¹‹åçš„æ•°æ®è¯·æ±‚">7.æ§åˆ¶æ ç‚¹å‡»ä¹‹åçš„æ•°æ®è¯·æ±‚<a class="anchor" href="#7-æ§åˆ¶æ ç‚¹å‡»ä¹‹åçš„æ•°æ®è¯·æ±‚">Â·</a></h3>
<ul>
<li>
<p>åˆ†æï¼š</p>
<p>æˆ‘ä»¬å¯¹è¿™éƒ¨åˆ†å°è£…åœ¨contenté‡Œï¼Œä¸ä¸šåŠ¡é€»è¾‘æœ‰å…³,ä¸æ˜¯å®Œå…¨ç‹¬ç«‹ï¼Œåˆå¯ä»¥åº”ç”¨åœ¨è¯¥é¡¹ç›®å…¶ä»–é¡µé¢çš„æŸäº›åœ°æ–¹</p>
<p>ç‚¹å‡»ä¹‹åè¯·æ±‚è¿‡æ¥çš„æ•°æ®æ˜¯ä»€ä¹ˆå½¢å¼çš„å‘¢?æˆ‘ä»¬åˆå¦‚ä½•ä¿å­˜ï¼Ÿ</p>
<ul>
<li>
<p>æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå˜é‡ï¼Œè¿™ä¸ªå˜é‡ä¸ä»…å­˜å‚¨ç€æµè¡Œ æ–°æ¬¾ ç²¾é€‰ çš„æ•°æ®  å½“ç”¨æˆ·ç‚¹å‡»å¯¹åº”çš„æŸä¸€é¡¹æ—¶ï¼Œå°±å±•ç¤ºé‚£ä¸€é¡¹çš„æ•°æ®ã€‚æ‰€ä»¥æˆ‘ä»¬ä¼šä¸€æ¬¡æŠŠæ•°æ®éƒ½è¯·æ±‚è¿‡æ¥ã€‚è¿™ç§æ€æƒ³å…¶å®è·Ÿtabbarä¸€æ ·ä¸€æ ·çš„ã€‚ä½†æœ‰ä¸€ä¸ªé—®é¢˜ï¼š</p>
<p>æµè¡Œçš„æ•°æ®æœ‰å¾ˆå¤šé¡µã€‚æ•°æ®é‡å¾ˆå¤§ã€‚ï¼Ÿï¼Ÿï¼Ÿæ€ä¹ˆä¿å­˜</p>
</li>
<li>
<p>æ•°æ®ä¿å­˜æ¨¡å‹ï¼š</p>
<ul>
<li>
<p>æ‹¿åˆ°æ•´ä½“çš„æ•°æ®goods,ä¿å­˜ç€ä¸‰ç±»æ•°æ®ï¼Œæ¯ä¸€ç±»æ•°æ®å¯¹åº”ç€ä¸€ä¸ªå¯¹è±¡ã€‚</p>
</li>
<li>
<p>listå¯¹è±¡é‡Œé¢å­˜æ”¾çš„å±•ç¤ºæ•°æ®ã€‚pageå› ä¸ºè¦å±•ç¤ºçš„å›¾ç‰‡å¾ˆå¤šï¼Œä»–ä¼šæ˜¾ç¤ºæˆ‘ä»¬å½“å‰æµè§ˆåˆ°ç¬¬å‡ é¡µäº†</p>
<p>æµè¡Œé¡µé¢å·²ç»æµè§ˆäº†ç¬¬5é¡µï¼Œæ­¤æ—¶æˆ‘ç‚¹å‡»æ–°æ¬¾é¡µé¢ï¼Œä»–åº”è¯¥æ˜¯ç¬¬1é¡µã€‚pageå°±æ˜¯è®°å½•è¿™ä¸ªé¡µ</p>
</li>
<li>
<p>å½“æˆ‘ç‚¹å‡»æµè¡ŒæŒ‰é’®çš„æ—¶å€™ï¼Œå°±è¦æŠŠpopå¯¹è±¡é‡Œé¢çš„æ•°æ®è¯·æ±‚è¿‡æ¥ï¼Œç‚¹å‡»æ–°æ¬¾æ—¶ï¼ŒæŠŠnewsé‡Œé¢çš„æ•°æ®è¯·æ±‚è¿‡æ¥ç‚¹å‡»è¯¦æƒ…æ—¶ï¼ŒæŠŠsellé‡Œé¢çš„æ•°æ®è¯·æ±‚è¿‡æ¥ï¼Œå±•ç¤ºä»–é‡Œé¢çš„æ•°æ®ã€‚å–æ•°æ®æ˜¯é€šè¿‡keyå®ç°çš„ã€‚</p>
</li>
<li>
<p>å¦‚æœç”¨æˆ·äº§ç”Ÿäº†ä¸Šæ‹‰åŠ è½½æ›´å¤šçš„æ“ä½œï¼Œæˆ‘ä»¬è¿˜åº”è¯¥æ”¹page.è¿˜éœ€è¦listå±•ç¤ºå·²ç»å±•ç¤ºäº†å¤šå°‘æ¡æ•°æ®</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> goods: &#123;</span><br><span class="line">    &#x27;pop&#x27;: &#123;pageï¼š 1ï¼Œ listï¼š []&#125;ï¼Œæ¯ä¸ªæ•°æ®å¯¹è±¡ é»˜è®¤pageï¼Œè¿˜æœ‰keyå’Œvalueè®°å½•å½“å‰æ¨¡å‹åŠ è½½åˆ°		ç¬¬å‡ é¡µçš„</span><br><span class="line">â€˜news&#x27;: &#123;&#125;,</span><br><span class="line">    &#x27;sell&#x27;: &#123;&#125;</span><br><span class="line"> &#125;//è¿™ä¸ªæ•°æ®æ¨¡å‹ä¼šå¸®æˆ‘ä»¬æŠŠè¯·æ±‚çš„æ•°æ®ä¿å­˜ä¸‹æ¥</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ç¬¬äºŒç§ä¿å­˜æ•°æ®çš„æ–¹æ³•ï¼šMapæ•°æ®ç»“æ„ï¼Œï¼Ÿï¼Ÿï¼Ÿå­¦ä¹ ä¸€ä¸‹ï¼Ÿï¼Ÿ</p>
</li>
</ul>
</li>
<li>
<h5 id="æ•°æ®è¯·æ±‚æ“ä½œï¼š">æ•°æ®è¯·æ±‚æ“ä½œï¼š<a class="anchor" href="#æ•°æ®è¯·æ±‚æ“ä½œï¼š">Â·</a></h5>
<p>åŒæ ·æˆ‘ä»¬è¦åœ¨networké‡Œé¢çš„home.jsé‡Œå®Œæˆè¯·æ±‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">export function getHomeGoods(type, page) &#123;</span><br><span class="line">  //è¿™ä¸ªå‡½æ•°è·Ÿä¸Šé¢ä¸åŒï¼Œå› ä¸ºè¦é’ˆå¯¹ä¸åŒçš„æƒ…å†µè¯·æ±‚ä¸åŒçš„æ•°æ®ï¼Œ</span><br><span class="line">  //æ‰€ä»¥æˆ‘ä»¬è¦ä¼ å…¥å‚æ•°ä¸€ä¸ªæ—¶typeï¼Œæ¯ä¸€ç±»ä½ è¿˜è¦å‘Šè¯‰æˆ‘å¯¹åº”çš„é¡µç ï¼Œæˆ‘æœ‰äº†é¡µç é‡‡å–è¯·æ±‚å¯¹åº”çš„æ•°æ®</span><br><span class="line">  return request (&#123;</span><br><span class="line">    url: &#x27;/home/data&#x27;,</span><br><span class="line">    params: &#123;</span><br><span class="line">      type,</span><br><span class="line">      page</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨Homeç»„ä»¶é‡Œè°ƒç”¨</p>
<ul>
<li>Level1   è·Ÿä¹‹å‰è½®æ’­å›¾æ•°æ®ä¸€æ ·ï¼Œåœ¨createdé‡Œé¢è°ƒç”¨home.jsé‡Œçš„æ•°æ®è¯·æ±‚å‡½æ•°</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//   getHomeGoods(type, 1).then(res =&gt; &#123;</span><br><span class="line">   //     console.log(res)</span><br><span class="line">   //   &#125;)</span><br></pre></td></tr></table></figure>
<p>ä½†å¹¶ä¸æ¨èè¿™æ ·åšã€‚å› ä¸ºé¿å…createdé‡Œé¢æ¯ä¸ªå‡½æ•°è°ƒç”¨åæˆ‘ä»¬åœ¨é‡Œé¢åšè¾ƒå¤šçš„ä¿å­˜å·¥ä½œï¼Œæˆ‘ä»¬è¦å¯¹è¿™éƒ¨åˆ†è¿›ä¸€æ­¥å°è£…åœ¨methodsé‡Œé¢ã€‚è‡³äºcreatedé‡Œé¢æ˜¯æ€ä¹ˆä¿å­˜çš„æˆ‘ä¸å…³å¿ƒã€‚æˆ‘åªå…³å¿ƒä½ çš„æ•°æ®è¯·æ±‚ï¼Œæ‰€ä»¥æœ€å¥½åªå†™ä¸»è¦é€»è¾‘</p>
<ul>
<li>
<p>æŠŠè¿™éƒ¨åˆ†åŠŸèƒ½æ”¾åœ¨methodsé‡Œå°è£…æˆå‡½æ•°ï¼Œåœ¨createdé‡Œé¢è°ƒç”¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// getHomeGoods(type, page) &#123;</span><br><span class="line"> //   getHomeGoods(type, 1).then(res =&gt; &#123;</span><br><span class="line"> //     console.log(res)</span><br><span class="line"> //   &#125;)</span><br><span class="line"> // &#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>æ”¹è¿›é—®é¢˜ï¼š è¿™æ ·å†™pageæ˜¯æ­»çš„ï¼Œä¸ºäº†æå‡ä»£ç çš„å¤ç”¨æ€§ã€‚å½“æˆ‘æµè§ˆå®Œç¬¬ä¸€ä¸ªé¡µé¢çš„ç¬¬ä¸€é¡µæ•°æ®åï¼Œç”¨æˆ·ä¸Šæ‹‰åŠ è½½æ›´å¤šï¼Œè¿™æ—¶å€™è¦è¯·æ±‚ç¬¬äºŒä¸ªæ•°æ®äº†ï¼Œä½†æ˜¯æˆ‘ä»¬å°†pageå›ºå®šä½1ï¼Œé—®é¢˜æ˜¯æˆ‘ä»¬è¿˜éœ€è¦å†™æ–°çš„å‡½æ•°æ¥è§£å†³è¿™ä¸ªéœ€æ±‚è§£å†³ï¼šé€šè¿‡ä¼ å…¥çš„typeï¼Œè·å–åˆ°pageã€‚pageåˆå§‹åŒ–ä¸º0ï¼Œæˆ‘ä»¬å¸Œæœ›3ä¸ªé¡µé¢åœ¨å¼€å§‹çš„æ—¶å€™éƒ½æ˜¯è¯·æ±‚ç¬¬ä¸€é¡µ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">created () &#123;</span><br><span class="line">  this.getHomeMultidata()</span><br><span class="line">  //æˆ‘ä»¬å¸Œæœ›3ä¸ªé¡µé¢åœ¨å¼€å§‹çš„æ—¶å€™éƒ½æ˜¯è¯·æ±‚ç¬¬ä¸€é¡µ</span><br><span class="line">  this.getHomeGoods(&#x27;pop&#x27;)</span><br><span class="line">  this.getHomeGoods(&#x27;new&#x27;)</span><br><span class="line">  this.getHomeGoods(&#x27;sell&#x27;)</span><br><span class="line">//æ³¨æ„è¿™ä¸¤ä¸ªåœ°æ–¹çš„è°ƒç”¨å¿…é¡»å†™thisã€‚å¦‚æœä¸å†™thisï¼Œå…¶å®è¿˜æ˜¯åœ¨è°ƒç”¨home.jsé‡Œé¢çš„å‡½æ•°</span><br><span class="line">//è€Œæˆ‘ä»¬å®é™…æƒ³è¦è°ƒç”¨çš„æ˜¯methodsé‡Œé¢çš„.ä»–é‡Œé¢å¯¹æ•°æ®è¿›è¡Œäº†ä¿å­˜</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">   getHomeGoods(type) &#123;</span><br><span class="line">      const page = this.goods[type].page + 1</span><br><span class="line">      getHomeGoods(type, page).then(res =&gt; &#123;</span><br><span class="line">        //è·å–åˆ°è¯·æ±‚ç»“æœresï¼Œå¾—åˆ°res.dataæˆ‘ä»¬è¦è¿›è¡Œä¸€ä¸ªä¿å­˜ã€‚å­˜å‚¨æ•°æ®çš„æ¨¡å‹æ˜¯goods</span><br><span class="line">        //é—®é¢˜ï¼šå¦‚ä½•å°†ä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰æ•°æ®ä¿å­˜åœ¨å¦ä¸€ä¸ªæ•°ç»„é‡Œé¢ï¼Ÿ</span><br><span class="line">        //ç¬¬ä¸€ç§å¯¹ç¬¬2ä¸ªæ•°æ®æ¯ä¸€é¡¹è¿›è¡Œéå†ï¼Œç„¶åæ¯ä¸€é¡¹pushå¡è¿›ç¬¬ä¸€ä¸ªæ•°ç»„</span><br><span class="line">        //æ–¹æ³•2ï¼š ä½¿ç”¨pushæ–¹æ³•  num2.push(...num1)</span><br><span class="line">        //ç›¸å½“äºä¹Ÿæ˜¯ä¸€ç§è§£æï¼Œä¼šå°†æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ è§£æå‡ºæ¥æ”¾å…¥æ•°ç»„2</span><br><span class="line">        //æ›´æ·±çš„ç†è§£ï¼šåˆ©ç”¨pushå‡½æ•°ï¼Œå®ƒå¯ä»¥ä¼ å…¥å¯å˜å‚æ•°ï¼Œå¯ä»¥ä¼ å…¥å¾ˆå¤šä¸ª</span><br><span class="line">        this.goods[type].list.push(...res.data.list)</span><br><span class="line">        //ç°åœ¨çš„popç±»å‹å¤šäº†ä¸€ç»„æ•°æ®ï¼Œæˆ‘ä»¬è¦å°†é¡µç +1</span><br><span class="line">        this.goods[type].list.page +=1</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//dataé‡Œé¢çš„æ•°æ®åˆå§‹åŒ–</span><br><span class="line">      goods: &#123;</span><br><span class="line">        //ç°å°†æ•°æ®è®¾ç½®å¥½ï¼Œç„¶åå»è¯·æ±‚æ•°æ®ã€‚å°†è¯·æ±‚å›æ¥çš„æ•°æ®åœ¨è¿™é‡Œé¢æ”¾</span><br><span class="line">        &#x27;pop&#x27;: &#123;page: 0, list: []&#125;,</span><br><span class="line">        &#x27;new&#x27;: &#123;page: 0, list: []&#125;,</span><br><span class="line">        &#x27;sell&#x27;: &#123;page: 0, list: []&#125;,</span><br><span class="line">      &#125;,</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="8-å•†å“æ•°æ®å±•ç¤º">8. å•†å“æ•°æ®å±•ç¤º<a class="anchor" href="#8-å•†å“æ•°æ®å±•ç¤º">Â·</a></h3>
<ul>
<li>
<h5 id="è¯·æ±‚çš„æ•°æ®ä¿å­˜åï¼Œå¦‚ä½•æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šå‘¢ï¼Ÿ-ç»„ä»¶GoodsItemå’ŒGoodsList">è¯·æ±‚çš„æ•°æ®ä¿å­˜åï¼Œå¦‚ä½•æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šå‘¢ï¼Ÿ ç»„ä»¶GoodsItemå’ŒGoodsList<a class="anchor" href="#è¯·æ±‚çš„æ•°æ®ä¿å­˜åï¼Œå¦‚ä½•æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šå‘¢ï¼Ÿ-ç»„ä»¶GoodsItemå’ŒGoodsList">Â·</a></h5>
<p>æ€è·¯ï¼šHomeç»„ä»¶å°†æ•°æ®ä¼ ç»™GoodsListï¼ŒGoodsListè¿›è¡Œéå†ï¼Œç„¶åå°†éå†å‡ºæ¥çš„æ¯ä¸€é¡¹ä¼ ç»™ä»–çš„GoodsListItemï¼Œå®ƒæ¥æ”¶æ•°æ®ä¸­ï¼Œè¿›è¡Œå±•ç¤º -</p>
<p>Homeç»„ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;goods-list :goods = &quot;goods[&#x27;pop&#x27;].list&quot;&gt;&lt;/goods-list&gt;</span><br><span class="line">å¯¼å…¥+æ³¨å†Œ</span><br></pre></td></tr></table></figure>
<p>GoodsListç»„ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;goods-item&quot;&gt;</span><br><span class="line">    &lt;goods-list-item v-for = &#x27;item in goods&#x27; </span><br><span class="line">                    :key=&quot;item.index&quot;</span><br><span class="line">                    :goodsitem = &quot;item&quot;&gt;</span><br><span class="line">    &lt;!-- å°†éå†å‡ºæ¥çš„æ¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¼ åˆ°å­ç»„ä»¶ä¸­è¿›è¡Œæ˜¾ç¤º --&gt;</span><br><span class="line">    &lt;/goods-list-item&gt;</span><br><span class="line">  &lt;!-- æ¯ä¸ªå°ç»„ä»¶å°±æ˜¯éå†çš„æ¯ä¸ªå¯¹è±¡ --&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import GoodsListItem from &#x27;./GoodsListItem&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name: &#x27;GoodsList&#x27;,</span><br><span class="line">    components: &#123; GoodsListItem &#125;,</span><br><span class="line">    //è¿™ä¸ªä½ç½®æ¥å—çš„å°±æ˜¯ç©¿è¿‡æ¥çš„listï¼Œè¿›è¡Œå±•ç¤º</span><br><span class="line">    props: &#123;</span><br><span class="line">      goods: &#123;</span><br><span class="line">        type: Array,</span><br><span class="line">        default() &#123;</span><br><span class="line">          return []</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">  .goods-item &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    /* ç›®çš„æ˜¯ä¸è¦è®©å›¾ç‰‡å æ»¡ä¸€æ•´è¡Œï¼Œæ³¨æ„å­å…ƒç´ è¿™æ˜¯å¿…é¡»ç»™å®½åº¦ï¼Œå¦åˆ™ï¼Œå®ƒä¼šå…¨å¾€ä¸€è¡Œå¡ */</span><br><span class="line">    /* è€Œä¸”å…‰ç»™å®½åº¦è¿˜ä¸è¡Œï¼Œflex-wrapä¼šwrapè¿›è¡Œæ¢è¡Œï¼Œé…åˆå­å…ƒç´ çš„å®½åº¦ï¼Œå®ƒä¼šè‡ªåŠ¨è¿›è¡Œæ¢è¡Œ</span><br><span class="line">    é»˜è®¤æ˜¯nowrapï¼Œæ˜¯ä¸æ¢è¡Œçš„*/</span><br><span class="line">    flex-wrap: wrap;</span><br><span class="line">    justify-content: space-around;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>GoodsListItemç»„ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;goods-item&quot;&gt;</span><br><span class="line">    &lt;img :src = &quot;goodsitem.show.img&quot;/&gt;</span><br><span class="line">    &lt;!-- å›¾ç‰‡ä¸‹æ–¹è¿˜æœ‰ä¸€ä¸ªæ ‡é¢˜+ä»·æ ¼+æ”¶è—collect favorite --&gt;</span><br><span class="line">    &lt;div class=&quot;goods-info&quot;&gt;</span><br><span class="line">      &lt;p&gt;&#123;&#123;goodsitem.title&#125;&#125;&lt;/p&gt;</span><br><span class="line">      &lt;span class=&quot;price&quot;&gt;&#123;&#123;goodsitem.price&#125;&#125;&lt;/span&gt;</span><br><span class="line">      &lt;span class=&quot;collect&quot;&gt;&#123;&#123;goodsitem.cfav&#125;&#125;&lt;/span&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &#x27;GoodsListItem&#x27;,</span><br><span class="line">    props: &#123;</span><br><span class="line">    goodsitem: &#123;</span><br><span class="line">        type: Object,</span><br><span class="line">        default() &#123;</span><br><span class="line">          return &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">  .goods-item &#123;</span><br><span class="line">    padding-bottom: 40px;</span><br><span class="line">    position: relative;</span><br><span class="line">    /* çˆ¶å…ƒç´ å³flexè¿™é‡Œè¦ç»™å®½åº¦ */</span><br><span class="line">    width: 46%;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .goods-item img &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    border-radius: 5px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .goods-info &#123;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    position: absolute;</span><br><span class="line">    bottom: 5px;</span><br><span class="line">    left: 0;</span><br><span class="line">    right: 0;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    text-align: center;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .goods-info p &#123;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    text-overflow: ellipsis;</span><br><span class="line">    white-space: nowrap;</span><br><span class="line">    margin-bottom: 3px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .goods-info .price &#123;</span><br><span class="line">    color: var(--color-high-text);</span><br><span class="line">    margin-right: 20px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .goods-info .collect &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .goods-info .collect::before &#123;</span><br><span class="line">    content: &#x27;&#x27;;</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: -15px;</span><br><span class="line">    top: -1px;</span><br><span class="line">    width: 14px;</span><br><span class="line">    height: 14px;</span><br><span class="line">    background: url(&quot;~assets/img/common/collect.svg&quot;) 0 0/14px 14px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>é‡åˆ°çš„é—®é¢˜1ï¼šå¦‚æœå­å…ƒç´ ä¸ç»™å®½åº¦çš„ç»“æœï¼Œå…¨ç½‘ä¸€è¡Œå¡
<img src="C:%5CUsers%5C%E5%B0%8F%E8%99%8E%E7%89%99%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20201203205335489.png" alt="image-20201203205335489"></p>
<p>ä¸ºäº†ä¸è¦è®©å›¾ç‰‡å æ»¡ä¸€æ•´è¡Œï¼Œæ³¨æ„å­å…ƒç´ å¿…é¡»ç»™å®½åº¦ï¼Œå¦åˆ™ï¼Œå®ƒä¼šå…¨å¾€ä¸€è¡Œå¡ ã€‚è€Œä¸”å…‰ç»™å®½åº¦è¿˜ä¸è¡Œï¼Œflex-wrapä¼šwrapè¿›è¡Œæ¢è¡Œï¼Œé…åˆå­å…ƒç´ çš„å®½åº¦ï¼Œå®ƒä¼šè‡ªåŠ¨è¿›è¡Œæ¢è¡Œé»˜è®¤æ˜¯nowrapï¼Œæ˜¯ä¸æ¢è¡Œçš„é»˜è®¤æ˜¯nowrapï¼Œæ˜¯ä¸æ¢è¡Œçš„*/flex-wrap: wrap;</p>
</li>
<li>
<p>é—®é¢˜2ï¼šä¸€è¡Œçš„å›¾ç‰‡å¹¶ä¸æ˜¯å‡ç­‰åˆ†çš„  ï¼š justify-content: space-around;</p>
<p>â€‹	<img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20201203205855794.png" alt="image-20201203205855794" style="zoom:67%;" /></p>
</li>
<li>
<p>é—®é¢˜3ï¼šä¸‹æ»‘çš„è¿‡ç¨‹ä¸­ï¼Œæµè¡Œï¼Œæ–°æ¬¾çš„å¯¼èˆªæ ä¼šè¢«è¦†ç›–æ‰ï¼Œ</p>
<p>è§£å†³ï¼šå»TabControlç»„ä»¶æ·»åŠ z-indexï¼š9</p>
</li>
</ul>
</li>
<li>
<h5 id="Homeç»„ä»¶ä¸­å¦‚ä½•å®ç°æ•°æ®åŠ¨æ€ä¼ ç»™å­ç»„ä»¶ï¼Ÿï¼Ÿ">Homeç»„ä»¶ä¸­å¦‚ä½•å®ç°æ•°æ®åŠ¨æ€ä¼ ç»™å­ç»„ä»¶ï¼Ÿï¼Ÿ<a class="anchor" href="#Homeç»„ä»¶ä¸­å¦‚ä½•å®ç°æ•°æ®åŠ¨æ€ä¼ ç»™å­ç»„ä»¶ï¼Ÿï¼Ÿ">Â·</a></h5>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;goods-list :goods = &quot;goods[&#x27;pop&#x27;].list&quot;&gt;&lt;/goods-list&gt;</span><br><span class="line">è¿™ä¸ªä¼ æ•°æ®æ—¶ï¼Œç›´æ¥æ˜¯å†™æ­»çš„è¿™æ ·è‚¯å®šæ˜¯ä¸è¡Œçš„ã€‚æˆ‘ä»¬ç‚¹å‡»è¯¦æƒ…ï¼Œæ–°æ¬¾æ—¶ä»–å°±ä¸èƒ½åŠ¨æ€å±•ç¤ºå½“å‰é€‰æ‹©çš„ç±»å‹é‡Œé¢çš„å†…å®¹ã€‚</span><br></pre></td></tr></table></figure>
<p>å®ç°çš„æ€è·¯ï¼šåœ¨TabControlç»„ä»¶ä¸­çš„æ¯ä¸€é¡¹è¢«ç‚¹å‡»æ—¶ï¼Œå‘Šè¯‰Homeç»„ä»¶å½“å‰è¢«ç‚¹å‡»çš„æ˜¯å“ªä¸ªindexã€‚Homeç»„ä»¶æ ¹æ®indexå°±çŸ¥é“äº†ä»–åº”è¯¥åˆ‡æ¢ä¸ºpopè¿˜æ˜¯newè¿˜æ˜¯sellé‡Œé¢çš„æ•°æ®</p>
<p>åœ¨TabControlçš„æ–¹æ³•ä¸­ä¿®æ”¹ï¼š</p>
<p><img src="C:%5CUsers%5C%E5%B0%8F%E8%99%8E%E7%89%99%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20201203230845680.png" alt="image-20201203230845680"></p>
<p>çˆ¶ç»„ä»¶ç›‘å¬è¿™ä¸ªè‡ªå®šä¹‰äº‹ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> &lt;tab-control :titles = &quot;titles&quot; </span><br><span class="line">               class=&quot;tab-control&quot; </span><br><span class="line">               @tabClick=&quot;tabClick&quot;&gt;&lt;/tab-control&gt;   </span><br><span class="line"> //åç»­å€ŸåŠ©è®¡ç®—å±æ€§å¯¹è¿™éƒ¨åˆ†ä¼˜åŒ–</span><br><span class="line"> &lt;goods-list :goods = &quot;goods[currentType].list&quot;&gt;&lt;/goods-list&gt;</span><br><span class="line">               </span><br><span class="line"> /*2.è¿™æ˜¯äº‹ä»¶ç›‘å¬ç±»çš„æ–¹æ³•*/</span><br><span class="line">æ–¹æ³•é‡Œï¼š tabClick(index) &#123;</span><br><span class="line">   console.log(index)</span><br><span class="line">   console.log(&#x27;haha&#x27;);</span><br><span class="line">   </span><br><span class="line">   switch (index) &#123;</span><br><span class="line">     case 0: this.currentType = &#x27;pop&#x27;</span><br><span class="line">     break</span><br><span class="line">     case 1: this.currentType = &#x27;new&#x27;</span><br><span class="line">     break</span><br><span class="line">     case 2: this.currentType = &#x27;sell&#x27;</span><br><span class="line">     break</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;,</span><br><span class="line"> æ•°æ®é‡Œï¼š åˆå§‹åŒ–ç±»å‹</span><br><span class="line">   currentType: &#x27;pop&#x27;,</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>çŠ¯é”™1ï¼š @tabClick = &quot;tabClick(index)&quot;çˆ¶ç»„ä»¶ä¸­è¿™ä¸ªç›‘å¬äº‹ä»¶åº”è¯¥ç»‘å®šåˆ°TabControlé‡Œé¢ï¼Œä¸æ˜¯goodlistä¸Šé¢</p>
</li>
<li>
<p>çŠ¯é”™2ï¼šè¿™é‡Œ@tabClick = &quot;tabClick(index)&quot;ä¸è¦ä¼ å‚æ•°ï¼Œä¼šå¯¼è‡´indexæ‰“å°å‡ºæ˜¯æ— æ•ˆçš„ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
</li>
<li>
<p>é‡åˆ°çš„é—®é¢˜ï¼šHome.vue?76f2:158 Uncaught (in promise) TypeError: Cannot read property â€˜dataâ€™ of undefined at eval Error: timeout of 5000ms exceeded
at createError (createError.js?2d83:16)at XMLHttpRequest.handleTimeout (xhr.js?b50d:95)ä¸€ç›´æ˜¾ç¤ºdataæ²¡æœ‰å®šä¹‰ï¼Œæ•°æ®è¯·æ±‚ä¸è¿‡æ¥è§£å†³ï¼šæŠ¥é”™dataæ²¡æœ‰å®šä¹‰,åŸå› æ˜¯æˆ‘åœ¨request.jsé‡Œé¢è®¾ç½®äº†5000msï¼Œä¹Ÿå°±æ˜¯è¶…è¿‡5ç§’å°±è¶…æ—¶ï¼Œè¿™æ—¶å€™è¿˜æ²¡æœ‰è¾¾åˆ°æ•°æ®ï¼Œæˆ‘ä»¬ç”¨æ•°æ®æ˜¯æœ‰é—®é¢˜çš„ã€‚</p>
<p>æˆ‘å°è¯•äº†ä¿®æ”¹timeoutçš„æ•°å€¼ï¼Œå‘ç°æ§åˆ¶å°æ²¡æœ‰å†æŠ¥é”™ï¼ŒåŒæ—¶è¯·æ±‚çš„3æ¡æ•°æ®ä¹Ÿæ˜¾ç¤ºå‡ºæ¥ã€‚ä¸å†åƒä¹‹å‰é‚£æ ·éƒ¨åˆ†æ˜¾ç¤ºï¼Œéƒ¨åˆ†æŠ¥é”™</p>
</li>
<li>
<p>æ¥ä¸Šä¸€ä¸ªé—®é¢˜ï¼šå¦ä¸€ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆæˆ‘åªæ‰§è¡Œäº†ä¸€æ¬¡æ‰“å°ï¼Œå´ä¼šæ‰“å°å‡ºä¸‰æ¡è¯·æ±‚æ•°æ®çš„ç»“æœå‘¢ï¼Ÿ</p>
<p>å› ä¸ºæˆ‘ä»¬åœ¨ä¸Šé¢çš„ç”Ÿå‘½å‘¨æœŸcreatedé‡Œé¢è°ƒç”¨äº†3ç§</p>
</li>
</ul>
</li>
<li>
<h5 id="Homeä¸­è®¡ç®—å±æ€§ä¼˜åŒ–">Homeä¸­è®¡ç®—å±æ€§ä¼˜åŒ–<a class="anchor" href="#Homeä¸­è®¡ç®—å±æ€§ä¼˜åŒ–">Â·</a></h5>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;goods-list :goods = &quot;goods[currentType].list&quot;&gt;&lt;/goods-list&gt;</span><br><span class="line"></span><br><span class="line">computed: &#123;</span><br><span class="line">  showGoods() &#123;</span><br><span class="line">   return this.goods[this.currentType].list</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>çŠ¯é”™ï¼šæ³¨æ„return this.goods[this.currentType].listè¿™é‡Œé¢æ˜¯è¦åŠ thisçš„ï¼Œåœ¨ä¹‹å‰å†™åœ¨ç»„ä»¶é‡Œä¸åŒåŠ thisï¼Œç°åœ¨æ˜¯å†™åœ¨ä¸‹é¢ï¼Œä¸åŠ thisï¼Œæ ¹æœ¬ä¸è®¤è¯†å®ƒã€‚æ²¡åŠ ä¼šæŠ¥é”™çš„ï¼ï¼ï¼è¿™ä¸ªåœ°æ–¹æå®¹æ˜“çŠ¯é”™</li>
</ul>
</li>
</ul>
<h3 id="9-å…³äºBetter-scroll">9.å…³äºBetter-scroll<a class="anchor" href="#9-å…³äºBetter-scroll">Â·</a></h3>
<p>é—®é¢˜ï¼š å½“å‰é¡¹ç›®éƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼Œåªæœ‰ç”¨æ‰‹æœºç«¯è¯·æ±‚ç½‘é¡µï¼Œè¿™ä¸ªç½‘é¡µæ ·å¼æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚æˆ‘æƒ³å¾€ä¸Šæ»šï¼Œå®ƒæ˜¯ä¸ä¼šåƒPCæµè§ˆå™¨é‡Œé¢è‡ªå¸¦çš„åŸç”Ÿæ»šåŠ¨ä¸€æ ·  å†…å®¹è¶…è¿‡å½“å‰çª—å£çš„é¡µé¢ï¼Œå¯ä»¥è‡ªåŠ¨æ»šåŠ¨  ã€‚æ‰‹æœºç«¯ä¼šéå¸¸å¡é¡¿ï¼Œè¿˜æ²¡æœ‰åŠ¨æ€æ»šåŠ¨æ•ˆæœçš„ã€‚</p>
<p><strong>è§£å†³ï¼šæ—©æœŸé€‚é…æ¡†æ¶  iscroll ä½†è¿™ä¸ªæ¡†æ¶å·²ç»ä¸å†ç»´æŠ¤äº†  æœ‰äººå‚è€ƒäº†è¿™ä¸ªæ¡†æ¶å†™äº† better-scroll   æœ‰äººç»´æŠ¤ï¼Œä¾èµ–äºåŸç”ŸJS, ä¸ä¾èµ–äºå…¶ä»–æ¡†æ¶</strong></p>
<ul>
<li>
<p>å°æŠ€å·§ï¼šå¼€æºæ¡†æ¶çš„æºç æ€ä¹ˆæ‰¾ï¼Œ</p>
<ul>
<li>å¦‚æœå®˜æ–¹ç½‘ç«™æ²¡æœ‰ä¸‹è½½ï¼Œå»githubä¸Šé¢ï¼Œæ‰¾åˆ°tagç‰ˆæœ¬è¿›è¡Œä¸‹è½½ï¼Œdistæ–‡ä»¶å¤¹é‡Œesm.jsé‡Œé¢ã€‚</li>
<li>ç›´æ¥ç”¨å‘½ä»¤è¡Œã€‚ç‰ˆæœ¬æ˜¯1.13.2</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install better-scroll@1.13.2 --save</span><br></pre></td></tr></table></figure>
</li>
<li>
<h5 id="åœ¨Categoryç»„ä»¶é‡Œè¿™æ ·åšï¼ˆå®éªŒï¼‰ï¼Œå±€éƒ¨åŒºåŸŸæ»šåŠ¨çš„åŸç”Ÿåšæ³•">åœ¨Categoryç»„ä»¶é‡Œè¿™æ ·åšï¼ˆå®éªŒï¼‰ï¼Œå±€éƒ¨åŒºåŸŸæ»šåŠ¨çš„åŸç”Ÿåšæ³•<a class="anchor" href="#åœ¨Categoryç»„ä»¶é‡Œè¿™æ ·åšï¼ˆå®éªŒï¼‰ï¼Œå±€éƒ¨åŒºåŸŸæ»šåŠ¨çš„åŸç”Ÿåšæ³•">Â·</a></h5>
<ul>
<li>é¦–å…ˆæ•´ä½“çš„åŸç”Ÿæ»šåŠ¨ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">	æ­¤å¤„ç”¨ulåŒ…è£¹100ä¸ªli</span><br><span class="line">	&lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>å¯ä»¥å®ç°æ»šåŠ¨çš„ï¼Œè¿™æ˜¯åŸç”Ÿçš„ã€‚å¦‚æœæˆ‘æƒ³å®ç°å±€éƒ¨åŒºåŸŸæ»šåŠ¨ï¼Œåº”è¯¥æ€ä¹ˆåšï¼Ÿ</p>
<ul>
<li>æ–¹æ³•1ï¼šç»™çˆ¶æ ‡ç­¾æœ€å¤–å±‚çš„divä¸€ä¸ªé«˜åº¦ï¼Œå†è®©æ•´ä¸ªåŒºåŸŸoverflow-y: scroll;   æ­¤æ—¶è¶…è¿‡heightä¹‹åçš„å†…å®¹éšè—äº†,å¹¶ä¸”é«˜åº¦ä¹‹å†…çš„å¯ä»¥å®è¡Œæ»šåŠ¨ï¼Œå±€éƒ¨æ»šåŠ¨å®ç° ã€‚ä½†åŸç”Ÿæ»šåŠ¨éå¸¸å¡é¡¿ï¼Œæ¡†æ¶çš„æ»šåŠ¨æ€ä¹ˆåšå‘¢ï¼Ÿ</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">height: 100px;</span><br><span class="line">   background-color: red;</span><br><span class="line">   overflow-y: scroll;  </span><br></pre></td></tr></table></figure>
<ul>
<li>æ–¹æ³•2ï¼šç”¨æ¡†æ¶æ¥åš
<img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20201204154344774.png" alt="image-20201204154344774" style="zoom: 50%;" /></li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">//æœ€å¤–å±‚éœ€è¦åŒ…è£¹ä¸€ä¸ªä¸œè¥¿ï¼Œå¹¶ä¸”æœ‰é«˜åº¦ã€‚ä¹‹åå¾€é‡Œé¢æ”¾å…¥å†…å®¹ã€‚ä½†æ˜¯contentåªèƒ½å†æ”¾ä¸€ä¸ªæ ‡ç­¾ï¼Œä¸€ä¸ªï¼ï¼</span><br><span class="line">  &lt;div class=&quot;wrapper&quot; ref = &quot;aaa&quot;&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">	æ­¤å¤„ç”¨ulåŒ…è£¹100ä¸ªli</span><br><span class="line">	&lt;/ul&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  .wrapper &#123;</span><br><span class="line">    background-color: red;</span><br><span class="line">    height: 200px;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    //æ­¤å¤„åªæ˜¯å°†æº¢å‡ºçš„åœ°æ–¹è¿›è¡Œéšè—</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import BScroll from &#x27;better-scroll&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;Category&#x27;,</span><br><span class="line">  // created() &#123;</span><br><span class="line">  //   ç»„ä»¶åˆ›å»ºå®Œä¹‹åè°ƒç”¨ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰è¿›è¡Œæ¨¡æ¿çš„æŒ‚è½½ï¼Œ</span><br><span class="line">  //   æ‰€ä»¥è¿™é‡Œçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ‹¿ä¸åˆ°çš„ã€‚æˆ‘ä»¬å¯ä»¥æ‰“å°ä¸€ä¸‹undifined/null</span><br><span class="line">  //   console.log(this.$refs.aaa)</span><br><span class="line">  //   console.log(document.querySelector(&#x27;.wrapper&#x27;))</span><br><span class="line">  //   this.scroll = new BScroll(&#x27;.wrapper&#x27;)</span><br><span class="line">  // &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      scroll: null</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>çŠ¯é”™1ï¼š</p>
<ul>
<li>
<p>æˆ‘ä»¬åŠ äº†ä¸€ä¸ªwrapperçš„divã€‚æŠŠä¹‹å‰çš„é«˜åº¦æ ·å¼ç»™wrapperã€‚è¿™æ ·è¿˜æ˜¯ä¸è¡Œ</p>
</li>
<li>
<p>å¯¼å…¥å®‰è£…çš„æ¡†æ¶ï¼Œå¹¶åœ¨createdå‡½æ•°ä¸­new BSroll (å‚æ•°1)ï¼Œå‚æ•°1æ˜¯è·å–çš„domèŠ‚ç‚¹ã€‚è¿˜æ˜¯ä¸è¡Œ</p>
</li>
<li>
<p>åœ¨dataé‡Œåˆå§‹åŒ–scrollï¼Œç”¨äºå¯¹newå‡ºæ¥çš„æ•°æ®è¿›è¡Œä¿å­˜ï¼Œè¿˜æ˜¯ä¸è¡Œã€‚</p>
</li>
<li>
<p>wrapperçš„é‚£ä¸ªæ ‡ç­¾æ·»åŠ  ref = â€œaaaâ€ï¼Œæ›´æ”¹new Scroll</p>
</li>
</ul>
<p><img src="C:%5CUsers%5C%E5%B0%8F%E8%99%8E%E7%89%99%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20201204155650488.png" alt="image-20201204155650488"></p>
</li>
<li>
<p>çŠ¯é”™åŸå› ï¼šåœ¨createdé‡Œåˆ›å»ºBScrollå¯¹è±¡ï¼Œè¿™æ—¶æ‹¿ä¸åˆ°domèŠ‚ç‚¹ï¼Œæ”¹åœ¨mountedé‡Œå®ç°
<img src="C:%5CUsers%5C%E5%B0%8F%E8%99%8E%E7%89%99%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20201204155743073.png" alt="image-20201204155743073"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mounted () &#123;</span><br><span class="line">    // æ”¹ä¸ºåœ¨mountedå‡½æ•°é‡Œå»å®ç°</span><br><span class="line">    console.log(this.$refs.aaa)</span><br><span class="line">    //è¿™é‡Œå¯ä»¥å†™.ç±»åï¼Œä¹Ÿå¯ä»¥ç”¨è·å–domèŠ‚ç‚¹ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨æ‰¾åˆ°çš„</span><br><span class="line">    console.log(document.querySelector(&#x27;.wrapper&#x27;))</span><br><span class="line">    this.scroll = new BScroll(&#x27;.wrapper&#x27;),&#123;&#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<h5 id="Better-scrollçš„è¿›ä¸€æ­¥æ‹“å±•">Better-scrollçš„è¿›ä¸€æ­¥æ‹“å±•<a class="anchor" href="#Better-scrollçš„è¿›ä¸€æ­¥æ‹“å±•">Â·</a></h5>
<ul>
<li>
<p>æ‹¿åˆ°better-scrollä¸‹è½½æ‰“åŒ…ä¹‹åçš„æ–‡ä»¶ï¼Œä½¿ç”¨å®ƒã€‚ä¹Ÿå¯ä»¥è¿™æ ·åšï¼Œåˆ°node_modulesé‡Œé¢çš„better-scoll æ‹¿åˆ°distæ–‡ä»¶å¤¹ä¸‹é¢çš„bscroll.jsæ–‡ä»¶ï¼Œç²˜è´´è¿‡æ¥</p>
</li>
<li>
<p>éšä¾¿ä¸€ä¸ªåœ°æ–¹æ–°å»ºindex.html,å¯¼å…¥è¿™ä¸ªJSæ–‡ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  .content&#123;</span><br><span class="line">    height: 500px;</span><br><span class="line">    background-color: red;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;script src = &#x27;./bscroll.js&#x27;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p><img src="C:%5CUsers%5C%E5%B0%8F%E8%99%8E%E7%89%99%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20201204161344411.png" alt="image-20201204161344411"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line"> &lt;div class=&quot;content&quot;&gt;</span><br><span class="line">	&lt;ul&gt;</span><br><span class="line">	//è¿™é‡Œä¹Ÿæ”¾100ä¸ªli</span><br><span class="line">	&lt;/ul&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  // é‡Œé¢æœ‰ä¸ªå«åš BScroll  çš„ç±» ï¼Œæ‰“å°ç»“ç»“æœæ˜¾ç¤ºä»–æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°</span><br><span class="line">  // console.log(BScroll);</span><br><span class="line">  //å“ªä¸ªå…ƒç´ æŒ‚è½½ä¸Šå»å®è¡Œæ»šåŠ¨ï¼Œå°±æŠŠä»–æŒ‚è½½ä¸Šå»ã€‚wrapperé‡Œé¢åªèƒ½æœ‰ä¸€ä¸ªå…ƒç´ ã€‚</span><br><span class="line">  const bscroll = new BScroll(document.querySelector(&#x27;.content&#x27;), &#123;</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>æƒ³è¦å®æ—¶ç›‘å¬ç”¨æˆ·æ»šåŠ¨åˆ°å“ªä¸ªä½ç½®äº†ï¼Œæ»šåŠ¨å¤šå°‘äº†ï¼Ÿï¼Ÿæ€ä¹ˆåšï¼Œ</p>
<ul>
<li>å¿…é¡»çŸ¥é“æ»šåŠ¨åˆ°å“ªä¸€ä¸ªä½ç½®ï¼Œè¯¦æƒ…ï¼Œæµè¡Œé‚£ä¸ªæ ç›®æ‰åœç•™ã€‚æ‹¿åˆ°better-scollå¯¹è±¡åï¼Œé€šè¿‡onåŠŸèƒ½è¿›è¡Œç›‘å¬ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦ç›‘å¬çš„ç±»å‹ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯functionï¼Œå¯ä»¥ç”¨ç®­å¤´å‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°æ˜¯position</span><br><span class="line">bscroll.on(&#x27;scroll&#x27;, (position) =&gt; &#123;</span><br><span class="line">  //position æ˜¯å®æ—¶ä½ç½®</span><br><span class="line">  console.log(position)</span><br><span class="line">&#125;)</span><br><span class="line">//ä½†æ˜¯å¹¶æ²¡æœ‰æ‰“å°å‡ºæ¥ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿé»˜è®¤æƒ…å†µä¸‹ï¼Œbetter-scrollæ˜¯ä¸å¯ä»¥å®æ—¶ç›‘å¬æ»šåŠ¨ä½ç½®çš„ã€‚</span><br><span class="line">  //æƒ³è¦åšåˆ°ï¼Œåœ¨newä¸€ä¸ªBScrollæ—¶è¿˜è¦ä¼ å‚æ•°ã€‚é‡è¦å±æ€§ï¼šprobeType  </span><br></pre></td></tr></table></figure>
<p>è§£å†³ï¼šä¿®æ”¹ä¼ å…¥çš„å‚æ•°2ï¼Œå±æ€§probeType</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const bscroll = new BScroll(document.querySelector(&#x27;.content&#x27;), &#123;</span><br><span class="line">//è¦ä¸è¦å®æ—¶ä¾¦æµ‹  0æˆ–1--ä¸ä¾¦æµ‹  </span><br><span class="line">//2--ä¾¦æµ‹ æ‰‹æŒ‡æ»šåŠ¨çš„è¿‡ç¨‹ä¸­ä¸ªä¾¦æµ‹ï¼Œä½†æ‰‹æŒ‡ç¦»å¼€åçš„æƒ¯æ€§æ»šåŠ¨ä¸ä¾¦æµ‹ï¼Œå…¶ä»–æƒ…å†µï¼Œæ‰‹æŒ‡ç¦»å¼€çš„æ»šåŠ¨ä¹Ÿå¯ç›‘å¬åˆ°</span><br><span class="line">    probeType: 3,</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<img src="C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20201204163108700.png" alt="image-20201204163108700" style="zoom:50%;" />
<ul>
<li>
<p>å±æ€§2ï¼š åœ¨better-scrollé‡Œé¢çš„å¦‚æœæ˜¯buttonï¼Œæ— è®ºClickæ˜¯trueè¿˜æ˜¯falseéƒ½æ˜¯å¯ä»¥ç‚¹å‡»çš„ï¼Œä½†divé‚£äº›ç»„ä»¶å°±å¿…é¡»è®¾ç½®trueæ‰èƒ½æ·»åŠ ç›‘å¬äº‹ä»¶</p>
</li>
<li>
<p>ä¸Šæ‹‰åŠ è½½æ›´å¤šæ€è·¯ï¼šå±æ€§3ï¼špullUpLoad
æ•ˆæœï¼Œæˆ‘æ»šåŠ¨åˆ°åº•ï¼Œä¼šè¿›è¡Œæ‰“å°</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const bscroll = new BScroll(document.querySelector(&#x27;.content&#x27;), &#123;</span><br><span class="line"> 		probeType: 3,</span><br><span class="line">   // ç›‘å¬å·²ç»æ‹‰åˆ°ç¬¬ä¸€é¡µæœ€ä½éƒ¨äº†ï¼Œæˆ‘ä»¬è¦åšä¸Šæ‹‰åŠ è½½æ›´å¤šçš„åŠŸèƒ½pullUpLoad</span><br><span class="line">   	pullUpLoad: true</span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ä½†æœ‰ä¸€ä¸ªé—®é¢˜ï¼šåªèƒ½ç›‘å¬ä¸€æ¬¡ï¼Œåªèƒ½åŠ è½½ä¸€æ¬¡ï¼Œæ€ä¹ˆåŠå…ˆå»å‘é€ç½‘ç»œè¯·æ±‚ï¼Œè¯·æ±‚æ›´å¤šé¡µçš„æ•°æ®ã€‚ç­‰ä½ æ•°æ®è¯·æ±‚å®Œæˆå¹¶ä¸”å°†æ–°çš„æ•°æ®å­˜å‚¨åœ¨listé‡Œå±•ç¤ºå‡ºæ¥åè°ƒè°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œå‘Šè¯‰å®ƒè¿™ä¸€æ¬¡çš„ä¸Šæ‹‰åŠ è½½å·²ç»åšå®Œäº†ã€‚è¿›è¡Œä¸‹ä¸€æ¬¡çš„ä¸Šæ‹‰åŠ è½½</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">bscroll.on(&#x27;pullingUp&#x27;, () =&gt; &#123;</span><br><span class="line">  //è¿™ä¸ªå‡½æ•°æ²¡æœ‰å‚æ•°ï¼Œåªæ˜¯è¿™é‡Œéœ€è¦è¿›è¡Œä¸Šæ‹‰åŠ è½½æ›´å¤šäº†</span><br><span class="line">  console.log(&#x27;ä¸Šå•¦åŠ è½½æ›´å¤š&#x27;)</span><br><span class="line">  //ä¸ºäº†ä¸é‚£ä¹ˆé¢‘ç¹è¿›è¡Œä¸‹ä¸€æ¬¡ï¼Œè®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨</span><br><span class="line">  setTimeout(() =&gt; &#123;</span><br><span class="line">    console.log(&#x27;æˆ‘å»¶è¿Ÿäº†4ç§’&#x27;);</span><br><span class="line">    bscroll.finishPullUp()</span><br><span class="line">  &#125;, 3000)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>æˆ‘å®¹æ˜“çŠ¯é”™çš„åœ°æ–¹ï¼šè¿™äº›å±æ€§çš„ä½¿ç”¨ä¸å¤Ÿç†Ÿç»ƒï¼Œé»˜å†™å®¹æ˜“éœ²ç€æ¼é‚£</p>
</li>
</ul>
</li>
<li>
<h5 id="å¯¹Better-scrolldè¿›ä¸€æ­¥å°è£…">å¯¹Better-scrolldè¿›ä¸€æ­¥å°è£…<a class="anchor" href="#å¯¹Better-scrolldè¿›ä¸€æ­¥å°è£…">Â·</a></h5>
<ul>
<li>
<p>è¿›ä¸€æ­¥çš„å°è£…ä¸æŠ½ç¦»ã€‚é¦–å…ˆå°†Scrollçš„åŠŸèƒ½å°è£…åœ¨ç»„ä»¶Scroll.vueé‡Œï¼Œç›®çš„è§£è€¦åˆã€‚æ¯ä¸ªç»„ä»¶éƒ½ç”¨ï¼Œå¯¹è¿™ä¸ªæ¡†æ¶ä¾èµ–æ€§å¤ªå¼ºäº†ã€‚æ‰€ä»¥å…ˆå°è£…ï¼Œéœ€è¦çš„ç»„ä»¶åªéœ€è¦å¼•å…¥å°è£…å°±å¯ä»¥ã€‚æ¡†æ¶æ”¹å˜æ—¶ï¼Œåªéœ€è¦ä¿®æ”¹å°è£…å°±å¯ä»¥ï¼Œè€Œä¸éœ€è¦æ¯ä¸ªç»„ä»¶éƒ½ä¿®æ”¹ã€‚è¿™ç§å…¬å¸å‘è·Ÿç½‘ç»œè¯·æ±‚çš„å°è£…ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p>
<p>å°è£…æ“ä½œæ€æƒ³ï¼š  å°è£…åœ¨componentsé‡Œé¢ï¼Œå› ä¸ºå®ƒèƒ½åœ¨å¤šä¸ªåœ°æ–¹è¿›è¡Œä½¿ç”¨çš„ã€‚commoné‡Œé¢scroll</p>
<p>æ–‡ä»¶å¤¹ï¼Œä¸‹ä¸€ä¸ªé¡¹ç›®ä¸­åªè¦æ˜¯æ»šåŠ¨ç›¸å…³çš„é¡¹ç›®ï¼Œä»–ä¹Ÿæ˜¯å¯ä»¥æ‹¿æ¥ç”¨çš„ã€‚Scroll.vue</p>
<ul>
<li>
<p>é¦–å…ˆä»–ä¹Ÿè¦æœ‰å¤–å±‚åŒ…è£¹ï¼Œå¹¶æ»¡è¶³åŒ…è£¹é‡Œé¢åªèƒ½æœ‰ä¸€ä¸ªï¼›</p>
</li>
<li>
<p>åœ¨mountedé‡Œé¢ä¸å»ºè®®ç”¨document.querySelector('.wrapper)
// é€šè¿‡é€‰æ‹©å™¨æ‹¿åˆ°çš„ï¼Œå¦‚æœæœ‰é‡å¤ç±»åï¼Œæ²¡æœ‰åŠæ³•åŒºåˆ†æ‹¿åˆ°çš„æ˜¯å“ªä¸€ä¸ªï¼Œç»“æœå¯èƒ½ä¸å‡†ç¡®ï¼Œ
// å› æ­¤é€ æˆbugï¼ŒVue ä¹Ÿä¸å»ºè®®å»ç›´æ¥æ“ä½œDomã€‚æ€ä¹ˆåŠå‘¢ï¼Ÿç»‘å®šref,ä¼ å…¥this.$refs.wrapper refå¦‚æœæ˜¯ç»‘å®šåœ¨ç»„ä»¶ä¸­çš„ï¼Œé€šè¿‡$refs.åå­—æ‹¿åˆ°çš„æ˜¯ä¸€ä¸ªç»„ä»¶å¯¹è±¡ã€‚</p>
<p>refå¦‚æœæ˜¯ç»‘å®šåœ¨æ™®é€šæ ‡ç­¾ä¸­çš„ï¼Œé€šè¿‡$refs.åå­—æ‹¿åˆ°çš„æ˜¯ä¸€ä¸ªå…ƒç´ å¯¹è±¡ã€‚è·Ÿdocument.querySelectorä¸€æ ·</p>
</li>
<li>
<p>æ­¤å¤–ä¸ºäº†å…¶ä»–å­ç»„ä»¶è°ƒç”¨çš„æ—¶å€™å¯ä»¥è‡ªç”±å†³å®šè¦ä¸è¦å®æ—¶åˆ·æ–°åŠŸèƒ½ã€è¦ä¸è¦ä¸Šæ‹‰åŠ è½½æ›´å¤šçš„åŠŸèƒ½ã€‚æˆ‘ä»¬å¯¹BScrollå¯¹è±¡é‡Œé¢è¦ä¼ å…¥çš„å‚æ•°ä¸æ˜¯åƒä¹‹å‰å†™æ­»çš„ã€‚è€Œæ˜¯ä»çˆ¶ç»„ä»¶æ¥æ”¶è¿‡æ¥çš„æ•°æ®æ¥å†³å®š</p>
</li>
<li>
<p>åœ¨å®æ—¶ç›‘å¬å’Œä¸Šæ‹‰åŠ è½½æ›´å¤šäº‹ä»¶ä¸­ï¼Œé‡‡ç”¨å‘å¤–è§¦å‘$emitäº‹ä»¶ï¼Œæ ¹æ®éœ€è¦å†³å®šæ˜¯å¦æºå¸¦å‚æ•°ä¼ å‡ºå»ã€‚</p>
<p>å‘Šè¯‰è¦ç›‘å¬çš„ç»„ä»¶ï¼Œä»¥ä¾¿ä»–ä»¬è¿›è¡Œéœ€è¦çš„å¤„ç†å’Œä¿¡æ¯</p>
</li>
<li>
<p>åœ¨methodsé‡Œé¢ï¼Œå¯¹æˆ‘ä»¬åˆ›å»ºçš„scrollå¯¹è±¡é‡Œé¢è‡ªå¸¦çš„æ–¹æ³•è¿›è¡Œäº†å°è£…ï¼Œè¿™æ ·åšæ˜¯å¤šæ­¤ä¸€ä¸¾å—ï¼Ÿ
1.å°è£…æ€æƒ³ï¼›  2.ä¸ºäº†ç®€åŒ–çˆ¶ç»„ä»¶è·å–å­ç»„ä»¶ä¸­çš„scrollå¯¹è±¡ï¼Œå†è·å–ä»–çš„æ–¹æ³•</p>
</li>
</ul>
</li>
<li>
<pre><code>&lt;template&gt;
  &lt;div class=&quot;wrapper&quot; ref = &quot;wrapper&quot;&gt;
    &lt;!-- ä»¥å‰çš„ref çˆ¶ç»„ä»¶è·å–æŸä¸€ä¸ªå­ç»„ä»¶ --&gt;
    &lt;!-- å¿…é¡»æœ‰åŒ…è£¹ï¼Œå› ä¸ºbetter-scrollé‡Œé¢åªèƒ½æœ‰ä¸€ä¸ª --&gt;
    &lt;div class=&quot;content&quot;&gt;
      &lt;!-- è¿™é‡Œè®¾ç½®æ’æ§½çš„ç›®çš„ï¼šæ–¹ä¾¿é¦–é¡µ --&gt;
      &lt;slot&gt;&lt;/slot&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  import BScroll from 'better-scroll'
  export default &#123;
    name: 'Scroll',
    data() &#123;
      return &#123;
        scroll: null
      &#125;
    &#125;,
    props: &#123;
      probeType: &#123;
        type: Number,
        default() &#123;
          return 0
        &#125;
      &#125;,
      pullUpLoad: &#123;
        type: Boolean,
        default() &#123;
          return true
        &#125;
      &#125;
    &#125;,
    mounted()&#123;
      //åˆ›å»ºBScrollå¯¹è±¡
      this.scroll = new BScroll(this.$refs.wrapper, &#123;
        //æ ¹æ®ä¼ å…¥çš„æ¥å†³å®šæ˜¯å¦å®æ—¶ç›‘å¬
        probeType: this.probeType,
        pullUpLoad: this.pullUpLoad,
      &#125;)
      this.scroll.on('scroll', (position) =&gt; &#123;
        // å­ç»„ä»¶å‘å¤–å‘é€ä½ç½®ä¿¡æ¯ï¼Œå’Œäº‹ä»¶
        this.$emit('scroll', position)
      &#125;)
      this.scroll.on('pullingUp', () =&gt; &#123;
        this.$emit('pullingUp')
      &#125;) 
    &#125;,
    methods: &#123;
     scrollTo(x, y, time) &#123;
       this.scroll.scrollTo(x, y, time)
     &#125;,
     //å¯¹å®Œæˆä¸Šæ‹‰åŠ è½½æ›´å¤šè¿›è¡Œå°è£…
     finishPullUp() &#123;
       this.scroll.finishPullUp();
     &#125;
    &#125;
  &#125;
&lt;/script&gt;
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">+ Homeç»„ä»¶ä¸­ï¼Œæ»šåŠ¨åŒºåŸŸé«˜åº¦çš„ç¡®å®šï¼Œä¸Šé¢ç•™44å’Œä¸‹é¢é«˜åº¦ç•™49</span><br><span class="line"></span><br></pre></td></tr></table></figure>
  .content &#123;
    height: 300px;
    position: absolute;
    top: 44px;
    bottom: 49px;
    right: 0;
    left: 0;
   &#125;
    #home &#123;
    /* å¦‚æœè¿™é‡Œæ²¡æœ‰44px,è½®æ’­å›¾ä¼šè·‘åˆ°æœ€ä¸Šé¢ï¼Œä»–çš„ä¸€éƒ¨åˆ†å°±ä¼šè¢«å¯¼èˆªæ é®ç›– */
    padding-top: 44px;
    position: relative;
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">+ é‡åˆ°çš„é—®é¢˜ï¼š å›¾ç‰‡è¢«å¾ªç¯æ»šåŠ¨ï¼Ÿæ€ä¹ˆè§£å†³ã€ï¼Ÿï¼Ÿ</span><br><span class="line">  &lt;img src=&quot;C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20201204215545273.png&quot; alt=&quot;image-20201204215545273&quot; style=&quot;zoom:33%;&quot; /&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
  åŸå› ï¼š åœ¨Scroll.vueé‡Œé¢æˆ‘ç”¨äº†4æ¬¡æ’æ§½ï¼Œè¿™ä¼šå¯¼è‡´å°†scrollåŒ…è£¹çš„ä¸œè¥¿é‡å¤äº†4æ¬¡
  &lt;template&gt;
    &lt;div class=&quot;wrapper&quot; ref = &quot;wrapper&quot;&gt;
      &lt;!-- ä»¥å‰çš„ref çˆ¶ç»„ä»¶è·å–æŸä¸€ä¸ªå­ç»„ä»¶ --&gt;
      &lt;!-- å¿…é¡»æœ‰åŒ…è£¹ï¼Œå› ä¸ºbetter-scrollé‡Œé¢åªèƒ½æœ‰ä¸€ä¸ª --&gt;
      &lt;div class=&quot;content&quot;&gt;
        &lt;!-- è¿™é‡Œè®¾ç½®æ’æ§½çš„ç›®çš„ï¼šæ–¹ä¾¿é¦–é¡µ --&gt;
        &lt;slot&gt;&lt;/slot&gt;
        &lt;slot&gt;&lt;/slot&gt;
        &lt;slot&gt;&lt;/slot&gt;
        &lt;slot&gt;&lt;/slot&gt;
        &lt;slot&gt;&lt;/slot&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/template&gt;
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">    + æ–°äº§ç”Ÿçš„é—®é¢˜ï¼š å°±æ˜¯TabControlç»„ä»¶çš„ç²˜è¿å®šä½æ•ˆæœå·²ç»å¤±æ•ˆäº†ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿæ€ä¹ˆè§£å†³ï¼Ÿ</span><br><span class="line"></span><br><span class="line">      better-scrollåœ¨æ»šåŠ¨çš„æ—¶å€™ï¼Œç³»ç»Ÿæ²¡æœ‰åŠæ³•æ£€æµ‹ç°åœ¨æ»šåˆ°å“ªé‡Œäº†ï¼Œæ‰€ä»¥stickyå¤±æ•ˆäº†ã€‚å¾…è§£å†³</span><br><span class="line"></span><br><span class="line">      </span><br><span class="line"></span><br><span class="line">      </span><br><span class="line"></span><br><span class="line">+ éœ€æ±‚1ï¼š åº•éƒ¨å¢åŠ å›åˆ°é¡¶éƒ¨çš„æŒ‰é’®ï¼Œå°è£…åœ¨componentsçš„contenté‡Œé¢BackTop.vue</span><br><span class="line"></span><br><span class="line">  &lt;img src=&quot;C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20201204201503011.png&quot; alt=&quot;image-20201204201503011&quot; style=&quot;zoom:50%;&quot; /&gt;</span><br><span class="line"></span><br><span class="line">  â€‹    å¾€ä¸‹æ‹‰è½®æ’­å›¾ï¼Œä¸ºä»€ä¹ˆå›¾æ ‡åœ¨æ²¡æœ‰å¸ƒå±€æ—¶ä¼šè·‘åˆ°è¿™é‡Œï¼Œå› ä¸ºä»è½®æ’­å›¾å¼€å§‹ä¸‹é¢çš„ä¸œè¥¿æ˜¯è„±æ ‡çš„ï¼Œå›¾æ ‡å°±ä¼šè¢«è¦†ç›–æ‰ã€‚è€Œä¸”æˆ‘ä»¬é¡¶éƒ¨å¯¼èˆªæ æœ‰ä¸€ä¸ªpadding-bottom  æ‰€ä»¥å›¾æ ‡ä»ä¸‹é¢å¯¼èˆªæ ä¸‹é¢å¼€å§‹å æ®ä½ç½®ã€‚ä½†æˆ‘å¸Œæœ›ä»–åœ¨å³ä¸‹è§’ï¼Œfixedå¸ƒå±€ã€‚è€Œä¸”å¾ˆå¤šä¸ªé¡µé¢è¿™ä¸ªå›¾æ ‡éƒ½æ˜¯åœ¨å³ä¸‹è§’è¿™ä¸ªä½ç½®ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ªç»„ä»¶é‡Œæå‰è®¾ç½®å¥½</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
<template>
<!-- è¿™é‡Œé¢å°è£…çš„å°±æ˜¯ä¸€ä¸ªè¿”å›é¡¶éƒ¨çš„å°å›¾ç‰‡ -->
  <div class="backtop">
    <img src="~assets/img/common/top.png" alt="" >
  </div>
</template>
<script>
  export default {
    name: "BackTop",
  }
</script>
<style scoped>
  .backtop {
    position: fixed;
    right: 6px;
    bottom: 60px;
  }
  .backtop img {
    width: 43px;
    height: 43px;
  }
</style>>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">+ éœ€æ±‚2ï¼šå¦‚ä½•å®Œæˆä½ç½®è·³è½¬ï¼šæ‹¿åˆ°Better-scrollå¯¹è±¡ï¼Œé‡Œé¢æœ‰ä¸€ä¸ªscrollTo(x, y)æ–¹æ³•ï¼Œä¼ å…¥å‚æ•°å°±å¯ä»¥è·³è½¬åˆ°æˆ‘ä»¬æƒ³è¦çš„ä½ç½®ã€‚åœ¨å“ªä¸ªç»„ä»¶é‡Œå®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œ</span><br><span class="line"></span><br><span class="line">  + æ–¹æ¡ˆ1ï¼šä¸è¦åœ¨å›¾æ ‡ç»„ä»¶é‡Œå®Œæˆè·³è½¬åˆ°é¡¶éƒ¨ï¼Œå› ä¸ºé¡¶éƒ¨æ˜¯çˆ¶ç»„ä»¶Homeé‡Œçš„ï¼Œè€Œå›¾æ ‡ç»„ä»¶å’ŒScrollç»„ä»¶éƒ½æ˜¯Homeç»„ä»¶çš„å­ç»„ä»¶ã€‚æ­¤æ—¶éœ€è¦å›¾æ ‡ç»„ä»¶è§¦å‘ï¼ŒHomeé‚£è¾¹ç»„ä»¶ç›‘å¬ï¼Œå†ç”¨methodsæƒ³åŠæ³•æ‹¿åˆ°Srcollç»„ä»¶é‡Œçš„Bette-scrollå¯¹è±¡ï¼Œå†å»è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚è¿™æ ·åšå¾ˆéº»çƒ¦</span><br><span class="line">  + æ›´å¥½çš„åšæ³•ï¼š ç›´æ¥ç›‘å¬Homeé‡Œé¢çš„back-topç»„ä»¶çš„ç‚¹å‡»äº‹ä»¶ï¼Œè¿™åœ¨æ™®é€šæ ‡ç­¾ä¸Šæ˜¯å½“ç„¶å¯ä»¥çš„ï¼Œä½†ç»„ä»¶æ˜¯å¦å¯ä»¥ç›´æ¥ä¸é€šè¿‡å­ç»„ä»¶å‘å¤–è§¦å‘äº‹ä»¶ï¼Œçˆ¶ç»„ä»¶ç›‘å¬çš„æ–¹å¼ï¼Œè€Œæ˜¯çˆ¶ç»„ä»¶ç›´æ¥ç›‘å¬å‘¢ï¼Ÿï¼Ÿ</span><br><span class="line">    ç­”æ¡ˆæ˜¯ï¼šä¸å¯ä»¥ç›´æ¥ç›‘å¬ç‚¹å‡»ï¼Œå¿…é¡»å€ŸåŠ©.nativeä¿®é¥°ç¬¦ï¼Œæ‰å¯ä»¥ç›‘å¬ç»„ä»¶æ ¹å…ƒç´ çš„åŸç”Ÿäº‹ä»¶ã€‚å¦‚æœä¸åŠ ï¼Œåªèƒ½æŒ‰ç…§æ–¹æ¡ˆ1ï¼Œä½†æ˜¯æ–¹æ¡ˆ1æ¯”è¾ƒéº»çƒ¦</span><br><span class="line"></span><br><span class="line">+ é—®é¢˜2ï¼š å¦‚ä½•è·å–åˆ°scrollå¯¹è±¡ï¼Œç»™scrollæ ¹ç»„ä»¶ç»‘å®šrefï¼Œå†é€šè¿‡this.$refs.Scroll()æ‹¿åˆ°ç»„ä»¶å¯¹è±¡ï¼Œå†æ‹¿åˆ°ç»„ä»¶å¯¹è±¡çš„å±æ€§</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Homeç»„ä»¶ä¸­ï¼š
<scroll class="content" ref="scroll" :probe-type = "3" >
&lt;back-top @click.native=â€œbackTopâ€ v-show = â€œisBackTopâ€&gt;</back-top>
dataé‡Œï¼šisBackTop: false
æ–¹æ³•é‡Œï¼šbackTop() {
// //æ‹¿åˆ°scrollç»„ä»¶ä¸Šçš„scrollå¯¹è±¡ï¼Œè°ƒç”¨ä»–çš„scrollToæ–¹æ³•,ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å¤šé•¿æ—¶é—´å›ä½ç½®
// this.$refs.scroll.scroll.scrollTo(0, 0, 500)
// è¿™æ ·å†™æ˜¯æ‹¿åˆ°scrollç»„ä»¶ï¼Œç›´æ¥è°ƒç”¨ç»„ä»¶çš„æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å†…éƒ¨åšäº†ä»€ä¹ˆï¼Œåœ¨Scrollä¸­å·²ç»å®šä¹‰äº†
this.$refs.scroll.scrollTo(0, 0, 500)
},</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">+ éœ€æ±‚3ï¼šè¾¾åˆ°æŸä¸ªä¸´ç•Œå€¼æ—¶ï¼Œå›¾æ ‡æ˜¾ç¤ºï¼Œæ²¡åˆ°æŸä¸ªä¸´ç•Œå€¼ï¼Œå›¾ç‰‡éšè—ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å®ç°ç›‘å¬å›¾ç‰‡æ»šåŠ¨äº†å¤šå°‘ï¼Œæ€ä¹ˆç›‘å¬å‘¢ï¼Ÿï¼Ÿï¼Ÿ</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Homeç»„ä»¶è¿›ä¸€æ­¥ä¿®æ”¹ï¼š
&lt;scroll class=â€œcontentâ€ ref=â€œscrollâ€ :probe-type = â€œ3â€
@scroll = â€œcontentScrollâ€&gt;
æ–¹æ³•é‡Œï¼š<br>
contentScroll(position) {
//ä»positioné‡Œå–å‡ºyå€¼ï¼Œä¸1000å¯¹æ¯”ï¼Œå¤§äºæ˜¾ç¤ºå›¾æ ‡ï¼Œå°äºéšè—å›¾æ ‡
//yé»˜è®¤æ˜¯è´Ÿå€¼ï¼Œè¦è½¬æ¢æˆæ­£å€¼ï¼Œè·Ÿ1000å¯¹æ¯”
this.isBackTop = (-position.y) &gt; 1000 ?true: false<br>
}</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">+ éœ€æ±‚4ï¼š ä¸Šæ‹‰åŠ è½½æ›´å¤šå›¾ç‰‡ï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦å†è¿›è¡Œæ•°æ®è¯·æ±‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">+ é¦–é¡µBetter-scrollå¯æ»šåŠ¨åŒºåŸŸé—®é¢˜ï¼š</span><br><span class="line"></span><br><span class="line">ç°è±¡ï¼šå›¾ç‰‡å¼‚æ­¥åŠ è½½ï¼Œæ¯ä¸€é¡¹ç»„ä»¶çš„é«˜åº¦è¢«æ’‘å¼€äº†ï¼Œå¯æ»šåŠ¨åŒºåŸŸçªç„¶å˜å¾—æ›´å¤§äº†ï¼Œä½†æ˜¯è¿™ä¸ªæ’ä»¶å¹¶ä¸çŸ¥é“ï¼Œä»–è¿˜æ˜¯æŒ‰ç…§æ²¡æœ‰å›¾ç‰‡æ—¶çš„å¯æ»šåŠ¨åŒºåŸŸã€‚è¿™æ—¶å†å¾€ä¸‹æ»šå°±æ»šåŠ¨ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è¦1.ç›‘å¬å›¾ç‰‡åŠ è½½å®Œï¼Œè¿›è¡Œåˆ·æ–°ã€‚2.æ‹¿åˆ°srcollå¯¹è±¡è°ƒç”¨refreshæ–¹æ³•ã€‚ä¸€æ—¦è°ƒç”¨refreshå°±æ˜¯çœŸå®å¯æ»šåŠ¨é«˜åº¦</span><br><span class="line"></span><br><span class="line">è§£å†³ï¼š</span><br><span class="line"></span><br><span class="line">  æ‰“å°new BScrollå‡ºæ¥çš„ scrollå¯¹è±¡ï¼Œæ§åˆ¶å°æŸ¥çœ‹é‡Œé¢æœ‰ä¸ªå±æ€§å«scrollerHeightï¼Œæ ¹æ®æ”¾åœ¨better-scrollçš„cntentåœ¨å­ç»„ä»¶çš„é«˜åº¦å†³å®šå½“å‰æœ‰å¤šå°‘åŒºåŸŸæ˜¯å¯æ»šåŠ¨çš„ã€‚è¿™ä¸ªé«˜åº¦æ²¡æœ‰è®¡ç®—åŠ è½½å›¾ç‰‡çš„é«˜åº¦ã€‚æ‰€ä»¥æˆ‘ä»¬æ»‘åˆ°æœ€åä¼šæœ‰ä¸€ç‰‡ç©ºç™½ã€‚å›¾ç‰‡å¼‚æ­¥åŠ è½½ï¼Œæ¯ä¸€é¡¹ç»„ä»¶çš„é«˜åº¦è¢«æ’‘å¼€äº†ï¼Œå¯æ»šåŠ¨åŒºåŸŸçªç„¶å˜å¾—æ›´å¤§äº†ï¼Œä½†æ˜¯è¿™ä¸ªæ’ä»¶å¹¶ä¸çŸ¥é“ï¼Œä»–è¿˜æ˜¯æŒ‰ç…§æ²¡æœ‰å›¾ç‰‡æ—¶çš„å¯æ»šåŠ¨åŒºåŸŸã€‚è¿™æ—¶å†å¾€ä¸‹æ»šå°±æ»šåŠ¨ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è¦</span><br><span class="line"></span><br><span class="line">+ 1.ç›‘å¬æ¯å¼ å›¾ç‰‡åŠ è½½å®Œï¼Œè¿›è¡Œä¸€æ¬¡åˆ·æ–°ã€‚å›¾ç‰‡ç»‘å®šåŠ è½½äº‹ä»¶ï¼Œä¸€æ—¦å›¾ç‰‡åŠ è½½å®Œæˆå°±ä¼šæ‰§è¡Œè¿™ä¸ªå‡½æ•°</span><br><span class="line"></span><br><span class="line">é—®é¢˜æ€ä¹ˆçŸ¥é“30å¼ å›¾ç‰‡å·²ç»åŠ è½½å®Œæˆäº†å‘¢ï¼Ÿä¹Ÿå°±æ˜¯å¦‚ä½•å›¾ç‰‡åŠ è½½å®Œæˆä¸refreshå¯¹åº”èµ·æ¥</span><br><span class="line">![image-20201205185556938](C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20201205185556938.png)</span><br><span class="line"></span><br><span class="line">2.æ‹¿åˆ°srcollå¯¹è±¡è°ƒç”¨refreshæ–¹æ³•ã€‚ä¸€æ—¦è°ƒç”¨refreshå°±æ˜¯çœŸå®å¯æ»šåŠ¨é«˜åº¦ã€‚ä½†æ˜¯è¿™ä¸ªrefreshæ˜¯scrollå¯¹è±¡çš„æ–¹æ³•ï¼Œç°åœ¨åœ¨GoodListItemå­ç»„ä»¶é‡Œï¼Œæ˜¯ä¸èƒ½ç›´æ¥è°ƒç”¨å¦ä¸€ä¸ªç»„ä»¶çš„æ–¹æ³•çš„ã€‚è§£å†³åŠæ³•ï¼šGoodListItemå…ˆä¼ ç»™GoodListï¼Œå†ä¼ ç»™é¦–é¡µï¼Œé¦–é¡µå†ç»™Scrollç»„ä»¶ã€‚ä½†è¿™æ ·å¾ˆéº»çƒ¦ã€‚</span><br><span class="line"></span><br><span class="line">æ–¹æ³•2ï¼šæä¸€ä¸ªVuex,æ¯æ¬¡å›¾ç‰‡åŠ è½½å®Œä¹‹åï¼Œå°±æ”¹å˜Vuexé‡Œé¢çš„å±æ€§ã€‚å†è®©é¦–é¡µå¼•ç”¨è¿™ä¸ªå±æ€§å¹¶ç›‘å¬è¿™ä¸ªå±æ€§çš„æ”¹å˜ã€‚</span><br><span class="line"></span><br><span class="line">æ–¹æ³•3ï¼šäº‹ä»¶æ€»çº¿ã€‚ä¸Vuexå¾ˆåƒï¼Œä½†æ˜¯ä»–ä¸æ˜¯ç®¡ç†å…¬å…±çŠ¶æ€çš„ï¼Œæ˜¯ç”¨æ¥ç®¡ç†äº‹ä»¶çš„ã€‚this.$bus.$emit(&#x27;aa&#x27;),å¯ä»¥å¾€Busé‡Œé¢å‘é€ä¸€ä¸ªäº‹ä»¶aaï¼Œä¹‹ååœ¨æƒ³è¦ç›‘å¬çš„ä½ç½®å†™ this.$bus.$on(&#x27;aaa&#x27;, å‡½æ•°)  </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>methods: {
imageLoad() {
this.$bus.$emit(â€˜itemImageLoadâ€™)
}
}</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">Homeç»„ä»¶ä¸­ç›‘å¬ï¼š</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>created () {
this.getHomeMultidata()
//æˆ‘ä»¬å¸Œæœ›3ä¸ªé¡µé¢åœ¨å¼€å§‹çš„æ—¶å€™éƒ½æ˜¯è¯·æ±‚ç¬¬ä¸€é¡µ
this.getHomeGoods(â€˜popâ€™)
this.getHomeGoods(â€˜newâ€™)
this.getHomeGoods(â€˜sellâ€™)</p>
<pre><code>//ç­‰ç»„ä»¶åˆ›å»ºå®Œæˆä¹‹åå°±è¦ç›‘å¬ä½ çš„å›¾ç‰‡æ˜¯ä¸æ˜¯åŠ è½½å®Œæˆäº†
this.$bus.$on('itemImageLoad', () =&gt; &#123;
  console.log('æˆ‘çŸ¥é“ä½ çš„å›¾ç‰‡åŠ è½½å®Œæˆå•¦')
&#125;)
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">+ ä½†æ˜¯ä¼šæŠ¥é”™ï¼š å› ä¸ºbusä¸å­˜åœ¨ã€‚å¿…é¡»åœ¨åŸå‹é‡Œé¢åŠ ä¸Šã€‚å»main.jsé‡Œé¢ï¼Œç»™VueåŸå‹æ–¹æ³•ä¸ŠåŠ ä¸Š$bus</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>//æ­¤æ—¶$buså°±æ˜¯äº‹ä»¶æ€»çº¿
Vue.prototype.$bus = new Vue()</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">å›¾ç‰‡åŠ è½½å®Œåï¼Œç»™æ€»çº¿è§¦å‘äº†äº‹ä»¶ï¼ŒHomeç»„ä»¶åœ¨createdä¸­ç›‘å¬ã€‚ç›‘å¬åˆ°åè°ƒç”¨scrollç»„ä»¶é‡Œé¢çš„refresæ–¹æ³•ã€‚ä½†æ˜¯scrollå¯¹è±¡çš„åˆ›å»ºåœ¨Scroll.vueç»„ä»¶é‡Œåœ¨mountedçš„æ—¶å€™åˆ›å»ºçš„ã€‚è¿™æ˜¯åæ‹¿åˆ°çš„scrollå¯èƒ½æ˜¯ç©ºçš„ã€‚å¯¹Scrollæ–¹æ³•è¿›è¡Œä¿®æ”¹ï¼Œ</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code> scrollTo(x, y, time) &#123;
   //åœ¨è¿™é‡Œå…ˆåšåˆ¤æ–­ï¼Œscrollæ˜¯ä¸æ˜¯æœ‰å€¼
  //  this.scroll &amp;&amp; this.scroll.scrollTo(a,y,time)
  //  this.scroll.scrollTo(x, y, time)
 &#125;,
 refresh() &#123;
   this.scroll &amp;&amp; this.scroll.refresh();
  //  this.scroll.refresh();
&#125;,
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">åœ¨Homeç»„ä»¶é‡Œä¹ŸåšåŒæ ·ä¿®æ”¹ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>mounted() {
//ç­‰ç»„ä»¶åˆ›å»ºå®Œæˆä¹‹åå°±è¦ç›‘å¬ä½ çš„å›¾ç‰‡æ˜¯ä¸æ˜¯åŠ è½½å®Œæˆäº†
this.$bus.$on(â€˜itemImageLoadâ€™, () =&gt; {
this.$refs.scroll &amp;&amp; this.$refs.scroll.refresh();
})
},</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">é˜²æŠ–åŠ¨/debounceï¼šé˜²æŠ–å‡½æ•°ï¼Œåœ¨ç”¨æˆ·è¾“å…¥ä¸€ä¸ªå€¼ï¼Œç­‰å¾…50msï¼Œçœ‹æ˜¯å¦è¿˜è¾“å…¥å€¼ï¼Œè‹¥ç»§ç»­è¾“å…¥ï¼Œå°†ä¸Šä¸€æ¬¡å‡†å¤‡åƒæœåŠ¡å™¨å‘é€çš„è¯·æ±‚å–æ¶ˆæ‰ã€‚å°†è¿™ä¸¤ä¸ªä¸œè¥¿æ”¶é›†èµ·æ¥ï¼Œè‹¥500msä¹‹åæ²¡æœ‰ç»§ç»­è¾“å…¥ã€‚è¿™å°±é˜²æ­¢äº†çŸ­æ—¶é—´å†…å‘æœåŠ¡å™¨å‘é€å¤šæ¬¡è¯·æ±‚ï¼Œç¼“è§£æœåŠ¡å™¨çš„å‹åŠ›ã€‚</span><br><span class="line"></span><br><span class="line">è¿™é‡Œæ¯æ¬¡åŠ è½½å›¾ç‰‡éƒ½è¿›è¡Œåˆ·æ–°refreshï¼Œæ‰€ä»¥ä¹Ÿåº”è¯¥åšé˜²æŠ–å¤„ç†ã€‚è¿™æ ·åŠ è½½ä¸€æ¬¡è¦åˆ·æ–°30æ¬¡ã€‚é€šè¿‡debounceå‡½æ•°å°†refreshå‡½æ•°ä¼ å…¥åˆ°debounceä¸­ç”Ÿæˆä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚</span><br><span class="line"></span><br><span class="line">this.debounce ()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>debounce(func, time) &#123;
  let timer = null;
  //è¿™é‡Œå‰©ä½™å‚æ•°ï¼Œå¯ä»¥ä¼ å¤šä¸ªå‚æ•°
  return function(...args) &#123;
    if (timer) &#123;clearTimeout(timer)&#125;
     timer = setTimeout(() =&gt; &#123;
     //æ”¹å˜thisæŒ‡å‘ï¼Œæ‹¿åˆ°å½“å‰å‡½æ•°çš„å‚æ•°
       func.apply(this, args)
     &#125;)
  &#125;
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">1.åˆ¤æ–­æ˜¯å¦æœ‰timerï¼Œç¬¬ä¸€æ¬¡æ²¡æœ‰å€¼ï¼Œnullã€‚å»¶è¿Ÿ500msæ‰§è¡Œã€‚ä½†æ˜¯å›¾ç‰‡åŠ è½½è°ƒç”¨å¾ˆé¢‘ç¹ã€‚æ‰€ä»¥å»¶è¿Ÿçš„è¿‡ç¨‹ä¸­ç¬¬äºŒæ¬¡æ¥åˆ°è¿™ä¸ªå‡½æ•°ã€‚æ­¤æ—¶timerä¸æ˜¯ç©ºçš„äº†ï¼Œçœ‹èµ‹å€¼è¡¨è¾¾å¼ã€‚æ‰€ä»¥ä¼šå°†timer1æ¸…ç©ºæ‰ã€‚å†ç»™timeré‡æ–°èµ‹å€¼ã€‚åˆ°ç¬¬29æ¬¡ä¸€æ ·ã€‚ä½†æ˜¯ç¬¬30æ¬¡ä¹‹åï¼Œå› ä¸ºæ²¡æœ‰31æ¬¡äº†ï¼Œä¸ä¼šå†æ¥åˆ°è¿™ä¸ªå‡½æ•°é‡Œé¢äº†ï¼Œå®šæ—¶å™¨æ—¶é—´ä¸€åˆ°ã€‚æ‹¿åˆ°functionäº†ã€‚æ‰§è¡Œå‡½æ•°é‡Œé¢çš„å‡½æ•°ï¼Œapplayæ‹¿åˆ°å½“å‰çš„æ‰€æœ‰ä¼ å…¥å‚æ•°</span><br><span class="line">ä¸ºä»€ä¹ˆä¸ä¼ å‚æ•°delayï¼Œä¹Ÿèƒ½è¯•ä¸‹é˜²æŠ–å‘¢ï¼Ÿ</span><br><span class="line">äº‹ä»¶å¾ªç¯æœºåˆ¶ï¼šå› ä¸ºåªè¦å®ç°setTimeOUtæ˜¯å¼‚æ­¥å‡½æ•°ï¼Œå³ä½¿æ²¡æœ‰å»¶è¿Ÿæ—¶é—´ï¼Œä¼šæ”¾åˆ°äº‹ä»¶é˜Ÿåˆ—çš„å°¾éƒ¨ç­‰åˆ°æ‰§è¡Œæ ˆé‡Œæ‰§è¡Œå®Œæˆä¹‹åæ‰æ‰§è¡Œæ—¶é—´é˜Ÿåˆ—é‡Œçš„ä»»åŠ¡</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>mounted() {
//ä¼ å…¥çš„æ˜¯å‡½æ•°ï¼Œä¸æ˜¯å‡½æ•°è¿”å›å€¼
// è¿™é‡Œçš„refreshå˜é‡ä¸ä¼šè¢«é”€æ¯ï¼Œå› ä¸ºè¢«é—­åŒ…å¼•ç”¨
const refresh = this.debounce(this.$refs.scroll.refresh, 10)
//ç­‰ç»„ä»¶åˆ›å»ºå®Œæˆä¹‹åå°±è¦ç›‘å¬ä½ çš„å›¾ç‰‡æ˜¯ä¸æ˜¯åŠ è½½å®Œæˆäº†
this.$bus.$on(â€˜itemImageLoadâ€™, () =&gt; {
this.$refs.scroll &amp;&amp; this.$refs.scroll.refresh();
//åœ¨è¿™é‡Œè°ƒç”¨refreshçš„è¿‡ç¨‹ï¼š
})
},</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">èŠ‚æµå‡½æ•°/throttleï¼š</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¯¹èŠ‚æµå‡½æ•°å°è£…åœ¨commonæ–‡ä»¶å¤¹ä¸­ï¼Œèµ·åå­—Utils.jsï¼Œå¹¶å¯¼å…¥Homeç»„ä»¶ï¼Œåˆ™ä½¿ç”¨æ—¶å°±ä¸éœ€è¦åŠ thisäº†</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>export function debounce(func, time) {
let timer = null;
//è¿™é‡Œå‰©ä½™å‚æ•°ï¼Œå¯ä»¥ä¼ å¤šä¸ªå‚æ•°
return function(â€¦args) {
if (timer) {clearTimeout(timer)}
timer = setTimeout(() =&gt; {
//æ”¹å˜thisæŒ‡å‘ï¼Œæ‹¿åˆ°å½“å‰å‡½æ•°çš„å‚æ•°
func.apply(this, args)
})
}
}</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<p>import {debounce} from â€˜common/Utils.jsâ€™</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">+ ##### éœ€æ±‚5ï¼šä¸Šæ‹‰åŠ è½½æ›´å¤š #####</span><br><span class="line"></span><br><span class="line">  + ç›‘å¬ä»€ä¹ˆæ—¶å€™æ»šåˆ°åº•éƒ¨ï¼Œscrollç»„ä»¶ä¸­çš„pullUpLOadå±æ€§å€¼æ˜¯å¤–éƒ¨å†³å®šçš„ï¼Œè®©å¤–ç•Œä¼ å…¥ä¸€ä¸ªå±æ€§</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>      pullUpLoad: &#123;
        type: Boolean,
        default() &#123;
          return false
        &#125;
      &#125;
    &#125;,
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">Homeç»„ä»¶ä¸­å¯¹scrolæ·»åŠ ç»‘å®šå±æ€§ï¼š</span><br><span class="line"></span><br></pre></td></tr></table></figure>
    &lt;scroll class=&quot;content&quot; ref=&quot;scroll&quot; :probe-type = &quot;3&quot; 
				 @scroll = &quot;contentScroll&quot;   :pull-up-load = &quot;true&quot;
      &lt;/scroll&gt; 
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">åœ¨mountedé‡Œé¢ç›‘å¬ </span><br><span class="line"></span><br></pre></td></tr></table></figure>
      if (this.pullUpLoad)&#123;
        this.scroll.on('pullingUp', () =&gt; &#123;
        this.$emit('pullingUp')
      &#125;)
      &#125;
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">å› ä¸ºä¸Šæ‹‰åˆ°åº•æ—¶ï¼Œæˆ‘ä»¬é¦–é¡µè¦å°†å³å°†åŠ è½½çš„æ•°æ®è¯·æ±‚è¿‡æ¥ï¼Œæ‰€ä»¥é¦–é¡µHomeç»„ä»¶è¦ç›‘å¬è¿™ä¸ªäº‹ä»¶ï¼Œå¹¶è¿›è¡Œæ•°æ®è¯·æ±‚ã€‚currentTypeè®°å½•äº†å½“å‰é€‰ä¸­çš„ç±»å‹popï¼Œæ ¹æ®popå–å‡ºpopå½“å‰é¡µç ã€‚é‡Œé¢ä¼šå°†ç¬¬äºŒé¡µæ•°æ®æ‹¿åˆ°ã€‚æ”¾åˆ°listé‡Œé¢ã€‚å¹¶åŠ é¡µç </span><br><span class="line"></span><br></pre></td></tr></table></figure>
    &lt;scroll class=&quot;content&quot; ref=&quot;scroll&quot; :probe-type = &quot;3&quot; 
            @scroll = &quot;contentScroll&quot;   :pull-up-load = &quot;true&quot;
            @pullingUp = &quot;loadMore&quot;
            &gt;

methodsé‡Œé¢ï¼š
    loadMore() &#123;
      //currentTypeè®°å½•äº†å½“å‰æ˜¯å“ªä¸€é¡¹ã€‚æˆ‘ä»¬å°±è·å–å“ªä¸€é¡¹çš„æ•°æ®ã€‚å–å‡ºå½“å‰çš„é¡µç å¹¶åŠ ä¸Š1ï¼Œ
      // å¦‚æœç»§ç»­ä¸Šæ‹‰åŠ è½½æ›´å¤šï¼Œé¡µç ç»§ç»­å¢å¤š
      console.log('é¦–é¡µçŸ¥é“ä½ åˆ°è¾¾åº•éƒ¨å•¦')
      this.getHomeGoods(this.currentType)
    &#125;
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">+ é—®é¢˜ï¼špullUpLoadé»˜è®¤åªåŠ è½½ä¸€æ¬¡ï¼Œè¿˜éœ€è¦finishå‡½æ•°ã€‚åœ¨æ•°æ®åŠ è½½å®Œä¹‹åï¼Œå‘Šè¯‰ä»–å·²ç»å®Œæˆäº†ä¸Šæ‹‰åŠ è½½æ›´å¤š</span><br><span class="line"></span><br></pre></td></tr></table></figure>
    getHomeGoods(type) &#123;
      // è¿™ä¸ª+1ï¼Œè¿™æ˜¯å‘Šè¯‰ä»–è¦è¯·æ±‚çš„æ˜¯å“ªä¸ªé¡µç çš„æ•°æ®
      const page = this.goods[type].page + 1
      getHomeGoods(type, page).then(res =&gt; &#123;
         console.log(res);
        this.goods[type].list.push(...res.data.list);
        // è€Œè¿™ä¸ªåœ°æ–¹çš„+1ï¼Œåˆ™æ˜¯æˆ‘ä»¬å·²ç»æœ‰ä¸¤é¡µæ•°æ®äº†ï¼Œå½“å‰é¡µç åº”è¯¥æ›´æ–°åˆ°2äº†ï¼Œè€Œä¸æ˜¯ä¹‹å‰çš„1
        this.goods[type].list.page +=1;
        // //è°ƒç”¨scrollé‡Œé¢çš„æ–¹æ³•
        this.$refs.scroll.finishPullUp();
      &#125;)
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
Scrollç»„ä»¶ä¸­ï¼Œ    //å¯¹å®Œæˆä¸Šæ‹‰åŠ è½½æ›´å¤šè¿›è¡Œå°è£…
     finishPullUp() &#123;
       this.scroll.finishPullUp();
     &#125;,
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">### 9.TabControlçš„å¸é¡¶æ•ˆæœ ###</span><br><span class="line"></span><br><span class="line">#### ä¹‹å‰æœ‰stickyå®ç°ï¼Œä½†æ˜¯åœ¨åé¢æ”¹éœ€æ±‚åï¼Œåˆå¤±æ•ˆäº†ã€‚ç°åœ¨æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ ####</span><br><span class="line"></span><br><span class="line">&lt;img src=&quot;C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20201210195522021.png&quot; alt=&quot;image-20201210195522021&quot; style=&quot;zoom:50%;&quot; /&gt;</span><br><span class="line"></span><br><span class="line">1.åˆ¤æ–­å‘ä¸Šæ»šåŠ¨çš„è·ç¦»ï¼Œå¦‚æœå¤§äºæŸä¸ªè·ç¦»ï¼Œå°±å¼€å§‹å¸é¡¶ï¼ˆæ”¹å¸ƒå±€fixedç­‰ï¼‰</span><br><span class="line"></span><br><span class="line">+ æ€ä¹ˆç¡®å®šè¿™ä¸ªé˜ˆå€¼å‘¢ï¼Ÿè·å–TabControlçš„offtopå±æ€§ã€‚ä¸€èˆ¬æƒ…å†µä¸‹è½®æ’­å›¾åŠ è½½å®Œäº†ï¼Œä»–å°±æ‹¿åˆ°çš„æ˜¯ä¸€ä¸ªæ¯”è¾ƒæ­£ç¡®çš„å€¼ã€‚</span><br><span class="line">  é¡¹ç›®ä¸­ç»å¸¸éœ€è¦ç›‘å¬å›¾ç‰‡æ˜¯å¦åŠ è½½å®Œï¼Œå¦åˆ™ä»–çš„åŠ è½½ä¼šå¯¹ä½ è·å–çš„æ•°æ®æœ‰å½±å“ã€‚</span><br><span class="line">  å»HomeSwiperç»„ä»¶é‡Œï¼Œä¸ºå›¾ç‰‡ç»‘å®š@loadäº‹ä»¶ç›‘å¬ï¼Œï¼Œå¹¶å‘å¤–$emitè§¦å‘äº‹ä»¶</span><br><span class="line"></span><br><span class="line">![image-20201206221918886](C:\Users\å°è™ç‰™\AppData\Roaming\Typora\typora-user-images\image-20201206221918886.png)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
 ç»‘å®šå¯¹HomeSwiperç»„ä»¶ä¸Šçš„ç›‘å¬ï¼š swiperImageLoad
 swiperImageLoad() &#123;
    //æ‰“å°ç»“æœ
    // this.$refs.scroll &amp;&amp; this.$refs.scroll.refresh();
    // å³ä¾§æ‹¿åˆ°çš„æ˜¯ç»„ä»¶å¯¹è±¡ï¼Œç»„ä»¶æœ‰æ²¡æœ‰å±æ€§å«offsetTopå‘¢ï¼Ÿç­”æ¡ˆæ˜¯æ²¡æœ‰
    // æ‰€ä»¥æˆ‘ä»¬åº”è¯¥å»æ‹¿ç»„ä»¶é‡Œçš„æ¨¡æ¿ï¼Œæ˜¯å…ƒç´ é‡Œé¢æ‰æœ‰è¿™ä¸ªå±æ€§
    // æ‰€æœ‰çš„ç»„ä»¶éƒ½æœ‰ä¸€ä¸ªå±æ€§å«$elï¼Œè¿™ä¸ªå±æ€§æ˜¯ç”¨äºè·å–ç»„ä»¶ä¸­çš„å…ƒç´ çš„
    // this.tabOffsetTop = this.$refs.tabControl;
    this.tabOffsetTop = this.$refs.tabControl.$el.offsetTop;
    // ä½†è¿™æ ·æ•°å€¼ç»“æœæ˜¯ä¸å¯¹çš„ï¼Œå› ä¸ºmountedé‡ŒæŒ‚è½½ä»¥ä¸ºè¿™ç»„ä»¶éƒ½æŒ‚è½½ä¸Šé¢äº†ï¼Œ
    //ä½†æ˜¯å›¾ç‰‡æœªå¿…éƒ½åŠ è½½å®Œäº†.ç­‰ä¸Šé¢çš„å›¾ç‰‡éƒ½åŠ è½½å®Œæ¯•å†å»æ‹¿è¿™ä¸ªoffsetTopæ‰æ˜¯å¯¹çš„
  &#125;
</code></pre>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">æ¯å¼ è½®æ’­å›¾åŠ è½½åéƒ½ä¼šå–ä¸€æ¬¡offsetTopï¼Œå…¶å®åªéœ€æ‹¿ä¸€æ¬¡å°±å¯ä»¥æ‹¿åˆ°é«˜åº¦ã€‚æˆ‘å°±çŸ¥é“é«˜åº¦äº†ã€‚ä½ åé¢å›¾ç‰‡çš„åŠ è½½å°±ä¸è¦å†å‘é€è¿™ä¸ªäº‹ä»¶å‘Šè¯‰HOMEç»„ä»¶äº†ï¼Œå› ä¸ºæœ‰ç¬¬ä¸€æ¬¡çš„å‘é€èƒ½æ‹¿åˆ°offsetTopã€‚HomeSwiperä¿®æ”¹ï¼š</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>  methods: &#123;
    imageLoad() &#123;
      //è‹¥å›¾ç‰‡è¿˜æ²¡æœ‰åŠ è½½
       if (!isLoad) &#123;
         this.$emit('swiperImageLoad');
        //  è¿™æ ·åœ¨ç¬¬äºŒæ¬¡åŠ è½½çš„æ—¶å€™ä»–å°±ä¸ä¼šæ¥åˆ°è¿™ä¸ªå‡½æ•°é‡Œé¢äº†
         this.isLoad = true
       &#125;
    &#125;
  &#125;,æ·»åŠ ï¼š
  data() &#123;
    return &#123;
      isLoad: false
    &#125;
  &#125;
</code></pre>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">2.åœ¨Homeç»„ä»¶é‡Œé¢contentScrollé‡Œï¼Œå†³å®šè¦ä¸è¦å¸é¡¶</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>  contentScroll(position) &#123;
    //ä»positioné‡Œå–å‡ºyå€¼ï¼Œä¸1000å¯¹æ¯”ï¼Œå¤§äºæ˜¾ç¤ºå›¾æ ‡ï¼Œå°äºéšè—å›¾æ ‡
    //yé»˜è®¤æ˜¯è´Ÿå€¼ï¼Œè¦è½¬æ¢æˆæ­£å€¼ï¼Œè·Ÿ1000å¯¹æ¯”
    this.isBackTop = (-position.y) &gt; 1000 ?true: false
    //å†³å®šæ˜¯å¦å¸é¡¶ï¼Œå½“å‰æ»šåŠ¨è·ç¦»æ˜¯å¦å¤§äºtabControlè·ç¦»é¡¶éƒ¨çš„é«˜åº¦ï¼Œå°±å¸é¡¶
    this.isTabFixed = (-position.y) &gt; this.tabOffsetTop
  &#125;,
</code></pre>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<pre><code>  å¸®ä¸Šæ–°å±æ€§class,åŠ¨æ€å†³å®šè¦ä¸è¦åŠ ä¸€ä¸ªfixedï¼š    
  	&lt;tab-control :titles = &quot;titles&quot; 
                    class=&quot;tab-control&quot; 
                    @tabClick=&quot;tabClick&quot;
                    :class = &quot;&#123;fixed:isTabFixed&#125;&quot;&gt;
      &lt;/tab-control&gt;

.fixed &#123;
  position: fixed;
  top: 0;
  right: 0;
  left: 0;
&#125;
</code></pre>
  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">+ æ–°é—®é¢˜ï¼š TabControlä¸€ä¸‹å­å¾€ä¸Šé¢è·‘ä¸€ä¸‹ï¼Œå› ä¸ºå®ƒè„±æ ‡äº†ï¼Œæ‰€ä»¥ä¸‹é¢çš„ä¸œè¥¿ä¸€ä¸‹å­è·‘ä¸Šé¢å»äº†ã€‚ç»§ç»­å¾€ä¸‹æ»‘ï¼Œè¿™ä¸ªæ ç›®æ¶ˆå¤±äº†ã€‚Better-scrollåœ¨æ»šåŠ¨ä¸­çš„è¿‡ç¨‹ä¸­ï¼Œä¼šå¾€contentä¸ŠåŠ å¾ˆå¤šå±æ€§ã€‚å…¶ä¸­Translateå±æ€§åœ¨æ»šåŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œä¼šä¸æ–­åœ°æ”¹å˜ï¼Œæ‰€ä»¥æ»šåŠ¨æ˜¯é€šè¿‡ä¿®æ”¹Translateå®ç°çš„ã€‚é‡Œé¢æœ‰ä¸€ä¸ªfixedçš„ä¸œè¥¿æ˜¯å¯ä»¥ä¿®æ”¹translateçš„ã€‚æ‰€ä»¥ï¼ŒBetter-scrollé‡Œé¢çš„åœç•™æ•ˆæœä¸å¥½åšï¼Œç²˜è´´tab-controlï¼Œåˆ°navåé¢ï¼Œscrollå¤–é¢ã€‚å¹¶æ·»åŠ v-show = &quot;isTabFixed&quot;  isTabFixedé»˜è®¤å€¼æ˜¯false</span><br><span class="line"></span><br><span class="line">+ ```</span><br><span class="line">      &lt;tab-control :titles = &quot;titles&quot; </span><br><span class="line">                    class=&quot;tab-control&quot; </span><br><span class="line">                    @tabClick= &quot;tabClick&quot;</span><br><span class="line">                    :class = &quot;&#123;fixed:isTabFixed&#125;&quot;</span><br><span class="line">                    v-show = &quot;isTabFixed&quot;&gt;</span><br><span class="line">      &lt;/tab-cotrol&gt;</span><br></pre></td></tr></table></figure>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä»–æ˜¯falseçš„ï¼Œå½“æ»šåˆ°è¦æ˜¾ç¤ºé‚£ä¸ªåœ°æ–¹ï¼Œä»–å°±å‡ºç°ã€‚å¹¶å°†åŸæœ‰çš„è¦†ç›–ã€‚ç”¨æˆ·çœ‹èµ·æ¥å¥½åƒåœç•™åœ¨è¿™é‡Œäº†ã€‚</p>
<ul>
<li>
<p>æ–°é—®é¢˜ï¼šç‚¹å‡»æ–°æ¬¾ï¼Œå¹¶æ²¡æœ‰æ›´æ–°ï¼Œè¯´æ˜è¿™ä¸¤ä¸ªTabControlå¹¶æ²¡æœ‰ä¿æŒä¸€è‡´æˆ‘ä»¬åªéœ€è¦æ‹¿åˆ°tabControlï¼Œå®ƒé‡Œé¢çš„currentIndexè®°å½•äº†å½“å‰é€‰ä¸­çš„æ˜¯å“ªä¸ªç±»å‹ã€‚æ‰€ä»¥ ä¸¤ä¸ªtabControlè®¾ç½®ä¸åŒçš„tabControl2ã€‚åœ¨ç›‘å¬ç‚¹å‡»çš„ä½ç½®ï¼Œç­‰ç‚¹å‡»å®Œæˆä¹‹åï¼Œthis.$refs.tabControl1.currentIndex</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">tabClick(index) &#123;</span><br><span class="line">  // console.log(index)</span><br><span class="line">  switch (index) &#123;</span><br><span class="line">    case 0: this.currentType = &#x27;pop&#x27;</span><br><span class="line">    break</span><br><span class="line">    case 1: this.currentType = &#x27;new&#x27;</span><br><span class="line">    break</span><br><span class="line">    case 2: this.currentType = &#x27;sell&#x27;</span><br><span class="line">    break</span><br><span class="line">  &#125;</span><br><span class="line">  //index æ˜¯æœ€æ–°ç‚¹å‡»çš„ã€‚æ›´æ–°index</span><br><span class="line">  this.$refs.tabControl1.currentIndex = index;</span><br><span class="line">  this.$refs.tabControl2.currentIndex = index;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ä¸€ç›´å›°æ‰°æˆ‘çš„é—®é¢˜ï¼šé¦–æ¬¡è¿›å…¥é¡µé¢ï¼šè½®æ’­å›¾æ²¡æœ‰æ•ˆæœã€‚ä½†åˆ‡æ¢å…¶ä»–é¡µé¢å†åˆ‡æ¢å›æ¥ï¼Œåˆæ˜¾ç¤ºäº†ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</p>
</li>
<li>
<p>ä¸ºä»€ä¹ˆåŠ è½½åº•éƒ¨ä¼šæœ‰å¤§ç‰‡ç©ºç™½ï¼Ÿï¼Ÿä¸ºä»€ä¹ˆåˆ‡æ¢æ˜¯ï¼Œæ²¡æœ‰å¯¹åº”å›¾ç‰‡å±•ç¤ºï¼Ÿï¼Ÿæœ‰æ—¶å‡ºç°ï¼Œå¤§å¤šæ•°æ—¶å€™æ²¡</p>
</li>
<li>
<p>æ²¡æœ‰åŠæ³•åˆ‡æ¢ æµè¡Œï¼Œé¦–é¡µï¼Œæ•°æ®ï¼Œä½†æ˜¯ç»„ä»¶åœ¨scrollå¤–é¢å¯ä»¥ï¼Œé‡Œé¢å°±å¯ä»¥(åŸå› æ˜¯ä¸Šé¢ä»£ç ä¸­ä¸¤ä¸ªindexèµ‹å€¼éƒ½ç»™äº†tabControl1ï¼Œå†™é”™äº†)</p>
</li>
<li>
<h4 id="é‡åˆ°çš„é—®é¢˜ï¼šå½“æˆ‘ä»¬ç¦»å¼€é¦–é¡µåï¼Œå†å›æ¥ï¼Œå¦‚æœå¾ˆå¿«å°±å›æ¥ï¼Œä¼šä¿æŒç¦»å¼€æ—¶çš„æµè§ˆä½ç½®ã€‚ä½†å¦‚æœç¨å¾®æ…¢ä¸€ç‚¹ï¼Œå†è¿›æ¥å°±å›åˆ°äº†æœ€å¼€å§‹ã€‚">é‡åˆ°çš„é—®é¢˜ï¼šå½“æˆ‘ä»¬ç¦»å¼€é¦–é¡µåï¼Œå†å›æ¥ï¼Œå¦‚æœå¾ˆå¿«å°±å›æ¥ï¼Œä¼šä¿æŒç¦»å¼€æ—¶çš„æµè§ˆä½ç½®ã€‚ä½†å¦‚æœç¨å¾®æ…¢ä¸€ç‚¹ï¼Œå†è¿›æ¥å°±å›åˆ°äº†æœ€å¼€å§‹ã€‚<a class="anchor" href="#é‡åˆ°çš„é—®é¢˜ï¼šå½“æˆ‘ä»¬ç¦»å¼€é¦–é¡µåï¼Œå†å›æ¥ï¼Œå¦‚æœå¾ˆå¿«å°±å›æ¥ï¼Œä¼šä¿æŒç¦»å¼€æ—¶çš„æµè§ˆä½ç½®ã€‚ä½†å¦‚æœç¨å¾®æ…¢ä¸€ç‚¹ï¼Œå†è¿›æ¥å°±å›åˆ°äº†æœ€å¼€å§‹ã€‚">Â·</a></h4>
<ul>
<li>
<p>åŸå› ï¼šè¿™äº›ç»„ä»¶éƒ½æ˜¯é€šè¿‡è·¯ç”±æ¥å®ç°ç®¡ç†çš„ï¼Œå½“è·³è½¬åˆ°åˆ†ç±»é¡µï¼Œé¦–é¡µå°±é”€æ¯äº†ã€‚æ‰€ä»¥æˆ‘ä»¬å†è¿›å…¥çš„æ—¶å€™Homeåˆé‡æ–°åˆ›å»ºã€‚è§£å†³ï¼šå¯¹App.vueé‡Œé¢çš„router-viewåŒ…è£¹ä¸€å±‚keep-aliveã€‚ä½†è¿˜æ˜¯æœ‰é—®é¢˜ï¼Œ</p>
<ul>
<li>
<p>1.è™½ç„¶Homeç»„ä»¶æ²¡æœ‰è¢«é”€æ¯ï¼Œä½†better-scrollå†…éƒ¨çš„é—®é¢˜å¯¼è‡´æ•ˆæœå¹¶æ²¡æœ‰ç”Ÿæ•ˆï¼ˆå®‰å“æ‰‹æœºç”Ÿæ•ˆäº†ï¼‰ã€‚</p>
</li>
<li>
<p>2.æˆ‘ä»¬è¦è®©Homeä¸­çš„å†…å®¹ä¿æŒåŸæ¥æ»šåŠ¨çš„ä½ç½®ã€‚ç¦»å¼€æ—¶ä¿æŒä¸€ä¸ªä½ç½®ä¿¡æ¯ï¼Œå†è¿›å…¥çš„æ—¶å€™è®¾ç½®æˆä¹‹é—´çš„ä½ç½®</p>
</li>
<li>
<p>3.ç›‘å¬ä»€ä¹ˆæ—¶å€™ç¦»å¼€ï¼Œactivatedå’Œdeactivatedã€‚ä¸€ä¸ªæ˜¯åœ¨è¿›æ¥ï¼Œä¸€ä¸ªæ˜¯åœ¨æ‹‰å¼€çš„æ—¶å€™è°ƒç”¨ã€‚</p>
</li>
</ul>
</li>
<li>
<p>Homeç»„ä»¶</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">  activated() &#123;</span><br><span class="line">  //è¿›å…¥çš„æ—¶å€™è®¾ç½®é«˜åº¦,xä¸éœ€è¦æ»šåŠ¨ï¼Œä¹Ÿä¸éœ€è¦å‡ ç§’ä¹‹å†…,åº”è¯¥æ˜¯è¿…é€Ÿå›åˆ°åŸä½ç½®</span><br><span class="line">      this.$refs.scroll.scrollTo(0, this.saveY, 0)</span><br><span class="line">  //è¿˜è¦è¿›è¡Œåˆ·æ–°ï¼Œä¸ç„¶æœ‰æ—¶å€™ä¼šå‡ºé—®é¢˜ã€‚ä½†æˆ‘ä»¬åœ¨è¿›æ¥çš„æ—¶å€™æ»šåŠ¨åˆ°åŸæ¥çš„ä½ç½®ï¼Œå¹¶è¿›è¡Œä¸€æ¬¡å±æ€§</span><br><span class="line">      this.$refs.scroll.refresh();</span><br><span class="line">&#125;,</span><br><span class="line">    deactivated() &#123;</span><br><span class="line">  // ç¦»å¼€çš„æ—¶å€™æ‹¿åˆ°é«˜åº¦è¿›è¡Œä¿å­˜</span><br><span class="line">      // this.saveY = this.$refs.scroll.scroll.y  å¯¹è¿™ä¸ªè·å–åšä¸€å±‚å°è£…</span><br><span class="line">  this.saveY = this.$refs.scroll.getScrollY() </span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>
<p>åœ¨scrollç»„ä»¶ä¸­ï¼šmethodsä¸­å°è£…å‡½æ•°</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">getScrollY()&#123;</span><br><span class="line">   return this.scroll ? this.scroll.y : 0;</span><br><span class="line">     &#125;,</span><br></pre></td></tr></table></figure></li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>é¡¹ç›®3ï¼šè´­ç‰©è¡—é¡¹ç›®:å­¦ä¹ ç¬”è®°</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://www.nesxc.com/post/hexocc.html">https://www.nesxc.com/post/hexocc.html</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>ä½œè€…</h><div class="post-copyright-cc-info"><h>é£å„¿</h></div></div><div class="post-copyright-c"><h>å‘å¸ƒäº</h><div class="post-copyright-cc-info"><h>2021-12-13</h></div></div><div class="post-copyright-u"><h>æ›´æ–°äº</h><div class="post-copyright-cc-info"><h>2023-01-09</h></div></div><div class="post-copyright-c"><h>è®¸å¯åè®®</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post_share"><div class="social-share" data-image="https://images.unsplash.com/photo-1636980015567-01c079ac7304?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=435&amp;q=80" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div id="wpac-rating"></div><script>wpac_init = window.wpac_init || [];
wpac_init.push({widget: 'Rating', id: 33234});
(function() {
  if ('WIDGETPACK_LOADED' in window) return;
  WIDGETPACK_LOADED = true;
  var mc = document.createElement('script');
  mc.type = 'text/javascript';
  mc.async = true;
  //- mc.src = '//embed.widgetpack.com/widget.js';
  var s = document.getElementsByTagName('script')[0];
  s?.parentNode?.insertBefore(mc, s?.nextSibling);
})();</script><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/159855229.html"><img class="prev-cover" src="https://images.unsplash.com/photo-1636980015567-01c079ac7304?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=435&amp;q=80" onerror="onerror=null;src='https://mynightwish.oss-cn-beijing.aliyuncs.com/staticResource/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">é¡¹ç›®3ï¼šè´­ç‰©è¡—é¡¹ç›®:é—®é¢˜æ€»ç»“</div></div></a></div><div class="next-post pull-right"><a href="/posts/2071449193.html"><img class="next-cover" src="https://images.unsplash.com/photo-1638454909775-82b870c6580d?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=387&amp;q=80" onerror="onerror=null;src='https://mynightwish.oss-cn-beijing.aliyuncs.com/staticResource/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">é¡¹ç›®2-å»å“ªå„¿ç½‘ï¼šé¡¹ç›®è®°å½•ç¯‡</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E9%A6%96%E9%A1%B5Home%E7%AC%94%E8%AE%B0"><span class="toc-text">é¡¹ç›®é¦–é¡µHomeç¬”è®°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE%EF%BC%9A%E9%A1%B9%E7%9B%AE%E7%9A%84%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E5%88%92%E5%88%86%EF%BC%88%E4%B8%BB%E8%A6%81%E6%98%AFSrc%EF%BC%89"><span class="toc-text">é¡¹ç›®ç›¸å…³é…ç½®ï¼šé¡¹ç›®çš„ç›®å½•ç»“æ„åˆ’åˆ†ï¼ˆä¸»è¦æ˜¯Srcï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-normalize-css%E5%92%8Cbase-css"><span class="toc-text">3.normalize.csså’Œbase.css</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-vue-config-js%E6%96%87%E4%BB%B6%E5%92%8C-editorconfig"><span class="toc-text">4.vue.config.jsæ–‡ä»¶å’Œ.editorconfig</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E9%85%8D%E7%BD%AE%E4%B9%8B%E5%89%8D%E5%86%99%E5%A5%BD%E7%9A%84MainBar%E7%BB%84%E4%BB%B6"><span class="toc-text">5.é…ç½®ä¹‹å‰å†™å¥½çš„MainBarç»„ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E9%A1%B9%E7%9B%AE%E6%A8%A1%E5%9D%97%E7%9A%84%E5%88%92%E5%88%86%E4%B8%8E%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF"><span class="toc-text">6.é¡¹ç›®æ¨¡å—çš„åˆ’åˆ†ä¸è·¯ç”±é…ç½®ä¿¡æ¯</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AF%BC%E8%88%AA%E6%A0%8F%E5%BC%80%E5%8F%91"><span class="toc-text">1. å¯¼èˆªæ å¼€å‘</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E7%9A%84%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA%E6%96%B9%E5%BC%8F%EF%BC%9A"><span class="toc-text">æ¨¡å—çš„å¯¼å…¥å¯¼å‡ºæ–¹å¼ï¼š</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Vue%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">Vueçš„ç”Ÿå‘½å‘¨æœŸ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E9%A6%96%E9%A1%B5%E8%BD%AE%E6%92%AD%E5%9B%BE"><span class="toc-text">3.é¦–é¡µè½®æ’­å›¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E9%A6%96%E9%A1%B5%E6%8E%A8%E8%8D%90%E4%BF%A1%E6%81%AF"><span class="toc-text">4.é¦–é¡µæ¨èä¿¡æ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%9C%AC%E5%91%A8%E6%B5%81%E8%A1%8C"><span class="toc-text">5. æœ¬å‘¨æµè¡Œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%8E%A7%E5%88%B6%E6%A0%8F"><span class="toc-text">6.æ§åˆ¶æ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E6%8E%A7%E5%88%B6%E6%A0%8F%E7%82%B9%E5%87%BB%E4%B9%8B%E5%90%8E%E7%9A%84%E6%95%B0%E6%8D%AE%E8%AF%B7%E6%B1%82"><span class="toc-text">7.æ§åˆ¶æ ç‚¹å‡»ä¹‹åçš„æ•°æ®è¯·æ±‚</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%AF%B7%E6%B1%82%E6%93%8D%E4%BD%9C%EF%BC%9A"><span class="toc-text">æ•°æ®è¯·æ±‚æ“ä½œï¼š</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E5%95%86%E5%93%81%E6%95%B0%E6%8D%AE%E5%B1%95%E7%A4%BA"><span class="toc-text">8. å•†å“æ•°æ®å±•ç¤º</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BF%9D%E5%AD%98%E5%90%8E%EF%BC%8C%E5%A6%82%E4%BD%95%E6%98%BE%E7%A4%BA%E5%9C%A8%E9%A1%B5%E9%9D%A2%E4%B8%8A%E5%91%A2%EF%BC%9F-%E7%BB%84%E4%BB%B6GoodsItem%E5%92%8CGoodsList"><span class="toc-text">è¯·æ±‚çš„æ•°æ®ä¿å­˜åï¼Œå¦‚ä½•æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šå‘¢ï¼Ÿ ç»„ä»¶GoodsItemå’ŒGoodsList</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Home%E7%BB%84%E4%BB%B6%E4%B8%AD%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E5%8A%A8%E6%80%81%E4%BC%A0%E7%BB%99%E5%AD%90%E7%BB%84%E4%BB%B6%EF%BC%9F%EF%BC%9F"><span class="toc-text">Homeç»„ä»¶ä¸­å¦‚ä½•å®ç°æ•°æ®åŠ¨æ€ä¼ ç»™å­ç»„ä»¶ï¼Ÿï¼Ÿ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Home%E4%B8%AD%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E4%BC%98%E5%8C%96"><span class="toc-text">Homeä¸­è®¡ç®—å±æ€§ä¼˜åŒ–</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E5%85%B3%E4%BA%8EBetter-scroll"><span class="toc-text">9.å…³äºBetter-scroll</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%A8Category%E7%BB%84%E4%BB%B6%E9%87%8C%E8%BF%99%E6%A0%B7%E5%81%9A%EF%BC%88%E5%AE%9E%E9%AA%8C%EF%BC%89%EF%BC%8C%E5%B1%80%E9%83%A8%E5%8C%BA%E5%9F%9F%E6%BB%9A%E5%8A%A8%E7%9A%84%E5%8E%9F%E7%94%9F%E5%81%9A%E6%B3%95"><span class="toc-text">åœ¨Categoryç»„ä»¶é‡Œè¿™æ ·åšï¼ˆå®éªŒï¼‰ï¼Œå±€éƒ¨åŒºåŸŸæ»šåŠ¨çš„åŸç”Ÿåšæ³•</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Better-scroll%E7%9A%84%E8%BF%9B%E4%B8%80%E6%AD%A5%E6%8B%93%E5%B1%95"><span class="toc-text">Better-scrollçš„è¿›ä¸€æ­¥æ‹“å±•</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%B9Better-scrolld%E8%BF%9B%E4%B8%80%E6%AD%A5%E5%B0%81%E8%A3%85"><span class="toc-text">å¯¹Better-scrolldè¿›ä¸€æ­¥å°è£…</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9A%E5%BD%93%E6%88%91%E4%BB%AC%E7%A6%BB%E5%BC%80%E9%A6%96%E9%A1%B5%E5%90%8E%EF%BC%8C%E5%86%8D%E5%9B%9E%E6%9D%A5%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%BE%88%E5%BF%AB%E5%B0%B1%E5%9B%9E%E6%9D%A5%EF%BC%8C%E4%BC%9A%E4%BF%9D%E6%8C%81%E7%A6%BB%E5%BC%80%E6%97%B6%E7%9A%84%E6%B5%8F%E8%A7%88%E4%BD%8D%E7%BD%AE%E3%80%82%E4%BD%86%E5%A6%82%E6%9E%9C%E7%A8%8D%E5%BE%AE%E6%85%A2%E4%B8%80%E7%82%B9%EF%BC%8C%E5%86%8D%E8%BF%9B%E6%9D%A5%E5%B0%B1%E5%9B%9E%E5%88%B0%E4%BA%86%E6%9C%80%E5%BC%80%E5%A7%8B%E3%80%82"><span class="toc-text">é‡åˆ°çš„é—®é¢˜ï¼šå½“æˆ‘ä»¬ç¦»å¼€é¦–é¡µåï¼Œå†å›æ¥ï¼Œå¦‚æœå¾ˆå¿«å°±å›æ¥ï¼Œä¼šä¿æŒç¦»å¼€æ—¶çš„æµè§ˆä½ç½®ã€‚ä½†å¦‚æœç¨å¾®æ…¢ä¸€ç‚¹ï¼Œå†è¿›æ¥å°±å›åˆ°äº†æœ€å¼€å§‹ã€‚</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2023 By é£å„¿</div><div id="running-time"></div><div class="footer_custom_text"><p><a style="margin-inline:5px"target="_blank" href="https://hexo.io/"><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="åšå®¢æ¡†æ¶ä¸º Hexo" alt="HEXO"></a><a style="margin-inline:5px"target="_blank" href="https://butterfly.js.org/"><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="ä¸»é¢˜é‡‡ç”¨ Butterfly" alt="Butterfly"></a><a style="margin-inline:5px"target="_blank" href="https://www.jsdelivr.com/"><img src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&logo=jsDelivr" title="æœ¬ç«™ä½¿ç”¨ Jsdelivr ä¸ºé™æ€èµ„æºæä¾›CDNåŠ é€Ÿ" alt="Jsdelivr"></a><a style="margin-inline:5px"target="_blank" href="https://github.com/"><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&logo=GitHub" title="æœ¬ç«™é¡¹ç›®ç”± GitHub æ‰˜ç®¡" alt="GitHub"></a><a style="margin-inline:5px"target="_blank"href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris" alt="img" title="æœ¬ç«™é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯"></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><a class="icon-V hidden" onclick="switchNightMode()" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="to_comment" type="button" title="ç›´è¾¾è¯„è®º" onclick="FixedCommentBtn();"><i class="fas fa-comments"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button><button id="go-down" type="button" title="ç›´è¾¾åº•éƒ¨" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(()=>{
  const $countDom = document.getElementById('twikoo-count')
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo-hexo-vert.vercel.app/',
      region: ''
    }, null))
  }

  const getCount = () => {
    twikoo.getCommentsCount({
      envId: 'https://twikoo-hexo-vert.vercel.app/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      $countDom.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const loadTwikoo = (bool = false) => {
    if (typeof twikoo === 'object') {
      init()
      bool && $countDom && setTimeout(getCount,0)
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(()=> {
        init()
        bool && $countDom && setTimeout(getCount,0)
      })
    }
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo(true)
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><div defer class="aplayer no-destroy" data-id="31872922" data-server="netease" data-type="artist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-preload="none" data-autoplay="false" muted></div><script async data-pjax src="https://cdn.jsdelivr.net/npm/hexo-beautiful-page@latest/lib/asyncmodel.min.js"></script><div id="live3d" class="live3d" style="position: fixed; left: -110px; bottom: 30px;z-index: 98;"><canvas id="live2dm" class="live3d"style="max-width:500px;max-height:437.5px;"></canvas></div><script defer data-pjax src="/js/bottomTime.js"></script><script defer data-pjax src="/js/nav.js"></script><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script defer src="/js/cursor.js"></script><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script defer data-pjax src="/js/emoji.js"></script><script defer data-pjax src="/js/sun_moon.js" async></script><script defer src="https://cdn1.tianli0.top/gh/nextapps-de/winbox/dist/winbox.bundle.min.js"></script><script async src="//at.alicdn.com/t/c/font_3859043_rw1ayonelb.js"></script><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><script defer data-pjax src="/js/meihua.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="false"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config-diff',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '#web_bg',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.removeEventListener('scroll', window.tocScrollFn)
  window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
    function butterfly_categories_card_injector_config(){
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<style>li.categoryBar-list-item{width:24%;}.categoryBar-list{max-height: 570px;overflow:auto;}.categoryBar-list::-webkit-scrollbar{width:0!important}@media screen and (max-width: 650px){.categoryBar-list{max-height: 480px;}}</style><div class="recent-post-item" style="height:auto;width:100%;padding:0px;"><div id="categoryBar"><ul class="categoryBar-list"><li class="categoryBar-list-item" style="background:url(https://npm.elemecdn.com/akilar-candyassets/image/cover1.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/1-1-CSS/&quot;);" href="javascript:void(0);">1.1-CSS</a><span class="categoryBar-list-count">17</span><span class="categoryBar-list-descr">CSSçš„é…·ç‚«å¤šå½©</span></li><li class="categoryBar-list-item" style="background:url(https://npm.elemecdn.com/akilar-candyassets/image/cover1.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/1-2-JS/&quot;);" href="javascript:void(0);">1.2-JS</a><span class="categoryBar-list-count">29</span><span class="categoryBar-list-descr">æ•°æ®ã€å‡½æ•°ã€å¼‚æ­¥</span></li><li class="categoryBar-list-item" style="background:url(https://npm.elemecdn.com/akilar-candyassets/image/cover1.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/1-3-Ajax/&quot;);" href="javascript:void(0);">1.3-Ajax</a><span class="categoryBar-list-count">3</span><span class="categoryBar-list-descr">Ajaxçš„è¯ç”Ÿ</span></li><li class="categoryBar-list-item" style="background:url(https://npm.elemecdn.com/akilar-candyassets/image/cover1.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/1-4-æ¡†æ¶/&quot;);" href="javascript:void(0);">1.4-æ¡†æ¶</a><span class="categoryBar-list-count">15</span><span class="categoryBar-list-descr">Vue&amp;Reactçš„ä¸–ç•Œ</span></li><li class="categoryBar-list-item" style="background:url(https://npm.elemecdn.com/akilar-candyassets/image/cover2.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/2-1-ç»„ä»¶åº“/&quot;);" href="javascript:void(0);">2.1-ç»„ä»¶åº“</a><span class="categoryBar-list-count">2</span><span class="categoryBar-list-descr">ç»„ä»¶åº“å¼€å‘</span></li><li class="categoryBar-list-item" style="background:url(https://npm.elemecdn.com/akilar-candyassets/image/cover2.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/2-2-åŸºå»º/&quot;);" href="javascript:void(0);">2.2-åŸºå»º</a><span class="categoryBar-list-count">5</span><span class="categoryBar-list-descr">å‰ç«¯å·¥ç¨‹åŒ–</span></li><li class="categoryBar-list-item" style="background:url(https://npm.elemecdn.com/akilar-candyassets/image/cover2.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/2-3-å®ç°Tricks/&quot;);" href="javascript:void(0);">2.3-å®ç°Tricks</a><span class="categoryBar-list-count">4</span><span class="categoryBar-list-descr">åŠŸèƒ½å®ç°ç§¯ç´¯</span></li><li class="categoryBar-list-item" style="background:url(https://npm.elemecdn.com/akilar-candyassets/image/cover2.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/2-4-é¡¹ç›®/&quot;);" href="javascript:void(0);">2.4-é¡¹ç›®</a><span class="categoryBar-list-count">12</span><span class="categoryBar-list-descr">é¡¹ç›®æ€»ç»“</span></li><li class="categoryBar-list-item" style="background:url(https://npm.elemecdn.com/akilar-candyassets/image/cover6.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/3-1-è®°å½•/&quot;);" href="javascript:void(0);">3.1-è®°å½•</a><span class="categoryBar-list-count">3</span><span class="categoryBar-list-descr">bidaoTalk</span></li><li class="categoryBar-list-item" style="background:url(https://npm.elemecdn.com/akilar-candyassets/image/cover6.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/3-2-æµè§ˆå™¨/&quot;);" href="javascript:void(0);">3.2-æµè§ˆå™¨</a><span class="categoryBar-list-count">8</span><span class="categoryBar-list-descr">æµè§ˆå™¨æ¸²æŸ“</span></li><li class="categoryBar-list-item" style="background:url(https://npm.elemecdn.com/akilar-candyassets/image/cover6.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/3-3-åŸºç¡€/&quot;);" href="javascript:void(0);">3.3-åŸºç¡€</a><span class="categoryBar-list-count">10</span><span class="categoryBar-list-descr">è®¡ç®—æœºåŸºç¡€</span></li><li class="categoryBar-list-item" style="background:url(https://npm.elemecdn.com/akilar-candyassets/image/cover6.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/3-4-Tool/&quot;);" href="javascript:void(0);">3.4-Tool</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">å°å·¥å…·</span></li></ul></div></div>';
      console.log('å·²æŒ‚è½½butterfly_categories_card')
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      }
    if( document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    butterfly_categories_card_injector_config()
    }
  </script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/2621268747.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://mynightwish.oss-cn-beijing.aliyuncs.com/React/react-virtualDom.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2021-12-13</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/2621268747.html&quot;);" href="javascript:void(0);" alt="">Reactçš„è™šæ‹ŸDOM</a><div class="blog-slider__text">å…„å¼Ÿç¯‡Reactçš„è™šæ‹ŸDOMï¼ŒåŒ…æ‹¬äº†æ ˆè°ƒå’Œ</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/2621268747.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/ReactHooks.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://mynightwish.oss-cn-beijing.aliyuncs.com/React/hook1.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2021-12-11</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/ReactHooks.html&quot;);" href="javascript:void(0);" alt="">React-Hookçš„å‡ºç°</a><div class="blog-slider__text">ä¸ºä½•Hooksæ˜¯Reactçš„æœªæ¥</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/ReactHooks.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/656350506.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://mynightwish.oss-cn-beijing.aliyuncs.com/CSS/æµè§ˆå™¨å¼‚æ­¥.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2021-12-11</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/656350506.html&quot;);" href="javascript:void(0);" alt="">JSçš„EventLoop</a><div class="blog-slider__text">å¼‚æ­¥ä¸åŒæ­¥ã€å®ä»»åŠ¡ã€å¾®ä»»åŠ¡</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/656350506.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/3384747987.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTfnIl0f3oUJLgGFb7Qgi97y1hY9uIQsHizXQ&amp;usqp=CAU" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2021-12-11</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/3384747987.html&quot;);" href="javascript:void(0);" alt="">JSçš„å¼‚æ­¥è§£å†³æ–¹æ¡ˆ</a><div class="blog-slider__text">å‰ç«¯å¼‚æ­¥ä¹‹è·¯</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/3384747987.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('å·²æŒ‚è½½butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="/js/swiper_init.js"></script><!-- hexo injector body_end end --><script async>window.onload=function(){var a=document.createElement('script'),b=document.getElementsByTagName('script')[0];a.type='text/javascript',a.async=!0,a.src='/sw-register.js?v='+Date.now(),b.parentNode.insertBefore(a,b)};</script></body></html>